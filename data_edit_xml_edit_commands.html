
<div style="width: 80em">

<h1>Editing Dita using Geany or PCD</h1>

<p><a format="html" href="https://metacpan.org/pod/Data::Edit::Xml">Data::Edit::Xml</a> is a Perl extension module that can help you edit <a format="html" href="http://docs.oasis-open.org/dita/dita/v1.3/os/part2-tech-content/dita-v1.3-os-part2-tech-content.html">Dita</a> either
interactively using <a format="html" href="https://www.geany.org">Geany</a> or in batch using <a format="html" href="https://metacpan.org/pod/Dita::PCD">Dita::PCD</a> files.

<h2>Configuring Geany to Edit Dita and PCD</h2>

<p>Please obtain a version of <a format="html" href="https://ubuntu.com/download/desktop">Ubuntu 18</a> and follow the instructions at
<a format="html" href="https://github.com/philiprbrenan/philiprbrenan.github.io/blob/master/pcd_installation.md">PCD installation</a>.

<h2>Editing Dita interactively with Geany</h2>

<p>You can use many of the methods found in <a format="html" href="https://metacpan.org/pod/Data::Edit::Xml">Data::Edit::Xml</a> one at a time directly from
the <a format="html" href="https://www.geany.org">Geany</a> editor when it has been configured for <a format="html" href="http://docs.oasis-open.org/dita/dita/v1.3/os/part2-tech-content/dita-v1.3-os-part2-tech-content.html">Dita</a> editing. The
methods executed are recorded in log visible in another <a format="html" href="https://www.geany.org">Geany</a> tab so that
they can be edited directly into a program that is being developed to use
<a format="html" href="https://metacpan.org/pod/Data::Edit::Xml">Data::Edit::Xml</a> directly from <a format="html" href="http://www.perl.org/">Perl</a> or from <a format="html" href="https://metacpan.org/pod/Dita::PCD">Dita::PCD</a>.

<p>The table below lists the methods that can be used in <a format="html" href="https://www.geany.org">Geany</a>.  Simply type
the method name and any parameters up against a closing <b>&gt;</b> or
<b>&gt;</b> as shown on line <b> 13 </b> like this:

<p><img src="/images/mlp_start.png"/>

<p>and press <b> shift+Enter </b> to merge the two lists:

<p><img src="/images/mlp_finish.png"/>


<h2>Editing Dita in batch using PCD</h2>

<p><a format="html" href="https://metacpan.org/pod/Dita::PCD">Dita::PCD</a> files contain a list of <a format="html" href="https://metacpan.org/pod/Data::Edit::Xml">Data::Edit::Xml</a> commands, one per line, that are applied
to each node of each of the parse trees produced by parsing all of the <a format="html" href="http://docs.oasis-open.org/dita/dita/v1.3/os/part2-tech-content/dita-v1.3-os-part2-tech-content.html">Dita</a>
files found in the same directory tree as the <a format="html" href="https://metacpan.org/pod/Dita::PCD">Dita::PCD</a> file.

<p><a href="https://github.com/philiprbrenan/pleaseChangeDita">This
repository</a> contains two <a format="html" href="http://docs.oasis-open.org/dita/dita/v1.3/os/part2-tech-content/dita-v1.3-os-part2-tech-content.html">Dita</a> <a format="html" href="http://docs.oasis-open.org/dita/dita/v1.3/errata02/os/complete/part3-all-inclusive/langRef/technicalContent/concept.html#concept">Dita Concept</a>s and one <a format="html" href="https://metacpan.org/pod/Dita::PCD">Dita::PCD</a> file. The <a format="html" href="https://metacpan.org/pod/Dita::PCD">Dita::PCD</a>
file unwraps a <b>b</b> tag found under another <b>b</b> tag.

<p>There are four types of line in a <a format="html" href="https://metacpan.org/pod/Dita::PCD">Dita::PCD</a> file:

<p><pre>
1
2   # Comment
3   Unwrap b under b and delete empty paragraphs
4        unwrap b b
5        cutIfEmpty p
</pre></p>

<table cellpadding="20" border="0">
<tr><th>Line<th>Name<th>Description

<tr><td>1<td>Blank lines      <td>Blank lines are ignored

<tr><td>2<td>Comment lines    <td>If the first non space character is <b>#</b>
then this is a comment line and it is ignored.

<tr><td>3<td>Description lines<td>If the first character is not a space it is a
description line whose purpose is to communicate with other humans what the
following commands aim to do.

<tr><td>4<td>Command lines    <td>If the first character is a space then the
rest of the line is command line: a method name chosen from <a format="html" href="https://metacpan.org/pod/Data::Edit::Xml">Data::Edit::Xml</a> followed by
any parameters separated from each other by one or more spaces.

</table>

<p>Each <a format="html" href="https://metacpan.org/pod/Dita::PCD">Dita::PCD</a> file can contain zero or more description lines. Each description
line can be followed by zero or more command lines called a "block of command
lines" or "block" for short. <a format="html" href="https://metacpan.org/pod/Dita::PCD">Dita::PCD</a> executes each block against each node in
each of the parse trees constructed by parsing all of the <a format="html" href="http://docs.oasis-open.org/dita/dita/v1.3/os/part2-tech-content/dita-v1.3-os-part2-tech-content.html">Dita</a> files found
in the same folder as the <a format="html" href="https://metacpan.org/pod/Dita::PCD">Dita::PCD</a> files.  Execution of the block continues line
by line until the end of the block or the <a format="html" href="https://metacpan.org/pod/Data::Edit::Xml">Data::Edit::Xml</a> method fails. If the block
completes successfully, the description line for that block is printed out to
show that it "fired".

<p><a format="html" href="https://www.geany.org">Geany</a> on <a format="html" href="https://ubuntu.com/download/desktop">Ubuntu 18</a> has been configured as an <a format="html" href="https://en.wikipedia.org/wiki/Integrated_development_environment">IDE</a> to make editing both
<a format="html" href="https://metacpan.org/pod/Dita::PCD">Dita::PCD</a> and test <a format="html" href="http://docs.oasis-open.org/dita/dita/v1.3/os/part2-tech-content/dita-v1.3-os-part2-tech-content.html">Dita</a> files a pleasant experience with all the usual
facilities provided by such an <a format="html" href="https://en.wikipedia.org/wiki/Integrated_development_environment">IDE</a> such as help choosing command names,
testing the syntax of <a format="html" href="https://metacpan.org/pod/Dita::PCD">Dita::PCD</a> files once they are written, then executing
them against <a format="html" href="http://docs.oasis-open.org/dita/dita/v1.3/os/part2-tech-content/dita-v1.3-os-part2-tech-content.html">Dita</a> files and showing the execution results.</p>

<p>You can also place <a format="html" href="https://metacpan.org/pod/Dita::PCD">Dita::PCD</a> files into the same <a format="html" href="https://s3.console.aws.amazon.com/s3/home">S3</a> Bucket or <a format="html" href="https://github.com">GitHub</a> repo
as your <a format="html" href="http://docs.oasis-open.org/dita/dita/v1.3/os/part2-tech-content/dita-v1.3-os-part2-tech-content.html">Dita</a> files and then process them in bulk with <a format="html" href="https://philiprbrenan.github.io/selfServiceXref.pdf">Self Xref</a>.

<h1>Methods in Data::Edit::Xml that can be used to Edit Dita using Geany or PCD</h1>

<table border="0" cellpadding="20">
<tr><th align="left">Line<th align="left">Method long name<th align="left">aka<th align="left">Parameter<th align="left">Description

<tr><td>1<td>addFirst<td><b></b><td><td>Add a new node L<first|/first> below the specified $ğ—»ğ—¼ğ—±ğ—² with the specified $ğ˜ğ—®ğ—´
unless a node with that tag already exists in that position. Return the new node
if it was created unless return the pre-existing node.

<tr><td><td><td><td>$tag<td>Tag of new node
<tr><td><td><td><td>@context<td>Optional context
<tr><td>2<td>addFirstAsText<td><b></b><td><td>Add a new text node first below the specified $ğ—»ğ—¼ğ—±ğ—² and return the new node
unless a text node already exists there and starts with the same text in which
case return the existing $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>$text<td>Text
<tr><td><td><td><td>@context<td>Optional context
<tr><td>3<td>addLabels<td><b></b><td><td>Add the named labels to the specified $ğ—»ğ—¼ğ—±ğ—² and return the number of labels
added. Labels that are not
L<defined|https://perldoc.perl.org/functions/defined.html> will be ignored.

<tr><td><td><td><td>@labels<td>Names of labels to add.
<tr><td>4<td>addLast<td><b></b><td><td>Add a new node L<last|/last> below the specified $ğ—»ğ—¼ğ—±ğ—² with the specified $ğ˜ğ—®ğ—´
unless a node with that tag already exists in that position. Return the new node
if it was created unless return the pre-existing node..

<tr><td><td><td><td>$tag<td>Tag of new node
<tr><td><td><td><td>@context<td>Optional context
<tr><td>5<td>addLastAsText<td><b></b><td><td>Add a new text node last below the specified $ğ—»ğ—¼ğ—±ğ—² and return the new node
unless a text node already exists there and ends with the same text in which
case return the existing $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>$text<td>Text
<tr><td><td><td><td>@context<td>Optional context
<tr><td>6<td>addNext<td><b></b><td><td>Add a new node L<next|/next> the specified $ğ—»ğ—¼ğ—±ğ—² and return the new node unless
a node with that tag already exists in which case return the existing $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>$tag<td>Tag of new node
<tr><td><td><td><td>@context<td>Optional context
<tr><td>7<td>addNextAsText<td><b></b><td><td>Add a new text node after the specified $ğ—»ğ—¼ğ—±ğ—² and return the new node unless a
text node already exists there and starts with the same text in which case
return the existing $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>$text<td>Text
<tr><td><td><td><td>@context<td>Optional context
<tr><td>8<td>addPrev<td><b></b><td><td>Add a new node L<before|/prev> the specified $ğ—»ğ—¼ğ—±ğ—² with the specified $ğ˜ğ—®ğ—´
unless a node with that tag already exists in that position. Return the new node
if it was created unless return the pre-existing node.

<tr><td><td><td><td>$tag<td>Tag of new node
<tr><td><td><td><td>@context<td>Optional context
<tr><td>9<td>addPrevAsText<td><b></b><td><td>Add a new text node before the specified $ğ—»ğ—¼ğ—±ğ—² and return the new node unless a
text node already exists there and ends with the same text in which case return
the existing $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>$text<td>Text
<tr><td><td><td><td>@context<td>Optional context
<tr><td>10<td>addSingleChild<td><b></b><td><td>Wrap the content of a specified $ğ—»ğ—¼ğ—±ğ—² in a new node with the specified $ğ˜ğ—®ğ—´
unless the content is already wrapped in a single child with the specified $ğ˜ğ—®ğ—´.

<tr><td><td><td><td>$tag<td>Tag of new node
<tr><td><td><td><td>@context<td>Optional context
<tr><td>11<td>addWrapWith<td><b></b><td><td>L<Wrap|/wrap> the specified $ğ—»ğ—¼ğ—±ğ—² with the specified tag if the node is not
already wrapped with such a tag and return the new node unless a node with that
tag already exists in which case return the existing $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>$tag<td>Tag of new node
<tr><td><td><td><td>@context<td>Optional context
<tr><td>12<td>an<td><b></b><td><td>Return the next node if the specified $ğ—»ğ—¼ğ—±ğ—² has the tag specified by $ğ—°ğ˜‚ğ—¿ğ—¿ğ—²ğ—»ğ˜
and the next node is in the specified @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜.

<tr><td><td><td><td>$current<td>Tag node must match
<tr><td><td><td><td>@context<td>Optional context of the next node.
<tr><td>13<td>ancestry<td><b></b><td><td>Return a list containing: (the specified $ğ—»ğ—¼ğ—±ğ—², its parent, its parent's parent
etc..). Or use L<upn|/upn> to go up the specified number of levels.

<tr><td>14<td>ap<td><b></b><td><td>Return the previous node if the specified $ğ—»ğ—¼ğ—±ğ—² has the tag specified by
$ğ—°ğ˜‚ğ—¿ğ—¿ğ—²ğ—»ğ˜ and the previous node is in the specified @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜.

<tr><td><td><td><td>$current<td>Tag node must match
<tr><td><td><td><td>@context<td>Optional context of the previous node.
<tr><td>15<td>apn<td><b></b><td><td>Return (previous node, next node) if the $ğ—½ğ—¿ğ—²ğ˜ƒğ—¶ğ—¼ğ˜‚ğ˜€ and $ğ—°ğ˜‚ğ—¿ğ—¿ğ—²ğ—»ğ˜ nodes have the
specified tags and the next node is in the specified @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ else return ().
The specified @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ must have at least one element otherwise () is returned.

<tr><td><td><td><td>$prev<td>Tag for the previous node
<tr><td><td><td><td>$current<td>Tag for specified node
<tr><td><td><td><td>@context<td>Context for the next node.
<tr><td>16<td>approxLocation<td><b></b><td><td>Return the line number.column location of the node nearest to this node in the
source file if the source was parsed with the L<line number|/lineNumber> option
on.

<tr><td><td><td><td>$file<td>Optionally the location of the source.
<tr><td>17<td>at<td><b></b><td><td>Confirm that the specified $ğ—»ğ—¼ğ—±ğ—² has the specified L<ancestry|/ancestry> and
return the specified $ğ—»ğ—¼ğ—±ğ—² if it does else ğ˜‚ğ—»ğ—±ğ—²ğ—³. Ancestry is specified by
providing the expected tags that the $ğ—»ğ—¼ğ—±ğ—²'s parent, the parent's parent etc.
must match at each level. If ğ˜‚ğ—»ğ—±ğ—²ğ—³ is specified then any tag is assumed to match
at that level. If a regular expression is specified then the current parent node
tag must match the regular expression at that level. If all supplied tags match
successfully then the starting node is returned else ğ˜‚ğ—»ğ—±ğ—²ğ—³

<tr><td><td><td><td>@context<td>Ancestry.
<tr><td>18<td>atOrBelow<td><b></b><td><td>Confirm that the node or one of its ancestors has the specified context as
recognized by L<at|/at> and return the first node that matches the context or
ğ˜‚ğ—»ğ—±ğ—²ğ—³ if none do.

<tr><td><td><td><td>@context<td>Ancestry.
<tr><td>19<td>attrCount<td><b></b><td><td>Return the number of attributes in the specified $ğ—»ğ—¼ğ—±ğ—², optionally ignoring the
specified names from the count.

<tr><td><td><td><td>@exclude<td>Optional attribute names to exclude from the count.
<tr><td>20<td>attrValueAt<td><b></b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² if it has the specified $ğ—®ğ˜ğ˜ğ—¿ğ—¶ğ—¯ğ˜‚ğ˜ğ—² with the specified
$ğ˜ƒğ—®ğ—¹ğ˜‚ğ—² and the optional specified L<ancestry|/ancestry> else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>$attribute<td>Attribute
<tr><td><td><td><td>$value<td>Wanted value of attribute
<tr><td><td><td><td>@context<td>Ancestry.
<tr><td>21<td>bitsNodeTextBlank<td><b></b><td><td>Return a bit string that shows if there are any non text nodes, text nodes or
blank text nodes under a node. An empty string is returned if there are no child
nodes.

<tr><td>22<td>breakIn<td><b></b><td><td>Concatenate the nodes following and preceding the start node, unwrapping nodes
whose tag matches the start node and return the start node. To concatenate only
the preceding nodes, use L<breakInBackwards|/breakInBackwards>, to concatenate
only the following nodes, use L<breakInForwards|/breakInForwards>.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>23<td>breakInBackwards<td><b></b><td><td>Concatenate the nodes preceding the start node, unwrapping nodes whose tag
matches the start node and return the start node in the manner of
L<breakIn|/breakIn>.

<tr><td><td><td><td>@context<td>Optional context..
<tr><td>24<td>breakInForwards<td><b></b><td><td>Concatenate the nodes following the start node, unwrapping nodes whose tag
matches the start node and return the start node in the manner of
L<breakIn|/breakIn>.

<tr><td><td><td><td>@context<td>Optional context..
<tr><td>25<td>breakOut<td><b></b><td><td>Lift child nodes with the specified tags under the specified parent node
splitting the parent node into clones and return the cut out original node.

<tr><td><td><td><td>@tags<td>The tags of the modes to be broken out.
<tr><td>26<td>breakOutChild<td><b></b><td><td>Lift the specified $ğ—»ğ—¼ğ—±ğ—² up one level splitting its parent. Return the specified
$ğ—»ğ—¼ğ—±ğ—² on success or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the operation is not possible.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>27<td>c<td><b></b><td><td>Return an array of all the nodes with the specified tag below the specified
$ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>$tag<td>Tag.
<tr><td>28<td>cText<td><b></b><td><td>Return an array of all the text nodes immediately below the specified $ğ—»ğ—¼ğ—±ğ—².

<tr><td>29<td>change<td><b>cc</b><td><td>Change the name of the specified $ğ—»ğ—¼ğ—±ğ—², optionally confirming that the $ğ—»ğ—¼ğ—±ğ—² is
in a specified context and return the $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>$name<td>New name
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>30<td>changeAttr<td><b></b><td><td>Rename attribute $ğ—¼ğ—¹ğ—± to $ğ—»ğ—²ğ˜„ in the specified $ğ—»ğ—¼ğ—±ğ—² with optional context
@ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ unless attribute $ğ—»ğ—²ğ˜„ is already set and return the $ğ—»ğ—¼ğ—±ğ—². To make
changes regardless of whether the new attribute already exists use
L<renameAttr|/renameAttr>.

<tr><td><td><td><td>$old<td>Existing attribute name
<tr><td><td><td><td>$new<td>New attribute name
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>31<td>changeAttrValue<td><b></b><td><td>Rename attribute $ğ—¼ğ—¹ğ—± to $ğ—»ğ—²ğ˜„ with new value $ğ—»ğ—²ğ˜„ğ—©ğ—®ğ—¹ğ˜‚ğ—² on the specified $ğ—»ğ—¼ğ—±ğ—² in
the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ unless attribute $ğ—»ğ—²ğ˜„ is already set or the value of the
$ğ—¼ğ—¹ğ—± attribute is not $ğ—¼ğ—¹ğ—±ğ—©ğ—®ğ—¹ğ˜‚ğ—². Return the $ğ—»ğ—¼ğ—±ğ—² regardless of what changes
were made. To make changes regardless of whether the new attribute already
exists use L<renameAttrValue|/renameAttrValue>.

<tr><td><td><td><td>$old<td>Existing attribute name
<tr><td><td><td><td>$oldValue<td>Existing attribute value
<tr><td><td><td><td>$new<td>New attribute name
<tr><td><td><td><td>$newValue<td>New attribute value
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>32<td>changeAttributeValue<td><b></b><td><td>Apply a sub to the value of an attribute of the specified $ğ—»ğ—¼ğ—±ğ—². The value to be
changed is supplied and returned in: L<$_>.

<tr><td><td><td><td>$attribute<td>Attribute name
<tr><td><td><td><td>$sub<td>Change sub
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>33<td>changeKids<td><b></b><td><td>Change the names of all the immediate children of the specified $ğ—»ğ—¼ğ—±ğ—², if they
match the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜, to the specified $ğ˜ğ—®ğ—´ and return the $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>$name<td>New name
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>34<td>changeOrDeleteAttr<td><b></b><td><td>Rename attribute $ğ—¼ğ—¹ğ—± to $ğ—»ğ—²ğ˜„ in the specified $ğ—»ğ—¼ğ—±ğ—² in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜
unless attribute $ğ—»ğ—²ğ˜„ is already set in which case delete attribute $ğ—¼ğ—¹ğ—±. Return
$ğ—»ğ—¼ğ—±ğ—² regardless of what action was taken. To make changes regardless of whether
the new attribute already exists use L<renameAttr|/renameAttr>.

<tr><td><td><td><td>$old<td>Existing attribute name
<tr><td><td><td><td>$new<td>New attribute name
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>35<td>changeOrDeleteAttrValue<td><b></b><td><td>Rename attribute $ğ—¼ğ—¹ğ—± to $ğ—»ğ—²ğ˜„ with new value $ğ—»ğ—²ğ˜„ğ—©ğ—®ğ—¹ğ˜‚ğ—² on the specified $ğ—»ğ—¼ğ—±ğ—² in
the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ unless attribute $ğ—»ğ—²ğ˜„ is already set or the value of the
$ğ—¼ğ—¹ğ—± attribute is not $ğ—¼ğ—¹ğ—±ğ—©ğ—®ğ—¹ğ˜‚ğ—² in which cases the $ğ—¼ğ—¹ğ—± attribute is deleted.
Return the $ğ—»ğ—¼ğ—±ğ—² regardless of any changes made. To make changes regardless of
whether the new attribute already exists use
L<renameAttrValue|/renameAttrValue>.

<tr><td><td><td><td>$old<td>Existing attribute name
<tr><td><td><td><td>$oldValue<td>Existing attribute value
<tr><td><td><td><td>$new<td>New attribute name
<tr><td><td><td><td>$newValue<td>New attribute value
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>36<td>changeText<td><b></b><td><td>If the specified $ğ—»ğ—¼ğ—±ğ—² is a text node in the specified context then the
specified ğ˜€ğ˜‚ğ—¯ is passed the text of the node in L<$_>, any changes to which are
recorded in the text of the $ğ—»ğ—¼ğ—±ğ—².\mReturns ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the specified $ğ—»ğ—¼ğ—±ğ—² is not
a text node in the specified optional context else it returns the result of
executing the specified ğ˜€ğ˜‚ğ—¯.

<tr><td><td><td><td>$sub<td>Sub
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>37<td>checkParentage<td><b></b><td><td>Check the parent pointers are correct in a L<parse|/parse> tree.

<tr><td>38<td>checkParser<td><b></b><td><td>Check that every node has a L<parse|/parse>r.

<tr><td>39<td>closestLocation<td><b></b><td><td>Return the nearest node with line number.column information

<tr><td>40<td>concatenateSiblings<td><b></b><td><td>Concatenate the nodes that precede and follow the specified $ğ—»ğ—¼ğ—±ğ—² in the
optioonal @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ as long as they have the same tag as the specified $ğ—»ğ—¼ğ—±ğ—² and
return the specified $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>41<td>containsSingleText<td><b></b><td><td>Return the single text element below the specified $ğ—»ğ—¼ğ—±ğ—² else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>42<td>contentAfter<td><b>ca</b><td><td>Return a list of all the sibling nodes following the specified $ğ—»ğ—¼ğ—±ğ—² or an empty
list if the specified $ğ—»ğ—¼ğ—±ğ—² is last or not in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>43<td>contentAfterAsTags<td><b></b><td><td>Return a string containing the tags of all the sibling nodes following the
specified $ğ—»ğ—¼ğ—±ğ—² separated by single spaces or the empty string if the node is
empty or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the node does not match the optional context. Use
L<matchAfter|/matchAfter> to test the sequence of tags with a regular
expression.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>44<td>contentAfterAsTags2<td><b></b><td><td>Return a string containing the tags of all the sibling nodes following the
specified $ğ—»ğ—¼ğ—±ğ—² separated by two spaces with a single space preceding the first
tag and a single space following the last tag or the empty string if the node is
empty or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the node does not match the optional context. Use
L<matchAfter2|/matchAfter2> to test the sequence of tags with a regular
expression.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>45<td>contentAsTags<td><b></b><td><td>Return a string containing the tags of all the child nodes of the specified
$ğ—»ğ—¼ğ—±ğ—² separated by single spaces or the empty string if the node is empty or
ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the node does not match the optional context. Use L<over|/over> to test
the sequence of tags with a regular expression.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>46<td>contentAsTags2<td><b></b><td><td>Return a string containing the tags of all the child nodes of the specified
$ğ—»ğ—¼ğ—±ğ—² separated by two spaces with a single space preceding the first tag and a
single space following the last tag or the empty string if the node is empty or
ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the node does not match the optional context. Use L<over2|/over2> to
test the sequence of tags with a regular expression. Use L<over2|/over2> to test
the sequence of tags with a regular expression.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>47<td>contentBefore<td><b>cb</b><td><td>Return a list of all the sibling nodes preceding the specified $ğ—»ğ—¼ğ—±ğ—² (in the
normal sibling order) or an empty list if the specified $ğ—»ğ—¼ğ—±ğ—² is last or not in
the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>48<td>contentBeforeAsTags<td><b></b><td><td>Return a string containing the tags of all the sibling nodes preceding the
specified $ğ—»ğ—¼ğ—±ğ—² separated by single spaces or the empty string if the node is
empty or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the node does not match the optional context. Use
L<matchBefore|/matchBefore> to test the sequence of tags with a regular
expression.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>49<td>contentBeforeAsTags2<td><b></b><td><td>Return a string containing the tags of all the sibling nodes preceding the
specified $ğ—»ğ—¼ğ—±ğ—² separated by two spaces with a single space preceding the first
tag and a single space following the last tag or the empty string if the node is
empty or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the node does not match the optional context. Use
L<matchBefore2|/matchBefore2> to test the sequence of tags with a regular
expression.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>50<td>context<td><b></b><td><td>Return a string containing the tag of the starting node and the tags of all its
ancestors separated by single spaces.

<tr><td>51<td>count<td><b></b><td><td>Return the count of the number of instances of the specified tags under the
specified $ğ—»ğ—¼ğ—±ğ—², either by tag in array context or in total in scalar context.

<tr><td><td><td><td>@names<td>Possible tags immediately under the node.
<tr><td>52<td>countAttrNames<td><b></b><td><td>Return a reference to a hash showing the number of instances of each attribute
on and below the specified $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>$count<td>Attribute count so far
<tr><td>53<td>countAttrNamesAndValues<td><b></b><td><td>Return a reference to a hash showing the number of instances of each attribute
name and value on and below the specified $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>$count<td>Count of attributes so far.
<tr><td>54<td>countAttrNamesOnTagExcluding<td><b></b><td><td>Count the number of attributes owned by the specified $ğ—»ğ—¼ğ—±ğ—² that are not in the
specified list.

<tr><td><td><td><td>@attr<td>Attributes to ignore
<tr><td>55<td>countAttrValues<td><b></b><td><td>Return a reference to a hash showing the number of instances of each attribute
value on and below the specified $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>$count<td>Count of attributes so far.
<tr><td>56<td>countLabels<td><b></b><td><td>Return the count of the number of labels at a node.

<tr><td>57<td>countNonEmptyTags<td><b></b><td><td>Return a reference to a hash showing the number of instances of each non empty
tag on and below the specified $ğ—»ğ—¼ğ—±ğ—² excluding any tags named in @ğ—²ğ˜…ğ—°ğ—¹ğ˜‚ğ—±ğ—².

<tr><td><td><td><td>@exclude<td>Tags to exclude from the count
<tr><td>58<td>countOutputClasses<td><b></b><td><td>Count instances of outputclass attributes

<tr><td><td><td><td>$count<td>Count so far.
<tr><td>59<td>countReport<td><b>cr</b><td><td>Count tags, attributes, words below the specified node

<tr><td><td><td><td>@context<td>Optional context
<tr><td>60<td>countTagNames<td><b></b><td><td>Return a reference to a hash showing the number of instances of each tag on and
below the specified $ğ—»ğ—¼ğ—±ğ—² excluding any tags named in @ğ—²ğ˜…ğ—°ğ—¹ğ˜‚ğ—±ğ—².

<tr><td><td><td><td>@exclude<td>Tags to exclude from the count
<tr><td>61<td>countTags<td><b></b><td><td>Count the number of tags in a L<parse|/parse> tree.

<tr><td>62<td>countTexts<td><b></b><td><td>Return a reference to a hash showing the incidence of texts on and below the
specified $ğ—»ğ—¼ğ—±ğ—².

<tr><td>63<td>countWords<td><b></b><td><td>Count instances of words in texts

<tr><td>64<td>createGuidId<td><b></b><td><td>Create an id for the specified $ğ—»ğ—¼ğ—±ğ—² from the md5Sum of its content moving any
existing id to the labels associated with the $ğ—»ğ—¼ğ—±ğ—² and return the existing
$ğ—»ğ—¼ğ—±ğ—².

<tr><td>65<td>cutIfEmpty<td><b></b><td><td>Cut out and return the specified $ğ—»ğ—¼ğ—±ğ—² so that it can be reinserted else where
in the L<parse|/parse> tree if it is empty.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>66<td>deleteAttr<td><b></b><td><td>Delete the named attribute in the specified $ğ—»ğ—¼ğ—±ğ—², optionally check its value
first, returning the value of the attribute or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the attribute does not
exist on this node.

<tr><td><td><td><td>$attr<td>Attribute name
<tr><td><td><td><td>$value<td>Optional attribute value to check first.
<tr><td>67<td>deleteAttrs<td><b></b><td><td>Delete the specified attributes of the specified $ğ—»ğ—¼ğ—±ğ—² without checking their
values and return the node.

<tr><td><td><td><td>@attrs<td>Names of the attributes to delete
<tr><td>68<td>deleteAttrsInTree<td><b></b><td><td>Delete the specified attributes of the specified $ğ—»ğ—¼ğ—±ğ—² and all the nodes under
it and return the specified $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>@attrs<td>Names of the attributes to delete
<tr><td>69<td>deleteContent<td><b></b><td><td>Delete the content of the specified $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>@context<td>Optional context
<tr><td>70<td>deleteLabels<td><b></b><td><td>Delete the specified labels in the specified $ğ—»ğ—¼ğ—±ğ—² or all labels if no labels
have are specified and return that node.

<tr><td><td><td><td>@labels<td>Names of the labels to be deleted
<tr><td>71<td>depth<td><b></b><td><td>Returns the depth of the specified $ğ—»ğ—¼ğ—±ğ—², the depth of a root node is zero.

<tr><td>72<td>depthProfile<td><b></b><td><td>Returns the depth profile of the tree rooted at the specified $ğ—»ğ—¼ğ—±ğ—².

<tr><td>73<td>ditaAddColSpecToTGroup<td><b></b><td><td>Add the specified $ğ—»ğ˜‚ğ—ºğ—¯ğ—²ğ—¿ of column specification to a specified $ğ˜ğ—´ğ—¿ğ—¼ğ˜‚ğ—½ which
does not have any already.

<tr><td><td><td><td>$number<td>Number of colspecs to add
<tr><td>74<td>ditaAddPadEntriesToTGroupRows<td><b></b><td><td>Adding padding entries to a tgroup to make sure every row has the same number of
entries

<tr><td><td><td><td>$nEntries<td>Number of entries
<tr><td>75<td>ditaConvertConceptToReference<td><b></b><td><td>Convert a Dita ğ—°ğ—¼ğ—»ğ—°ğ—²ğ—½ğ˜ to a ğ—¿ğ—²ğ—³ğ—²ğ—¿ğ—²ğ—»ğ—°ğ—². Return ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the conversion is not
possible else return the specified $ğ—°ğ—¼ğ—»ğ—°ğ—²ğ—½ğ˜ as as ğ—¿ğ—²ğ—³ğ—²ğ—¿ğ—²ğ—»ğ—°ğ—².

<tr><td>76<td>ditaConvertConceptToSection<td><b>cs</b><td><td>Convert a Dita ğ—°ğ—¼ğ—»ğ—°ğ—²ğ—½ğ˜ to a $ğ˜€ğ—²ğ—°ğ˜ğ—¶ğ—¼ğ—». Return ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the conversion is not
possible else return the specified $ğ˜€ğ—²ğ—°ğ˜ğ—¶ğ—¼ğ—» as as ğ—°ğ—¼ğ—»ğ—°ğ—²ğ—½ğ˜.

<tr><td>77<td>ditaConvertConceptToTask<td><b>ct</b><td><td>Convert a Dita ğ—°ğ—¼ğ—»ğ—°ğ—²ğ—½ğ˜ to a ğ˜ğ—®ğ˜€ğ—¸ by representing ğ—¼ğ—¹ as ğ˜€ğ˜ğ—²ğ—½ğ˜€. Return ğ˜‚ğ—»ğ—±ğ—²ğ—³ if
the conversion is not possible because there are no ğ—¼ğ—¹ else return the specified
$ğ—°ğ—¼ğ—»ğ—°ğ—²ğ—½ğ˜ as as ğ˜ğ—®ğ˜€ğ—¸.

<tr><td>78<td>ditaConvertDlToUl<td><b></b><td><td>Convert a L<Dita> $ğ—±ğ—¹ to a ğ˜‚ğ—¹ if each ğ—±ğ—¹ğ—²ğ—»ğ˜ğ—¿ğ˜† has only ğ—±ğ˜ or ğ—±ğ—¹ elements but not
both. Return ğ˜‚ğ—»ğ—±ğ—²ğ—³ if such a conversion is not possible else return the new ğ˜‚ğ—¹
node.

<tr><td>79<td>ditaConvertFromHtmlDl<td><b></b><td><td>Convert a ğ—›ğ˜ğ—ºğ—¹ $ğ—±ğ—¹ to a L<Dita> ğ—±ğ—¹ or return ğ˜‚ğ—»ğ—±ğ—²ğ—³ if this is not possible.

<tr><td>80<td>ditaConvertOlToSubSteps<td><b></b><td><td>Convert a L<Dita> $ğ˜‚ğ—¹ to ğ˜€ğ˜‚ğ—¯ğ˜€ğ˜ğ—²ğ—½ğ˜€ else ğ˜‚ğ—»ğ—±ğ—²ğ—³ if this is not possible.

<tr><td><td><td><td>@context<td>Context
<tr><td>81<td>ditaConvertReferenceToConcept<td><b></b><td><td>Convert a Dita ğ—¿ğ—²ğ—³ğ—²ğ—¿ğ—²ğ—»ğ—°ğ—² to a ğ—°ğ—¼ğ—»ğ—°ğ—²ğ—½ğ˜ by unwrapping sections. Return ğ˜‚ğ—»ğ—±ğ—²ğ—³ if
the conversion is not possible because there are no ğ—¼ğ—¹ else return the specified
$ğ—¿ğ—²ğ—³ğ—²ğ—¿ğ—²ğ—»ğ—°ğ—² as as ğ—°ğ—¼ğ—»ğ—°ğ—²ğ—½ğ˜.

<tr><td>82<td>ditaConvertReferenceToTask<td><b></b><td><td>Convert a Dita ğ—¿ğ—²ğ—³ğ—²ğ—¿ğ—²ğ—»ğ—°ğ—² to a ğ˜ğ—®ğ˜€ğ—¸ in situ by representing ğ—¼ğ—¹ as ğ˜€ğ˜ğ—²ğ—½ğ˜€. Return
ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the conversion is not possible because there are no such ğ—¼ğ—¹ else return
the specified $ğ—¿ğ—²ğ—³ğ—²ğ—¿ğ—²ğ—»ğ—°ğ—² as as ğ˜ğ—®ğ˜€ğ—¸.

<tr><td>83<td>ditaConvertSectionToConcept<td><b>sc</b><td><td>Convert a Dita $ğ˜€ğ—²ğ—°ğ˜ğ—¶ğ—¼ğ—» to a ğ—°ğ—¼ğ—»ğ—°ğ—²ğ—½ğ˜. Return ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the conversion is not
possible else return the specified $ğ˜€ğ—²ğ—°ğ˜ğ—¶ğ—¼ğ—» as as ğ—°ğ—¼ğ—»ğ—°ğ—²ğ—½ğ˜.

<tr><td>84<td>ditaConvertSectionToReference<td><b></b><td><td>Convert a Dita $ğ˜€ğ—²ğ—°ğ˜ğ—¶ğ—¼ğ—» to a ğ—¿ğ—²ğ—³ğ—²ğ—¿ğ—²ğ—»ğ—°ğ—². Return ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the conversion is not
possible else return the specified $ğ˜€ğ—²ğ—°ğ˜ğ—¶ğ—¼ğ—» as as ğ—¿ğ—²ğ—³ğ—²ğ—¿ğ—²ğ—»ğ—°ğ—².

<tr><td>85<td>ditaConvertSectionToTask<td><b></b><td><td>Convert a Dita $ğ˜€ğ—²ğ—°ğ˜ğ—¶ğ—¼ğ—» to a ğ˜ğ—®ğ˜€ğ—¸. Return ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the conversion is not
possible else return the specified $ğ˜€ğ—²ğ—°ğ˜ğ—¶ğ—¼ğ—» as as ğ˜ğ—®ğ˜€ğ—¸.

<tr><td>86<td>ditaConvertSimpleTableToTable<td><b></b><td><td>Convert a L<Dita> ğ˜€ğ—¶ğ—ºğ—½ğ—¹ğ—²ğ˜ğ—®ğ—¯ğ—¹ğ—² to a ğ˜ğ—®ğ—¯ğ—¹ğ—².

<tr><td>87<td>ditaConvertSubStepsToSteps<td><b></b><td><td>Change the $ğ˜€ğ˜‚ğ—¯ğ˜€ğ˜ğ—²ğ—½ğ˜€ to ğ˜€ğ˜ğ—²ğ—½ğ˜€ and return the ğ˜€ğ˜ğ—²ğ—½ğ˜€ on success or ğ˜‚ğ—»ğ—±ğ—²ğ—³ on
failure.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>88<td>ditaConvertTopicToTask<td><b></b><td><td>Convert a topic that is not already a task into a task

<tr><td>89<td>ditaConvertUlToSubSteps<td><b></b><td><td>Convert a L<Dita> $ğ—¼ğ—¹ to ğ˜€ğ˜‚ğ—¯ğ˜€ğ˜ğ—²ğ—½ğ˜€ else ğ˜‚ğ—»ğ—±ğ—²ğ—³ if this is not possible.

<tr><td><td><td><td>@context<td>Context
<tr><td>90<td>ditaCouldConvertConceptToTask<td><b></b><td><td>Check whether a concept could be converted to a task

<tr><td>91<td>ditaFixTGroupColSpec<td><b></b><td><td>Fix the colspec attribute and colspec nodes of the specified $ğ˜ğ—´ğ—¿ğ—¼ğ˜‚ğ—½.

<tr><td>92<td>ditaListToChoices<td><b></b><td><td>Change the specified $ğ—¹ğ—¶ğ˜€ğ˜ to ğ—°ğ—µğ—¼ğ—¶ğ—°ğ—²ğ˜€.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>93<td>ditaListToSteps<td><b></b><td><td>Change the specified $ğ—»ğ—¼ğ—±ğ—² to ğ˜€ğ˜ğ—²ğ—½ğ˜€ and its contents to ğ—°ğ—ºğ—±\ğ˜€ğ˜ğ—²ğ—½ optionally only
in the specified context.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>94<td>ditaListToStepsUnordered<td><b></b><td><td>Change the specified $ğ—»ğ—¼ğ—±ğ—² to ğ˜€ğ˜ğ—²ğ—½ğ˜€-ğ˜‚ğ—»ğ—¼ğ—¿ğ—±ğ—²ğ—¿ğ—²ğ—± and its contents to ğ—°ğ—ºğ—±\ğ˜€ğ˜ğ—²ğ—½
optionally only in the specified context.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>95<td>ditaListToSubSteps<td><b></b><td><td>Change the specified $ğ—»ğ—¼ğ—±ğ—² to ğ˜€ğ˜‚ğ—¯ğ˜€ğ˜ğ—²ğ—½ğ˜€ and its contents to ğ—°ğ—ºğ—±\ğ˜€ğ˜ğ—²ğ—½ optionally
only in the specified context.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>96<td>ditaListToTable<td><b></b><td><td>Convert a list to a table in situ - as designed by MiM.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>97<td>ditaMaximumNumberOfEntriesInATGroupRow<td><b></b><td><td>Return the maximum number of entries in the rows of the specified $ğ˜ğ—®ğ—¯ğ—¹ğ—² or
ğ˜‚ğ—»ğ—±ğ—²ğ—³ if not a table.

<tr><td>98<td>ditaMergeLists<td><b></b><td><td>Merge the specified $ğ—»ğ—¼ğ—±ğ—² with the preceding or following list or steps or
substeps if possible and return the specified $ğ—»ğ—¼ğ—±ğ—² regardless.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>99<td>ditaMergeListsOnce<td><b></b><td><td>Merge the specified $ğ—»ğ—¼ğ—±ğ—² with the preceding or following list or steps or
substeps if possible and return the specified $ğ—»ğ—¼ğ—±ğ—² regardless.

<tr><td>100<td>ditaNumberOfColumnsInRow<td><b></b><td><td>Return estimate of the number of columns in a row

<tr><td>101<td>ditaObviousChanges<td><b></b><td><td>Make obvious changes to a L<parse|/parse> tree to make it look more like
L<Dita>.

<tr><td>102<td>ditaParagraphToNote<td><b></b><td><td>Convert all <p> nodes to <note> if the paragraph starts with 'Note:', optionally
wrapping the content of the <note> with a <p>

<tr><td><td><td><td>$wrapNoteContentWithParagaph<td>Wrap the <note> content with a <p> if true
<tr><td>103<td>ditaPrettyPrintWithHeaders<td><b></b><td><td>Add xml headers for the dita document type indicated by the specified
L<parse|/parse> tree to a pretty print of the parse tree.

<tr><td>104<td>ditaRemoveTGroupTrailingEmptyEntries<td><b></b><td><td>Remove empty trailing entry

<tr><td>105<td>ditaRoot<td><b></b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² if it a L<Dita> root node else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td>106<td>ditaStepsToChoices<td><b></b><td><td>Change the specified $ğ—»ğ—¼ğ—±ğ—² to ğ—°ğ—µğ—¼ğ—¶ğ—°ğ—²ğ˜€.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>107<td>ditaStepsToList<td><b></b><td><td>Change the specified $ğ—»ğ—¼ğ—±ğ—² to a node with name $ğ˜ğ—®ğ—´ or to ğ—¼ğ—¹ if $ğ˜ğ—®ğ—´ is not
supplied and its ğ—°ğ—ºğ—±\ğ˜€ğ˜ğ—²ğ—½ content to ğ—¹ğ—¶ to create a list optionally only in the
specified context.

<tr><td><td><td><td>$tag<td>New tag if not ol
<tr><td><td><td><td>@context<td>Optional context
<tr><td>108<td>ditaSyntaxDiagramFromDocBookCmdSynopsis<td><b></b><td><td>Convert doc book cmdsynopsis to Dita syntax diagram

<tr><td>109<td>ditaSyntaxDiagramToBasicRepresentation<td><b></b><td><td>Convert Dita syntax diagrams into Micaela's Basic Version.

<tr><td>110<td>ditaTGroupStatistics<td><b></b><td><td>Return statistics about the rows in a given table

<tr><td>111<td>ditaTopicHeaders<td><b></b><td><td>Add xml headers for the dita document type indicated by the specified
L<parse|/parse> tree

<tr><td><td><td><td>$String<td>Suffix string
<tr><td>112<td>ditaWrapWithPUnderConbody<td><b></b><td><td>Wrap items immediately under L<DITA> ğ—°ğ—¼ğ—»ğ—¯ğ—¼ğ—±ğ˜† with ğ—½ or merge with any previous ğ—½
if the item in question does not fit under ğ—°ğ—¼ğ—»ğ—¯ğ—¼ğ—±ğ˜† but does fit under ğ—½. Return
the current node if it is ğ—°ğ—¼ğ—»ğ—¯ğ—¼ğ—±ğ˜† else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td>113<td>ditaXrefs<td><b></b><td><td>Make obvious changes to all the ğ˜…ğ—¿ğ—²ğ—³s found in a L<parse|/parse> tree to make
them more useful in L<Dita>.

<tr><td>114<td>divideHtmlDocumentIntoSections<td><b></b><td><td>Divide a L<parse|/parse> tree representing an html document into sections based
on the heading tags.

<tr><td>115<td>downWhileFirst<td><b>firstLeaf</b><td><td>Move down from the specified $ğ—»ğ—¼ğ—±ğ—² as long as each lower node is a first node.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>116<td>downWhileHasSingleChild<td><b></b><td><td>Move down from the specified $ğ—»ğ—¼ğ—±ğ—² as long as it has a single child else return
undef.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>117<td>downWhileLast<td><b>lastLeaf</b><td><td>Move down from the specified $ğ—»ğ—¼ğ—±ğ—² as long as each lower node is a last node.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>118<td>dup<td><b>r</b><td><td>Duplicate the specified $ğ—»ğ—¼ğ—±ğ—² in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ and return the new node
created or ğ˜‚ğ—»ğ—±ğ—²ğ—³ on success else ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>119<td>dupN<td><b>rN</b><td><td>Duplicate the specified $ğ—»ğ—¼ğ—±ğ—² $ğ—¡ times in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ and return the
last new node created on success else ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>$N<td>Number of duplications
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>120<td>expandIncludes<td><b></b><td><td>Expand the includes mentioned in a L<parse|/parse> tree: any tag that ends in
ğ—¶ğ—»ğ—°ğ—¹ğ˜‚ğ—±ğ—² is assumed to be an include directive. The file to be included is named
on the ğ—µğ—¿ğ—²ğ—³ keyword. If the file to be included is a relative file name, i.e. it
does not begin with / then this file is made absolute relative to the file from
which this L<parse|/parse> tree was obtained.

<tr><td>121<td>extendSectionToNextSection<td><b></b><td><td>Extend a section tag until it meets the next section tag

<tr><td>122<td>findByForestNumber<td><b></b><td><td>Find the node with the specified L<forest number|/forestNumberTrees> as made
visible on the id attribute by L<prettyStringNumbered|/prettyStringNumbered> in
the L<parse|/parse> tree containing the specified $ğ—»ğ—¼ğ—±ğ—² and return the found
node or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if no such node exists.

<tr><td><td><td><td>$tree<td>Forest number
<tr><td><td><td><td>$id<td>Id number of the node required.
<tr><td>123<td>findById<td><b></b><td><td>Find a node in the parse tree under the specified $ğ—»ğ—¼ğ—±ğ—² with the specified $ğ—¶ğ—±.

<tr><td><td><td><td>$id<td>Id desired.
<tr><td>124<td>findByNumber<td><b></b><td><td>Find the node with the specified number as made visible by
L<prettyStringNumbered|/prettyStringNumbered> in the L<parse|/parse> tree
containing the specified $ğ—»ğ—¼ğ—±ğ—² and return the found node or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if no such
node exists.

<tr><td><td><td><td>$number<td>Number of the node required.
<tr><td>125<td>findByNumbers<td><b></b><td><td>Find the nodes with the specified numbers as made visible by
L<prettyStringNumbered|/prettyStringNumbered> in the L<parse|/parse> tree
containing the specified $ğ—»ğ—¼ğ—±ğ—² and return the found nodes in a list with ğ˜‚ğ—»ğ—±ğ—²ğ—³
for nodes that do not exist.

<tr><td><td><td><td>@numbers<td>Numbers of the nodes required.
<tr><td>126<td>first<td><b></b><td><td>Return the first node below the specified $ğ—»ğ—¼ğ—±ğ—² optionally checking the first
node's context. See L<addFirst|/addFirst> to ensure that an expected node is in
position.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>127<td>firstBy<td><b></b><td><td>Return a list of the first instance of each specified tag encountered in a
post-order traversal from the specified $ğ—»ğ—¼ğ—±ğ—² or a hash of all first instances
if no tags are specified.

<tr><td><td><td><td>@tags<td>Tags to search for.
<tr><td>128<td>firstContextOf<td><b></b><td><td>Return the first node encountered in the specified context in a depth first
post-order traversal of the L<parse|/parse> tree.

<tr><td><td><td><td>@context<td>Array of tags specifying context.
<tr><td>129<td>firstDown<td><b></b><td><td>Return a list of the first instance of each specified tag encountered in a
pre-order traversal from the specified $ğ—»ğ—¼ğ—±ğ—² or a hash of all first instances if
no tags are specified.

<tr><td><td><td><td>@tags<td>Tags to search for.
<tr><td>130<td>firstIn<td><b></b><td><td>Return the first child node matching one of the named tags under the specified
parent node.

<tr><td><td><td><td>@tags<td>Child tags to search for.
<tr><td>131<td>firstInIndex<td><b></b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² if it is first in its index and optionally L<at|/at>
the specified context else ğ˜‚ğ—»ğ—±ğ—²ğ—³

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>132<td>firstNot<td><b></b><td><td>Return the first child node that does not match any of the named @ğ˜ğ—®ğ—´ğ˜€ under the
specified parent $ğ—»ğ—¼ğ—±ğ—². Return ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there is no such child node.

<tr><td><td><td><td>@tags<td>Child tags to avoid.
<tr><td>133<td>firstOf<td><b></b><td><td>Return an array of the nodes that are continuously first under their specified
parent node and that match the specified list of tags.

<tr><td><td><td><td>@tags<td>Tags to search for.
<tr><td>134<td>firstSibling<td><b></b><td><td>Return the first sibling of the specified $ğ—»ğ—¼ğ—±ğ—² in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ else
ğ˜‚ğ—»ğ—±ğ—²ğ—³

<tr><td><td><td><td>@context<td>Array of tags specifying context.
<tr><td>135<td>firstText<td><b></b><td><td>Return the first node under the specified $ğ—»ğ—¼ğ—±ğ—² if it is in the optional and it
is a text node otherwise ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>136<td>firstTextMatches<td><b></b><td><td>Return the first node under the specified $ğ—»ğ—¼ğ—±ğ—² if: it is a text mode; its text
matches the specified regular expression; the specified $ğ—»ğ—¼ğ—±ğ—² is in the optional
specified context. Else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>$match<td>Regular expression the text must match
<tr><td><td><td><td>@context<td>Optional context of specified node.
<tr><td>137<td>firstUntil<td><b></b><td><td>Go first from the specified $ğ—»ğ—¼ğ—±ğ—² and continue deeper firstly until a first
child node matches the specified @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ or return ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there is no such
node. Return the first child of the specified $ğ—»ğ—¼ğ—±ğ—² if no @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ is specified.

<tr><td><td><td><td>@context<td>Context to search for.
<tr><td>138<td>firstUntilText<td><b></b><td><td>Go first from the specified $ğ—»ğ—¼ğ—±ğ—² and continue deeper firstly until a text node
is encountered whose parent matches the specified @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ or return ğ˜‚ğ—»ğ—±ğ—²ğ—³ if
there is no such node.

<tr><td><td><td><td>@context<td>Context to search for.
<tr><td>139<td>firstWhile<td><b></b><td><td>Go first from the specified $ğ—»ğ—¼ğ—±ğ—² and continue deeper firstly as long as each
first child node matches one of the specified @ğ˜ğ—®ğ—´ğ˜€. Return the deepest such
node encountered or else return ğ˜‚ğ—»ğ—±ğ—²ğ—³ if no such node is encountered.

<tr><td><td><td><td>@tags<td>Tags to search for.
<tr><td>140<td>firstn<td><b></b><td><td>Return the $ğ—»'th first node below the specified $ğ—»ğ—¼ğ—±ğ—² optionally checking its
context or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there is no such node. ğ—³ğ—¶ğ—¿ğ˜€ğ˜ğ—»(ğŸ­) is identical in effect to
L<first|/first>.

<tr><td><td><td><td>$N<td>Number of times to go first
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>141<td>fixEntryColSpan<td><b></b><td><td>Fix the colspan on an entry assumed to be under row, tbody, tgroup with @cols
and colspecs' set

<tr><td>142<td>fixEntryRowSpan<td><b></b><td><td>Fix the rowspan on an entry

<tr><td>143<td>fixTGroup<td><b></b><td><td>Fix the specified $ğ˜ğ—´ğ—¿ğ—¼ğ˜‚ğ—½ so that each row has the same number of entries with
this number reflected in the tgroup.cols= attribute and colspec nodes.

<tr><td>144<td>fixTable<td><b></b><td><td>Fix the specified $ğ˜ğ—®ğ—¯ğ—¹ğ—² so that each row has the same number of entries with
this number reflected in the tgroup.cols= attribute and colspec nodes.

<tr><td>145<td>forestNumberTrees<td><b></b><td><td>Number the ids of the nodes in a L<parse|/parse> tree in pre-order so they are
numbered in the same sequence that they appear in the source. You can see the
numbers by printing the tree with L<prettyString|/prettyString>. This method
differs from L<numberTree|/numberTree> in that only non text nodes are numbered
and nodes with existing ğ—¶ğ—±= attributes have the value of their ğ—¶ğ—±= attribute
transferred to a L<label|/Labels>. The number applied to each node consists of
the concatenation of the specified tree number, an underscore and a number that
is unique within the specified L<parse|/parse> tree. Consequently the ids across
several trees can be made unique by supplying a different tree number for each
tree. Nodes can be found subsequently using
L<findByForestNumber|/findByForestNumber>. Returns the specified $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>$prefix<td>Tree number
<tr><td>146<td>formatOxygenMessage<td><b></b><td><td>Write an error message in Oxygen format

<tr><td><td><td><td>$level<td>Error level [F|E|W]
<tr><td><td><td><td>$url<td>Explanatory Url
<tr><td><td><td><td>@message<td>Message text
<tr><td>147<td>getLabels<td><b></b><td><td>Return the names of all the labels set on a node.

<tr><td>148<td>getNodeAs<td><b>get</b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² unless it is possible to return the node saved with
L<putNodeAs> under the specified ğ—»ğ—®ğ—ºğ—² and we are optionally in the specified
@ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜.

<tr><td><td><td><td>$name<td>Name of saved node
<tr><td><td><td><td>@context<td>Optional context
<tr><td>149<td>getSectionHeadingLevel<td><b></b><td><td>Get the heading level from a section tag.

<tr><td>150<td>giveEveryIdAGuid<td><b></b><td><td>Give a guid to every node in the specified $ğ˜ğ—¿ğ—²ğ—² that has an id attribute,
saving any existing id attribute as a label, and return the count of the number
of such replacements made.

<tr><td><td><td><td>$genGuid<td>A sub that accepts a number and a node and returns a new Guid each time it is called
<tr><td>151<td>go<td><b></b><td><td>Return the node reached from the specified $ğ—»ğ—¼ğ—±ğ—² via the specified
L<path|/path>: (index position?)* where index is the tag of the next node to be
chosen and position is the optional zero based position within the index of
those tags under the current node. Position defaults to zero if not specified.
Position can also be negative to index back from the top of the index array. *
can be used as the last position to retrieve all nodes with the final tag.

<tr><td><td><td><td>@path<td>Search specification.
<tr><td>152<td>goFish<td><b></b><td><td>A debug version of L<go|/go> that returns additional information explaining any
failure to reach the node identified by the L<path|/path>.\mReturns ([ğ—¿ğ—²ğ—®ğ—°ğ—µğ—®ğ—¯ğ—¹ğ—²
ğ˜ğ—®ğ—´...], ğ—³ğ—®ğ—¶ğ—¹ğ—¶ğ—»ğ—´ ğ˜ğ—®ğ—´, [ğ—½ğ—¼ğ˜€ğ˜€ğ—¶ğ—¯ğ—¹ğ—² ğ˜ğ—®ğ—´...]) where:\m=over\m=item ğ—¿ğ—²ğ—®ğ—°ğ—µğ—®ğ—¯ğ—¹ğ—² ğ˜ğ—®ğ—´\mthe
path elements successfully traversed;\m=item ğ—³ğ—®ğ—¶ğ—¹ğ—¶ğ—»ğ—´ ğ˜ğ—®ğ—´\mthe failing
element;\m=item ğ—½ğ—¼ğ˜€ğ˜€ğ—¶ğ—¯ğ—¹ğ—² ğ˜ğ—®ğ—´\mthe possibilities at the point where the path
failed if it failed else ğ˜‚ğ—»ğ—±ğ—²ğ—³.\m=back\mParameters:

<tr><td><td><td><td>@path<td>Search specification.
<tr><td>153<td>hasSingleChild<td><b></b><td><td>Return the only child of the specified $ğ—»ğ—¼ğ—±ğ—² if the child is the only node under
its parent ignoring any surrounding blank text and has the optional specified
context, else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>154<td>hasSingleChildText<td><b></b><td><td>Return the only child of the specified $ğ—»ğ—¼ğ—±ğ—² if the child is a text node and the
child is the only node under its parent ignoring any surrounding blank text and
the child has the optional specified context, else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>155<td>hasSingleChildToDepth<td><b></b><td><td>Return the descendant of the specified $ğ—»ğ—¼ğ—±ğ—² if it has single children to the
specified depth in the specified optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.
L<hasSingleChildToDepth(0)|/hasSingleChildToDepth> is equivalent to
L<hasSingleChild|/hasSingleChild>.

<tr><td><td><td><td>$depth<td>Depth
<tr><td><td><td><td>@context<td>Optional context
<tr><td>156<td>height<td><b></b><td><td>Returns the height of the tree rooted at the specified $ğ—»ğ—¼ğ—±ğ—².

<tr><td>157<td>help<td><b>h</b><td><td>Get help for a node and the editor

<tr><td>158<td>howFar<td><b></b><td><td>Return how far the first node is from the second node along a path through their
common ancestor.

<tr><td><td><td><td>$second<td>Second node
<tr><td>159<td>howFarAbove<td><b></b><td><td>Return how far the first node is L<above|/above> the second node is or ğŸ¬ if the
first node is not strictly L<above|/above> the second node.

<tr><td><td><td><td>$below<td>Second node below
<tr><td>160<td>howFarBelow<td><b></b><td><td>Return how far the first node is L<below|/below> the second node is or ğŸ¬ if the
first node is not strictly L<below|/below> the second node.

<tr><td><td><td><td>$above<td>Second node above
<tr><td>161<td>howFirst<td><b></b><td><td>Return the depth to which the specified $ğ—»ğ—¼ğ—±ğ—² is L<first|/isFirst> else ğŸ¬.

<tr><td>162<td>howLast<td><b></b><td><td>Return the depth to which the specified $ğ—»ğ—¼ğ—±ğ—² is L<last|/isLast> else ğŸ¬.

<tr><td>163<td>howOnlyChild<td><b></b><td><td>Return the depth to which the specified $ğ—»ğ—¼ğ—±ğ—² is an L<only child|/isOnlyChild>
else ğŸ¬.

<tr><td>164<td>htmlHeadersToSections<td><b></b><td><td>Position sections just before html header tags so that subsequently the document
can be divided into L<sections|/divideDocumentIntoSections>.

<tr><td>165<td>htmlTableToDita<td><b></b><td><td>Convert an L<html table> to a L<Dita> table.

<tr><td>166<td>index<td><b></b><td><td>Return the index of the specified $ğ—»ğ—¼ğ—±ğ—² in its parent index. Use
L<position|/position> to find the position of a node under its parent.

<tr><td>167<td>indexIds<td><b></b><td><td>Return a map of the ids at and below the specified $ğ—»ğ—¼ğ—±ğ—².

<tr><td>168<td>invert<td><b></b><td><td>Swap a parent and child node where the child is the only child of the parent and
return the parent.

<tr><td><td><td><td>@context<td>Context
<tr><td>169<td>invertFirst<td><b></b><td><td>Swap a parent and child node where the child is the first child of the parent by
placing the parent last in the child. Return the parent.

<tr><td><td><td><td>@context<td>Context
<tr><td>170<td>invertLast<td><b></b><td><td>Swap a parent and child node where the child is the last child of the parent by
placing the parent first in the child. Return the parent.

<tr><td><td><td><td>@context<td>Context
<tr><td>171<td>isADitaMap<td><b></b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² if this node is a L<Dita> map else return ğ˜‚ğ—»ğ—±ğ—²ğ—³

<tr><td>172<td>isAllBlankText<td><b></b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² if the specified $ğ—»ğ—¼ğ—±ğ—², optionally in the specified
context, does not contain anything or if it does contain something it is all
white space else return ğ˜‚ğ—»ğ—±ğ—²ğ—³. See also: L<bitsNodeTextBlank|/bitsNodeTextBlank>

<tr><td><td><td><td>@context<td>Optional context
<tr><td>173<td>isBlankText<td><b></b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² if the specified $ğ—»ğ—¼ğ—±ğ—² is a text node, optionally in
the specified context, and contains nothing other than white space else return
ğ˜‚ğ—»ğ—±ğ—²ğ—³. See also: L<isAllBlankText|/isAllBlankText>

<tr><td><td><td><td>@context<td>Optional context
<tr><td>174<td>isEmpty<td><b></b><td><td>Confirm that the specified $ğ—»ğ—¼ğ—±ğ—² is empty, that is: the specified $ğ—»ğ—¼ğ—±ğ—² has no
content, not even a blank string of text. To test for blank nodes, see
L<isAllBlankText|/isAllBlankText>.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>175<td>isFirst<td><b></b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² if it is first under its parent and optionally has
the specified context, else return ğ˜‚ğ—»ğ—±ğ—²ğ—³

<tr><td><td><td><td>@context<td>Optional context
<tr><td>176<td>isFirstN<td><b></b><td><td>Return the first $ğ—¡ nodes as an array if the first $ğ—¡ tags of the parent of
$ğ—»ğ—¼ğ—±ğ—² finish at the specified $ğ—»ğ—¼ğ—±ğ—² and have the specified tags in the sequence
specified by @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜. If @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ contains more then $ğ—¡ entries, the remainder
are checked as the context of the parent of $ğ—»ğ—¼ğ—±ğ—². Returns an array of nodes
found or an empty array if the specified $ğ—»ğ—¼ğ—±ğ—² does not match these conditions.

<tr><td><td><td><td>$N<td>Number of tags to be first
<tr><td><td><td><td>@context<td>First tags and optional context
<tr><td>177<td>isFirstText<td><b></b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² if the specified $ğ—»ğ—¼ğ—±ğ—² is a text node, the first node
under its parent and that the parent is optionally in the specified context,
else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context for parent
<tr><td>178<td>isFirstToDepth<td><b></b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² if it is first to the specified depth else return
ğ˜‚ğ—»ğ—±ğ—²ğ—³

<tr><td><td><td><td>$depth<td>Depth
<tr><td><td><td><td>@context<td>Optional context
<tr><td>179<td>isLast<td><b></b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² if it is last under its parent and optionally has the
specified context, else return ğ˜‚ğ—»ğ—±ğ—²ğ—³

<tr><td><td><td><td>@context<td>Optional context
<tr><td>180<td>isLastN<td><b></b><td><td>Return the last $ğ—¡ nodes as an array if the last $ğ—¡ tags of the parent of $ğ—»ğ—¼ğ—±ğ—²
start at the specified $ğ—»ğ—¼ğ—±ğ—² and have the specified tags in the sequence
specified by @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜. If @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ contains more then $ğ—¡ entries, the remainder
are checked as the context of the parent of $ğ—»ğ—¼ğ—±ğ—². Returns an array of nodes
found or an empty array if the specified $ğ—»ğ—¼ğ—±ğ—² does not match these conditions.

<tr><td><td><td><td>$N<td>Number of tags to be last
<tr><td><td><td><td>@context<td>Last tags and optional context
<tr><td>181<td>isLastText<td><b></b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² if the specified $ğ—»ğ—¼ğ—±ğ—² is a text node, the last node
under its parent and that the parent is optionally in the specified context,
else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context for parent
<tr><td>182<td>isLastToDepth<td><b></b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² if it is last to the specified depth else return
ğ˜‚ğ—»ğ—±ğ—²ğ—³

<tr><td><td><td><td>$depth<td>Depth
<tr><td><td><td><td>@context<td>Optional context
<tr><td>183<td>isOnlyChild<td><b></b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² if it is the only node under its parent ignoring any
surrounding blank text.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>184<td>isOnlyChildBlankText<td><b></b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² if it is a blank text node and an only child else
return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>185<td>isOnlyChildText<td><b></b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² if it is a text node and it is an only child else and
its parent is in the specified optional context else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>186<td>isOnlyChildToDepth<td><b></b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² if it and its ancestors are L<only
children|/isOnlyChild> to the specified depth else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.
isOnlyChildToDepth(1) is the same as L<isOnlychild|/isOnlyChild>

<tr><td><td><td><td>$depth<td>Depth to which each parent node must also be an only child
<tr><td><td><td><td>@context<td>Optional context
<tr><td>187<td>isText<td><b></b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² if the specified $ğ—»ğ—¼ğ—±ğ—² is a text node, optionally in
the specified context, else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>188<td>jsonString<td><b></b><td><td>Return a Json representation of a parse tree

<tr><td>189<td>labelsInTree<td><b></b><td><td>Return a hash of all the labels in a tree

<tr><td>190<td>last<td><b></b><td><td>Return the last node below the specified $ğ—»ğ—¼ğ—±ğ—² optionally checking the last
node's context. See L<addLast|/addLast> to ensure that an expected node is in
position.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>191<td>lastBy<td><b></b><td><td>Return a list of the last instance of each specified tag encountered in a
post-order traversal from the specified $ğ—»ğ—¼ğ—±ğ—² or a hash of all last instances if
no tags are specified.

<tr><td><td><td><td>@tags<td>Tags to search for.
<tr><td>192<td>lastContextOf<td><b></b><td><td>Return the last node encountered in the specified context in a depth first
reverse pre-order traversal of the L<parse|/parse> tree.

<tr><td><td><td><td>@context<td>Array of tags specifying context.
<tr><td>193<td>lastDown<td><b></b><td><td>Return a list of the last instance of each specified tag encountered in a
pre-order traversal from the specified $ğ—»ğ—¼ğ—±ğ—² or a hash of all last instances if
no tags are specified.

<tr><td><td><td><td>@tags<td>Tags to search for.
<tr><td>194<td>lastIn<td><b></b><td><td>Return the last child node matching one of the named tags under the specified
parent node.

<tr><td><td><td><td>@tags<td>Child tags to search for.
<tr><td>195<td>lastInIndex<td><b></b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² if it is last in its index and optionally L<at|/at>
the specified context else ğ˜‚ğ—»ğ—±ğ—²ğ—³

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>196<td>lastNot<td><b></b><td><td>Return the last child node that does not match any of the named @ğ˜ğ—®ğ—´ğ˜€ under the
specified parent $ğ—»ğ—¼ğ—±ğ—². Return ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there is no such child node.

<tr><td><td><td><td>@tags<td>Child tags to avoid.
<tr><td>197<td>lastOf<td><b></b><td><td>Return an array of the nodes that are continuously last under their specified
parent node and that match the specified list of tags.

<tr><td><td><td><td>@tags<td>Tags to search for.
<tr><td>198<td>lastSibling<td><b></b><td><td>Return the last sibling of the specified $ğ—»ğ—¼ğ—±ğ—² in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ else
ğ˜‚ğ—»ğ—±ğ—²ğ—³

<tr><td><td><td><td>@context<td>Array of tags specifying context.
<tr><td>199<td>lastText<td><b></b><td><td>Return the last node under the specified $ğ—»ğ—¼ğ—±ğ—² if it is in the optional and it
is a text node otherwise ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>200<td>lastTextMatches<td><b></b><td><td>Return the last node under the specified $ğ—»ğ—¼ğ—±ğ—² if: it is a text mode; its text
matches the specified regular expression; the specified $ğ—»ğ—¼ğ—±ğ—² is in the optional
specified context. Else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>$match<td>Regular expression the text must match
<tr><td><td><td><td>@context<td>Optional context of specified  node.
<tr><td>201<td>lastUntil<td><b></b><td><td>Go last from the specified $ğ—»ğ—¼ğ—±ğ—² and continue deeper lastly until a last child
node matches the specified @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ or return ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there is no such node.
Return the last child of the specified $ğ—»ğ—¼ğ—±ğ—² if no @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ is specified.

<tr><td><td><td><td>@context<td>Context to search for.
<tr><td>202<td>lastUntilText<td><b></b><td><td>Go last from the specified $ğ—»ğ—¼ğ—±ğ—² and continue deeper lastly until a last child
text node matches the specified @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ or return ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there is no such
node.

<tr><td><td><td><td>@context<td>Context to search for.
<tr><td>203<td>lastWhile<td><b></b><td><td>Go last from the specified $ğ—»ğ—¼ğ—±ğ—² and continue deeper lastly as long as each last
child node matches one of the specified @ğ˜ğ—®ğ—´ğ˜€. Return the deepest such node
encountered or else return ğ˜‚ğ—»ğ—±ğ—²ğ—³ if no such node is encountered.

<tr><td><td><td><td>@tags<td>Tags to search for.
<tr><td>204<td>lastn<td><b></b><td><td>Return the $ğ—»'th last node below the specified $ğ—»ğ—¼ğ—±ğ—² optionally checking its
context or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there is no such node. ğ—¹ğ—®ğ˜€ğ˜ğ—»(ğŸ­) is identical in effect to
L<last|/last>.

<tr><td><td><td><td>$N<td>Number of times to go last
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>205<td>lineLocation<td><b></b><td><td>Return the line number.column location of this tag in its source file or string
if the source was parsed with the L<line number|/lineNumber> option on.

<tr><td>206<td>location<td><b></b><td><td>Return the line number.column plus file location of this tag in its source file
or string if the source was parsed with the L<line number|/lineNumber> option
on.

<tr><td><td><td><td>$file<td>Optionally the location of the source.
<tr><td>207<td>matchNodesByRepresentation<td><b></b><td><td>Creates a hash of arrays of nodes that have the same representation in the
specified $ğ˜ğ—¿ğ—²ğ—². Set L<representation|/representationLast> for each node in the
tree before calling this method.

<tr><td>208<td>matchTree<td><b></b><td><td>Return a list of nodes that match the specified tree of match expressions, else
() if one or more match expressions fail to match nodes in the tree below the
specified start node. A match expression consists of [parent node tag, [match
expressions to be matched by children of parent]|tags of child nodes to match
starting at the first node]. Match expressions for a single item do need to be
surrounded with [] and can be merged into their predecessor. The outermost match
expression should not be enclosed in [].

<tr><td><td><td><td>@match<td>Tree of match expressions.
<tr><td>209<td>matchesNextTags<td><b>mnt</b><td><td>Return the specified b<$node> if the siblings following the specified $ğ—»ğ—¼ğ—±ğ—²
L<match|/atPositionMatch> the specified <@tags> else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@tags<td>Tags.
<tr><td>210<td>matchesPrevTags<td><b>mpt</b><td><td>Return the specified b<$node> if the siblings prior to the specified $ğ—»ğ—¼ğ—±ğ—²
L<match|/atPositionMatch> the specified <@tags> else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@tags<td>Tags.
<tr><td>211<td>matchesText<td><b></b><td><td>Returns an array of regular expression matches in the text of the specified
$ğ—»ğ—¼ğ—±ğ—² if it is text node and it matches the specified regular expression and
optionally has the specified context otherwise returns an empty array.

<tr><td><td><td><td>$re<td>Regular expression
<tr><td><td><td><td>@context<td>Optional context
<tr><td>212<td>mergeDuplicateChildWithParent<td><b></b><td><td>Merge a parent node with its only child if their tags are the same and their
attributes do not collide other than possibly the id in which case the parent id
is used. Any labels on the child are transferred to the parent. The child node
is then unwrapped and the parent node is returned.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>213<td>mergeLikeElements<td><b></b><td><td>Merge two of the same elements into one, retaining the order of any children.
Return the original $ğ—»ğ—¼ğ—±ğ—² if the request succeeds, else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>214<td>mergeLikeNext<td><b>mln</b><td><td>Merge a $ğ—»ğ—¼ğ—±ğ—² in an optional context with the next node if the two have the same
tag by placing the next node first in the current $ğ—»ğ—¼ğ—±ğ—² and unwrapping the next
node. Return ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the request fails else the current $ğ—»ğ—¼ğ—±ğ—². Identical to
L<mergeLikeElements|/mergeLikeElements>

<tr><td><td><td><td>@context<td>Optional context
<tr><td>215<td>mergeLikePrev<td><b>mlp</b><td><td>Merge a $ğ—»ğ—¼ğ—±ğ—² in an optional context with the previous node if the two have the
same tag by placing the previous node first in the current $ğ—»ğ—¼ğ—±ğ—² and unwrapping
the previous node. Return ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the request fails else return the specified
$ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>@context<td>Optional context
<tr><td>216<td>mergeOnlyChildLikeNext<td><b>mocln</b><td><td>Merge a $ğ—»ğ—¼ğ—±ğ—² if it is the only child of its parent with a preceding node of the
same name that is also the only child of its parent and return the specified
$ğ—»ğ—¼ğ—±ğ—² or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the request fails.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>217<td>mergeOnlyChildLikePrev<td><b>moclp</b><td><td>Merge a $ğ—»ğ—¼ğ—±ğ—² if it is the only child of its parent with a preceding node of the
same name that is also the only child of its parent and return the specified
$ğ—»ğ—¼ğ—±ğ—² or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the request fails.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>218<td>mergeOnlyChildLikePrevLast<td><b></b><td><td>Merge a $ğ—»ğ—¼ğ—±ğ—² if it is the only child of its parent with a preceding node with
the same tag that is the last child of its parent and return the previous $ğ—»ğ—¼ğ—±ğ—²
or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the request fails.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>219<td>moveEndLast<td><b></b><td><td>Move the end of a $ğ—»ğ—¼ğ—±ğ—² to contain all of its following siblings as children.
Returns $ğ—»ğ—¼ğ—±ğ—² if the move was made successfully, else confess that the specified
move is impossible.

<tr><td><td><td><td>@context<td>Optional context of node.
<tr><td>220<td>moveSelectionAfter<td><b>ma</b><td><td>Move the current selection (if there is one) after the specified $ğ—»ğ—¼ğ—±ğ—² in the
optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ and return the specified $ğ—»ğ—¼ğ—±ğ—² on success else ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>221<td>moveSelectionBefore<td><b>mb</b><td><td>Move the current selection (if there is one) before the specified $ğ—»ğ—¼ğ—±ğ—² in the
optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ and return the specified $ğ—»ğ—¼ğ—±ğ—² on success else ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>222<td>moveSelectionFirst<td><b>mf</b><td><td>Move the current selection (if there is one) so that it is first under the
specified $ğ—»ğ—¼ğ—±ğ—² in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ and return the specified $ğ—»ğ—¼ğ—±ğ—² on
success else ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>223<td>moveSelectionLast<td><b>ml</b><td><td>Move the current selection (if there is one) so that it is last under the
specified $ğ—»ğ—¼ğ—±ğ—² in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ and return the specified $ğ—»ğ—¼ğ—±ğ—² on
success else ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>224<td>moveStartFirst<td><b></b><td><td>Move the start of a $ğ—»ğ—¼ğ—±ğ—² to contain all of its preceding siblings as children.
Returns $ğ—»ğ—¼ğ—±ğ—² if the move was made successfully, else confess that the specified
move is impossible.

<tr><td><td><td><td>@context<td>Optional context of node.
<tr><td>225<td>next<td><b></b><td><td>Return the node next to the specified $ğ—»ğ—¼ğ—±ğ—², optionally checking the next node's
context. See L<addNext|/addNext> to ensure that an expected node is in position.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>226<td>nextIn<td><b></b><td><td>Return the nearest sibling after the specified $ğ—»ğ—¼ğ—±ğ—² that matches one of the
named tags or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there is no such sibling node.

<tr><td><td><td><td>@tags<td>Tags to search for.
<tr><td>227<td>nextN<td><b></b><td><td>Return $ğ—¡ nodes as an array starting at $ğ—»ğ—¼ğ—±ğ—² inclusive if they match the first
$ğ—¡ tags of @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜. If @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ contains more then $ğ—¡ entries, the remainder
are checked as the context of the parent of $ğ—»ğ—¼ğ—±ğ—². Returns an array of nodes
found or an empty array if the specified $ğ—»ğ—¼ğ—±ğ—² does not match these conditions.

<tr><td><td><td><td>$N<td>Number of tags to be last
<tr><td><td><td><td>@context<td>Last tags and optional context
<tr><td>228<td>nextOn<td><b></b><td><td>Step forwards as far as possible from the specified $ğ—»ğ—¼ğ—±ğ—² while remaining on
nodes with the specified tags. In scalar context return the last such node
reached or the starting node if no such steps are possible. In array context
return the start node and any following matching nodes.

<tr><td><td><td><td>@tags<td>Tags identifying nodes that can be step on to context.
<tr><td>229<td>nextText<td><b></b><td><td>Return the node after the specified $ğ—»ğ—¼ğ—±ğ—² if it is in the optional and it is a
text node otherwise ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>230<td>nextTextMatches<td><b></b><td><td>Return the next node to the specified $ğ—»ğ—¼ğ—±ğ—² if: it is a text mode; its text
matches the specified regular expression; the specified $ğ—»ğ—¼ğ—±ğ—² is in the optional
specified context. Else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>$match<td>Regular expression the text must match
<tr><td><td><td><td>@context<td>Optional context of specified node.
<tr><td>231<td>nextUntil<td><b></b><td><td>Go to the next sibling of the specified $ğ—»ğ—¼ğ—±ğ—² and continue forwards until the
tag of a sibling node matches one of the specified @ğ˜ğ—®ğ—´ğ˜€. Return the matching
sibling node else ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there is no such sibling node.

<tr><td><td><td><td>@tags<td>Tags to look for.
<tr><td>232<td>nextWhile<td><b></b><td><td>Go to the next sibling of the specified $ğ—»ğ—¼ğ—±ğ—² and continue forwards while the
tag of each sibling node matches one of the specified @ğ˜ğ—®ğ—´ğ˜€. Return the first
sibling node that does not match else ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there is no such sibling.

<tr><td><td><td><td>@tags<td>Child tags to avoid.
<tr><td>233<td>nextn<td><b></b><td><td>Return the $ğ—»'th next node after the specified $ğ—»ğ—¼ğ—±ğ—² optionally checking its
context or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there is no such node. ğ—»ğ—²ğ˜…ğ˜ğ—»(ğŸ­) is identical in effect to
L<next|/next>.

<tr><td><td><td><td>$N<td>Number of times to go next
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>234<td>not<td><b></b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² if it does not match any of the specified tags, else
ğ˜‚ğ—»ğ—±ğ—²ğ—³

<tr><td><td><td><td>@tags<td>Tags not to match
<tr><td>235<td>numberNode<td><b></b><td><td>Ensure that the specified $ğ—»ğ—¼ğ—±ğ—² has a number.

<tr><td>236<td>numberTree<td><b></b><td><td>Number the nodes in a L<parse|/parse> tree in pre-order so they are numbered in
the same sequence that they appear in the source. You can see the numbers by
printing the tree with L<prettyStringNumbered|/prettyStringNumbered>. Nodes can
be found using L<findByNumber|/findByNumber>. This method differs from
L<forestNumberTrees|/forestNumberTrees> in that avoids overwriting the ğ—¶ğ—±=
attribute of each node by using a system attribute instead; this system
attribute can then be made visible on the id attribute of each node by printing
the parse tree with L<prettyStringNumbered|/prettyStringNumbered>.

<tr><td>237<td>numberTreesJustIds<td><b></b><td><td>Number the ids of the nodes in a L<parse|/parse> tree in pre-order so they are
numbered in the same sequence that they appear in the source. You can see the
numbers by printing the tree with
L<prettyStringNumbered()|/prettyStringNumbered>. This method differs from
L<numberTree|/numberTree> in that only non text nodes without ids are numbered.
The number applied to each node consists of the concatenation of the specified
prefix, an underscore and a number that is unique within the specifed
L<parse|/parse> tree. Consequently the ids across several trees trees can be
made unique by supplying different prefixes for each tree. Nodes can be found
using L<findByNumber|/findByNumber>. Returns the specified $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>$prefix<td>Prefix for each id at and under the specified B<$node>
<tr><td>238<td>overAllTags<td><b>oat</b><td><td>Return the specified b<$node> if all of it's child nodes
L<match|/atPositionMatch> the specified <@tags> else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@tags<td>Tags.
<tr><td>239<td>overFirstTags<td><b>oft</b><td><td>Return the specified b<$node> if the first of it's child nodes
L<match|/atPositionMatch> the specified <@tags> else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@tags<td>Tags.
<tr><td>240<td>overLastTags<td><b>olt</b><td><td>Return the specified b<$node> if the last of it's child nodes
L<match|/atPositionMatch> the specified <@tags> else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@tags<td>Tags.
<tr><td>241<td>parentage<td><b>p</b><td><td>Return a reference to an array of the nodes along the path from the root to the
specified $ğ—¡ğ—¼ğ—±ğ—² inclusive.

<tr><td>242<td>path<td><b></b><td><td>Return a list of strings representing the path to a node from the root of the
parse tree which can then be reused by L<go|/go> to retrieve the node as long as
the structure of the L<parse|/parse> tree has not changed along the path.

<tr><td>243<td>pathString<td><b></b><td><td>Return a string representing the L<path|/path> to the specified $ğ—»ğ—¼ğ—±ğ—² from the
root of the parse tree.

<tr><td>244<td>position<td><b></b><td><td>Return the index of the specified $ğ—»ğ—¼ğ—±ğ—² in the content of the parent of the
$ğ—»ğ—¼ğ—±ğ—².

<tr><td>245<td>present<td><b></b><td><td>Return the count of the number of the specified tag types present immediately
under a node or a hash {tag} = count for all the tags present under the node if
no names are specified.

<tr><td><td><td><td>@names<td>Possible tags immediately under the node.
<tr><td>246<td>prettyString<td><b></b><td><td>Return a readable string representing a node of a L<parse|/parse> tree and all
the nodes below it. Or use L<-p|/opString> $node

<tr><td><td><td><td>$depth<td>Optional depth.
<tr><td>247<td>prettyStringCDATA<td><b></b><td><td>Return a readable string representing a node of a L<parse|/parse> tree and all
the nodes below it with the text fields wrapped with <CDATA>...</CDATA>.

<tr><td><td><td><td>$depth<td>Optional depth.
<tr><td>248<td>prettyStringContent<td><b></b><td><td>Return a readable string representing all the nodes below a node of a
L<parse|/parse> tree.

<tr><td>249<td>prettyStringContentNumbered<td><b></b><td><td>Return a readable string representing all the nodes below a node of a
L<parse|/parse> tree with numbering added.

<tr><td>250<td>prettyStringDitaHeaders<td><b></b><td><td>Return a readable string representing the L<parse|/parse> tree below the
specified $ğ—»ğ—¼ğ—±ğ—² with appropriate headers. Or use L<-x|/opString> $node

<tr><td>251<td>prettyStringEnd<td><b></b><td><td>Return a readable string representing a node of a L<parse|/parse> tree and all
the nodes below it as a here document

<tr><td>252<td>prettyStringNumbered<td><b></b><td><td>Return a readable string representing a node of a L<parse|/parse> tree and all
the nodes below it with a L<number|/number> attached to each tag. The node
numbers can then be used as described in L<Order|/Order> to monitor changes to
the L<parse|/parse> tree.

<tr><td><td><td><td>$depth<td>Optional depth.
<tr><td>253<td>prev<td><b></b><td><td>Return the node before the specified $ğ—»ğ—¼ğ—±ğ—², optionally checking the previous
node's context. See L<addLast|/addLast> to ensure that an expected node is in
position.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>254<td>prevIn<td><b></b><td><td>Return the nearest sibling node before the specified $ğ—»ğ—¼ğ—±ğ—² which matches one of
the named tags or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there is no such sibling node.

<tr><td><td><td><td>@tags<td>Tags to search for.
<tr><td>255<td>prevN<td><b></b><td><td>Return $ğ—¡ nodes as an array ending at $ğ—»ğ—¼ğ—±ğ—² inclusive if they match the first $ğ—¡
tags of @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜. If @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ contains more then $ğ—¡ entries, the remainder are
checked as the context of the parent of $ğ—»ğ—¼ğ—±ğ—². Returns an array of nodes found
or an empty array if the specified $ğ—»ğ—¼ğ—±ğ—² does not match these conditions.

<tr><td><td><td><td>$N<td>Number of tags to be first
<tr><td><td><td><td>@context<td>First tags and optional context
<tr><td>256<td>prevOn<td><b></b><td><td>Step backwards as far as possible while remaining on nodes with the specified
tags. In scalar context return the last such node reached or the starting node
if no such steps are possible. In array context return the start node and any
preceding matching nodes.

<tr><td><td><td><td>@tags<td>Tags identifying nodes that can be step on to context.
<tr><td>257<td>prevText<td><b></b><td><td>Return the node before the specified $ğ—»ğ—¼ğ—±ğ—² if it is in the optional and it is a
text node otherwise ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>258<td>prevTextMatches<td><b></b><td><td>Return the previous node to the specified $ğ—»ğ—¼ğ—±ğ—² if: it is a text mode; its text
matches the specified regular expression; the specified $ğ—»ğ—¼ğ—±ğ—² is in the optional
specified context. Else return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>$match<td>Regular expression the text must match
<tr><td><td><td><td>@context<td>Optional context of specified node.
<tr><td>259<td>prevUntil<td><b></b><td><td>Go to the previous sibling of the specified $ğ—»ğ—¼ğ—±ğ—² and continue backwards until
the tag of a sibling node matches one of the specified @ğ˜ğ—®ğ—´ğ˜€. Return the
matching sibling node else ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there is no such sibling node.

<tr><td><td><td><td>@tags<td>Tags to look for.
<tr><td>260<td>prevWhile<td><b></b><td><td>Go to the previous sibling of the specified $ğ—»ğ—¼ğ—±ğ—² and continue backwards while
the tag of each sibling node matches one of the specified @ğ˜ğ—®ğ—´ğ˜€. Return the
first sibling node that does not match else ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there is no such sibling.

<tr><td><td><td><td>@tags<td>Child tags to avoid.
<tr><td>261<td>prevn<td><b></b><td><td>Return the $ğ—»'th previous node after the specified $ğ—»ğ—¼ğ—±ğ—² optionally checking its
context or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there is no such node. ğ—½ğ—¿ğ—²ğ˜ƒğ—»(ğŸ­) is identical in effect to
L<prev|/prev>.

<tr><td><td><td><td>$N<td>Number of times to go prev
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>262<td>printAttributes<td><b></b><td><td>Print the attributes of a node.

<tr><td>263<td>printAttributesExtendingIdsWithLabels<td><b></b><td><td>Print the attributes of a node extending the id with the labels.

<tr><td>264<td>printAttributesReplacingIdsWithLabels<td><b></b><td><td>Print the attributes of a node replacing the id with the labels.

<tr><td>265<td>printNode<td><b></b><td><td>Print the tag and attributes of a node.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>266<td>printNodeAsSingleton<td><b></b><td><td>Print the tag and attributes of a node as if it were a single node regardless of
any child nodes it might have

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>267<td>printStack<td><b></b><td><td>Print the attributes of a node and each of its parents

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>268<td>propagate<td><b></b><td><td>Propagate L<new attributes|/copyNewAttrs> from nodes that match the specified
tag to all their child nodes, then L<unwrap|/unwrap> all the nodes that match
the specified tag. Return the specified parse tree.

<tr><td><td><td><td>$tag<td>Tag of nodes whose attributes are to be propagated
<tr><td><td><td><td>@context<td>Optional context for parse tree
<tr><td>269<td>putContentAfter<td><b></b><td><td>Move the content of the specified $ğ—»ğ—¼ğ—±ğ—² and place it after that node if that
node is in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜. Return the specified $ğ—»ğ—¼ğ—±ğ—² or confess if the
move is not possible.

<tr><td><td><td><td>@context<td>Optional context of node.
<tr><td>270<td>putContentBefore<td><b></b><td><td>Move the content of the specified $ğ—»ğ—¼ğ—±ğ—² and place it before that node if that
node is in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜. Return the specified $ğ—»ğ—¼ğ—±ğ—² or confess if the
move is not possible.

<tr><td><td><td><td>@context<td>Optional context of node.
<tr><td>271<td>putFirstAsComment<td><b></b><td><td>Put a comment first under the specified $ğ—»ğ—¼ğ—±ğ—² and return the specified $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>$text<td>Comment
<tr><td><td><td><td>@context<td>Context
<tr><td>272<td>putFirstAsText<td><b></b><td><td>Add a new text node first under a parent and return the new text node.

<tr><td><td><td><td>$text<td>The string to be added which might contain unparsed Xml as well as text
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>273<td>putFirstRequiredCleanUp<td><b></b><td><td>Place a required cleanup tag first under a node and return the required clean up
node.

<tr><td><td><td><td>$text<td>Clean up message
<tr><td>274<td>putLastAsComment<td><b></b><td><td>Put a comment last under the specified $ğ—»ğ—¼ğ—±ğ—² and return the specified $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>$text<td>Comment
<tr><td><td><td><td>@context<td>Context
<tr><td>275<td>putLastAsText<td><b></b><td><td>Add a new text node last under a parent and return the new text node.

<tr><td><td><td><td>$text<td>The string to be added which might contain unparsed Xml as well as text
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>276<td>putLastRequiredCleanUp<td><b></b><td><td>Place a required cleanup tag last under a node and return the required clean up
node.

<tr><td><td><td><td>$text<td>Clean up message
<tr><td>277<td>putNextAsComment<td><b></b><td><td>Put a comment after the specified $ğ—»ğ—¼ğ—±ğ—² and return the specified $ğ—»ğ—¼ğ—±ğ—²

<tr><td><td><td><td>$text<td>Comment
<tr><td><td><td><td>@context<td>Context
<tr><td>278<td>putNextAsText<td><b></b><td><td>Add a new text node following the specified $ğ—»ğ—¼ğ—±ğ—² and return the new text node.

<tr><td><td><td><td>$text<td>The string to be added which might contain unparsed Xml as well as text
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>279<td>putNextFirstCut<td><b></b><td><td>Move the specified $ğ—»ğ—¼ğ—±ğ—² so it is first in the next node with the optional
context. Return the specified $ğ—»ğ—¼ğ—±ğ—² on success else return ğ˜‚ğ—»ğ—±ğ—²ğ—³ on failure.

<tr><td><td><td><td>@context<td>Context
<tr><td>280<td>putNextFirstCut2<td><b></b><td><td>Move the specified $ğ—»ğ—¼ğ—±ğ—² so it is first in the first node with the specified
optional context of the next node. Return the specified $ğ—»ğ—¼ğ—±ğ—² on success else
return ğ˜‚ğ—»ğ—±ğ—²ğ—³ on failure.

<tr><td><td><td><td>@context<td>Context
<tr><td>281<td>putNextRequiredCleanUp<td><b></b><td><td>Place a required cleanup tag after a node.

<tr><td><td><td><td>$text<td>Clean up message
<tr><td>282<td>putNodeAs<td><b>put</b><td><td>Return the specified $ğ—»ğ—¼ğ—±ğ—² after saving it under the specified $ğ—»ğ—®ğ—ºğ—² if we are
in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜.

<tr><td><td><td><td>$name<td>Save name
<tr><td><td><td><td>@context<td>Optional context
<tr><td>283<td>putPrevAsComment<td><b></b><td><td>Put a comment before the specified $ğ—½ğ—®ğ—¿ğ—²ğ—»ğ˜ parentand return the specified $ğ—»ğ—¼ğ—±ğ—²

<tr><td><td><td><td>$text<td>Comment
<tr><td><td><td><td>@context<td>Context
<tr><td>284<td>putPrevAsText<td><b></b><td><td>Add a new text node following the specified $ğ—»ğ—¼ğ—±ğ—² and return the new text node

<tr><td><td><td><td>$text<td>The string to be added which might contain unparsed Xml as well as text
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>285<td>putPrevLastCut<td><b></b><td><td>Move the specified $ğ—»ğ—¼ğ—±ğ—² so it is last in the preceding node with the optional
context. Return the specified $ğ—»ğ—¼ğ—±ğ—² on success else return ğ˜‚ğ—»ğ—±ğ—²ğ—³ on failure.

<tr><td><td><td><td>@context<td>Context
<tr><td>286<td>putPrevLastCut2<td><b></b><td><td>Move the specified $ğ—»ğ—¼ğ—±ğ—² so it is last in the last node with the specified
optional context of the preceding node. Return the specified $ğ—»ğ—¼ğ—±ğ—² on success
else return ğ˜‚ğ—»ğ—±ğ—²ğ—³ on failure.

<tr><td><td><td><td>@context<td>Context
<tr><td>287<td>putPrevRequiredCleanUp<td><b></b><td><td>Place a required cleanup tag before a node.

<tr><td><td><td><td>$text<td>Clean up message
<tr><td>288<td>putSiblingsAfterParent<td><b></b><td><td>Move the specified $ğ—»ğ—¼ğ—±ğ—² and its following siblings up one level and place them
after the parent of the specified $ğ—»ğ—¼ğ—±ğ—² if the specified $ğ—»ğ—¼ğ—±ğ—² is in the
optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜. Return the specified $ğ—»ğ—¼ğ—±ğ—² if the move was made successfully,
else confess that the specified move is not possible.

<tr><td><td><td><td>@context<td>Optional context of node.
<tr><td>289<td>putSiblingsBeforeParent<td><b></b><td><td>Move the specified $ğ—»ğ—¼ğ—±ğ—² and its preceding siblings up one level and place them
before the parent of the specified $ğ—»ğ—¼ğ—±ğ—² if the specified $ğ—»ğ—¼ğ—±ğ—² is in the
optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜. Return the specified $ğ—»ğ—¼ğ—±ğ—² if the move was made successfully,
else confess that the specified move is not possible.

<tr><td><td><td><td>@context<td>Optional context of node.
<tr><td>290<td>putSiblingsFirst<td><b></b><td><td>Move the siblings preceding the specified $ğ—»ğ—¼ğ—±ğ—² in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ down
one level and place them first under the specified $ğ—»ğ—¼ğ—±ğ—² preceding any existing
content. Return the specified $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>@context<td>Optional context of node.
<tr><td>291<td>putSiblingsLast<td><b></b><td><td>Move the siblings following the specified $ğ—»ğ—¼ğ—±ğ—² in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ down
one level so that they are last under the specified $ğ—»ğ—¼ğ—±ğ—² following any existing
content. Return the specified $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>@context<td>Optional context of node.
<tr><td>292<td>putUpNextCut<td><b></b><td><td>Move the specified $ğ—»ğ—¼ğ—±ğ—² so it is next after its parent. Return the specified
$ğ—»ğ—¼ğ—±ğ—² on success else return ğ˜‚ğ—»ğ—±ğ—²ğ—³ on failure.

<tr><td><td><td><td>@context<td>Context
<tr><td>293<td>putUpNextCut2<td><b></b><td><td>Move the specified $ğ—»ğ—¼ğ—±ğ—² so it is next after its grandparent. Return the
specified $ğ—»ğ—¼ğ—±ğ—² on success else return ğ˜‚ğ—»ğ—±ğ—²ğ—³ on failure.

<tr><td><td><td><td>@context<td>Context
<tr><td>294<td>putUpPrevCut<td><b></b><td><td>Move the specified $ğ—»ğ—¼ğ—±ğ—² so it is prior to its its parent. Return the specified
$ğ—»ğ—¼ğ—±ğ—² on success else return ğ˜‚ğ—»ğ—±ğ—²ğ—³ on failure.

<tr><td><td><td><td>@context<td>Context
<tr><td>295<td>putUpPrevCut2<td><b></b><td><td>Move the specified $ğ—»ğ—¼ğ—±ğ—² so it is prior to its grandparent. Return the specified
$ğ—»ğ—¼ğ—±ğ—² on success else return ğ˜‚ğ—»ğ—±ğ—²ğ—³ on failure.

<tr><td><td><td><td>@context<td>Context
<tr><td>296<td>renameAttr<td><b></b><td><td>Rename attribute $ğ—¼ğ—¹ğ—± to $ğ—»ğ—²ğ˜„ in the specified $ğ—»ğ—¼ğ—±ğ—² with optional context
@ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ regardless of whether attribute $ğ—»ğ—²ğ˜„ already exists or not and return
the $ğ—»ğ—¼ğ—±ğ—². To prevent inadvertent changes to an existing attribute use
L<changeAttr|/changeAttr>.

<tr><td><td><td><td>$old<td>Existing attribute name
<tr><td><td><td><td>$new<td>New attribute name
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>297<td>renameAttrValue<td><b></b><td><td>Rename attribute $ğ—¼ğ—¹ğ—± to $ğ—»ğ—²ğ˜„ with new value $ğ—»ğ—²ğ˜„ğ—©ğ—®ğ—¹ğ˜‚ğ—² in the specified $ğ—»ğ—¼ğ—±ğ—² in
the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ regardless of whether attribute $ğ—»ğ—²ğ˜„ already exists or not
as long as the attribute $ğ—¼ğ—¹ğ—± has the value $ğ—¼ğ—¹ğ—±ğ—©ğ—®ğ—¹ğ˜‚ğ—². Return the $ğ—»ğ—¼ğ—±ğ—²
regardless of what changes were made. To prevent inadvertent changes to existing
attributes use L<changeAttrValue|/changeAttrValue>.

<tr><td><td><td><td>$old<td>Existing attribute name
<tr><td><td><td><td>$oldValue<td>Existing attribute value
<tr><td><td><td><td>$new<td>New attribute name
<tr><td><td><td><td>$newValue<td>New attribute value
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>298<td>renameAttrXtr<td><b></b><td><td>Rename the attributes @ğ—®ğ˜ğ˜ğ—¿ as far as possible to xtrc or xtrf. Returns an array
of the attributes that could not be so renamed.

<tr><td><td><td><td>@attr<td>Attributes to rename if they exist
<tr><td>299<td>replaceContentWithText<td><b></b><td><td>Replace the content of a node with the specified texts and return the replaced
content

<tr><td><td><td><td>@text<td>Texts to form new content
<tr><td>300<td>replaceWithBlank<td><b></b><td><td>Replace a node (and all its content) with a new blank text node and return the
new node.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>301<td>replaceWithRequiredCleanUp<td><b></b><td><td>Replace a node with a required cleanup message and return the new node

<tr><td><td><td><td>$text<td>Clean up message
<tr><td>302<td>replaceWithText<td><b></b><td><td>Replace a node (and all its content) with a new text node and return the new
node.

<tr><td><td><td><td>$text<td>Text of new node
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>303<td>reportNode<td><b>rn</b><td><td>Print the parse tree starting at the specified $ğ—»ğ—¼ğ—±ğ—² identified by the specified
$ğ—¹ğ—®ğ—¯ğ—²ğ—¹ if we are in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜.

<tr><td><td><td><td>$label<td>Label
<tr><td><td><td><td>@context<td>Optional context
<tr><td>304<td>reportNodeAttributes<td><b>rna</b><td><td>Print the attributes of the specified $ğ—»ğ—¼ğ—±ğ—² identified by the specified $ğ—¹ğ—®ğ—¯ğ—²ğ—¹
if we are in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜.

<tr><td><td><td><td>$label<td>Label
<tr><td><td><td><td>@context<td>Optional context
<tr><td>305<td>reportNodeContext<td><b>rnc</b><td><td>Print the context of the specified $ğ—»ğ—¼ğ—±ğ—² identified by the specified $ğ—¹ğ—®ğ—¯ğ—²ğ—¹ if
we are in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜.

<tr><td><td><td><td>$label<td>Label
<tr><td><td><td><td>@context<td>Optional context
<tr><td>306<td>requiredCleanUp<td><b></b><td><td>Replace a node with a required cleanup node around the text of the replaced node
with special characters replaced by symbols.\mReturns the specified $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>$outputclass<td>Optional outputclass attribute of required cleanup tag
<tr><td>307<td>set<td><b></b><td><td>Set the values of some attributes in a node and return the node. Identical in
effect to L<setAttr|/setAttr>.

<tr><td><td><td><td>%values<td>(attribute name=>new value)*
<tr><td>308<td>setAttr<td><b></b><td><td>Set the values of some attributes in a node and return the node. Identical in
effect to L<set|/set>.

<tr><td><td><td><td>%values<td>(attribute name=>new value)*
<tr><td>309<td>setDepthProfile<td><b></b><td><td>Sets the L<depthProfile|/depthProfile> for every node in the specified $ğ˜ğ—¿ğ—²ğ—².
The last set L<depthProfile|/depthProfile> for a specific niode can be retrieved
from L<depthProfileLast|/depthProfileLast>.

<tr><td>310<td>setRepresentationAsTagsAndText<td><b></b><td><td>Sets the L<representationLast|/representationLast> for every node in the
specified $ğ˜ğ—¿ğ—²ğ—² via L<stringTagsAndText|/stringTagsAndText>.

<tr><td>311<td>setRepresentationAsText<td><b></b><td><td>Sets the L<representationLast|/representationLast> for every node in the
specified $ğ˜ğ—¿ğ—²ğ—² via L<stringText|/stringText>.

<tr><td>312<td>setSelectionEnd<td><b>se</b><td><td>Set the selection to end at the specified $ğ—»ğ—¼ğ—±ğ—² in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ and
return the specified $ğ—»ğ—¼ğ—±ğ—² on success else ğ˜‚ğ—»ğ—±ğ—²ğ—³..

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>313<td>setSelectionStart<td><b>ss</b><td><td>Set the selection to start at the specified $ğ—»ğ—¼ğ—±ğ—² in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ and
return the specified $ğ—»ğ—¼ğ—±ğ—² on success else ğ˜‚ğ—»ğ—±ğ—²ğ—³..

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>314<td>splitAfter<td><b></b><td><td>Split the parent node into two identical nodes except all the siblings after the
specified $ğ—»ğ—¼ğ—±ğ—² are retained by the existing parent while any preceding siblings
become siblings of the new parent node which is placed before the existing
parent. The new parent is returned

<tr><td><td><td><td>@context<td>Optional context
<tr><td>315<td>splitAndWrapFromStart<td><b></b><td><td>Split the child nodes of $ğ—½ğ—®ğ—¿ğ—²ğ—»ğ˜ on the child nodes with a tag of $ğ˜€ğ—½ğ—¹ğ—¶ğ˜
wrapping the splitting node and all preceding nodes from the previous splitting
node or the start with the specified $ğ˜„ğ—¿ğ—®ğ—½ping node with optional %ğ—®ğ˜ğ˜ğ—¿ğ—¶ğ—¯ğ˜‚ğ˜ğ—²ğ˜€.
Returns an array of the wrapping nodes created.

<tr><td><td><td><td>$split<td>Tag of splitting nodes
<tr><td><td><td><td>$wrap<td>Tag for wrapping node
<tr><td><td><td><td>%attributes<td>Attributes for wrapping nodes
<tr><td>316<td>splitAndWrapToEnd<td><b></b><td><td>Split the sequence of child nodes under the specified $ğ—½ğ—®ğ—¿ğ—²ğ—»ğ˜ node on those
child nodes whose tag value is $ğ˜€ğ—½ğ—¹ğ—¶ğ˜ wrapping the splitting node and all
following nodes up until the next splitting node or the end of the sequence with
newly created nodes whose tag is $ğ˜„ğ—¿ğ—®ğ—½ with optional attributes %ğ—®ğ˜ğ˜ğ—¿ğ—¶ğ—¯ğ˜‚ğ˜ğ—²ğ˜€.
Returns an array of the wrapping nodes so created.

<tr><td><td><td><td>$split<td>Tag of splitting nodes
<tr><td><td><td><td>$wrap<td>Tag for wrapping node
<tr><td><td><td><td>%attributes<td>Attributes for wrapping nodes
<tr><td>317<td>splitBefore<td><b></b><td><td>Split the parent node into two identical nodes except all the siblings before
the specified $ğ—»ğ—¼ğ—±ğ—² are retained by the existing parent while any following
siblings become siblings of the new parent node which is placed after the
existing parent. The new parent is returned.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>318<td>splitParentAfter<td><b>spa</b><td><td>Finish and restart the parent of the specified $ğ—»ğ—¼ğ—±ğ—² just after the specified
$ğ—»ğ—¼ğ—±ğ—² and return the newly created parent node on success or ğ˜‚ğ—»ğ—±ğ—²ğ—³ on failure.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>319<td>splitParentBefore<td><b>spb</b><td><td>Finish and restart the parent of the specified $ğ—»ğ—¼ğ—±ğ—² just before the specified
$ğ—»ğ—¼ğ—±ğ—² and return the newly created parent node on success or ğ˜‚ğ—»ğ—±ğ—²ğ—³ on failure.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>320<td>string<td><b></b><td><td>Return a dense string representing a node of a L<parse|/parse> tree and all the
nodes below it. Or use L<-s|/opString> $ğ—»ğ—¼ğ—±ğ—².

<tr><td>321<td>stringContent<td><b></b><td><td>Return a string representing all the nodes below a node of a L<parse|/parse>
tree.

<tr><td>322<td>stringMd5Sum<td><b></b><td><td>Return the md5 sum of the dense L<string|/string> representing a node of a
L<parse|/parse> tree minus its L<id> and all the nodes below it. Or use
L<-g|/opString> $ğ—»ğ—¼ğ—±ğ—². The id of the top most node is not included in the md5sum
to equate parse trees that would otherwise only differ by the arbitrary root
node id value.

<tr><td>323<td>stringNode<td><b></b><td><td>Return a string representing the specified $ğ—»ğ—¼ğ—±ğ—² showing the attributes, labels
and node number.

<tr><td>324<td>stringQuoted<td><b></b><td><td>Return a quoted string representing a L<parse|/parse> tree a node of a
L<parse|/parse> tree and all the nodes below it. Or use L<-o|/opString> $ğ—»ğ—¼ğ—±ğ—².

<tr><td>325<td>stringTagsAndText<td><b></b><td><td>Return a string showing just the tags and text at and below a specified $ğ—»ğ—¼ğ—±ğ—².

<tr><td>326<td>stringText<td><b></b><td><td>Return a string showing just the text of the text nodes (separated by blanks) at
and below a specified $ğ—»ğ—¼ğ—±ğ—².

<tr><td>327<td>structureAdjacentSectionsByLevel<td><b></b><td><td>Structure adjacent sections by level

<tr><td>328<td>swapFirstSibling<td><b>sfs</b><td><td>Swap $ğ—»ğ—¼ğ—±ğ—² with its first sibling node and return $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>@context<td>Optional context
<tr><td>329<td>swapLastSibling<td><b>sls</b><td><td>Swap $ğ—»ğ—¼ğ—±ğ—² with its last sibling node and return $ğ—»ğ—¼ğ—±ğ—².

<tr><td><td><td><td>@context<td>Optional context
<tr><td>330<td>swapNext<td><b>sn</b><td><td>Swap $ğ—»ğ—¼ğ—±ğ—² with its following node if $$ğ—»ğ—¼ğ—±ğ—² matches the first element of the
specified context and the next node matches the rest. Return the node that
originally followed $ğ—»ğ—¼ğ—±ğ—² on success or ğ˜‚ğ—»ğ—±ğ—²ğ—³ on failure.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>331<td>swapPrev<td><b>sp</b><td><td>Swap $ğ—»ğ—¼ğ—±ğ—² with its preceding node if $$ğ—»ğ—¼ğ—±ğ—² matches the first element of the
specified context and the previous node matches the rest. Return the node that
originally followed $ğ—»ğ—¼ğ—±ğ—² on success or ğ˜‚ğ—»ğ—±ğ—²ğ—³ on failure.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>332<td>swapTagWithParent<td><b></b><td><td>Swap the tags of the specified $ğ—»ğ—¼ğ—±ğ—² and its parent optionally checking that the
$ğ—»ğ—¼ğ—±ğ—² is in the specified context and return (parent of $ğ—»ğ—¼ğ—±ğ—², $ğ—»ğ—¼ğ—±ğ—²) or () if
there is no such parent node.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>333<td>tocNumbers<td><b></b><td><td>Table of Contents number the nodes in a L<parse|/parse> tree.

<tr><td><td><td><td>@match<td>Optional list of tags to descend into else all tags will be descended into
<tr><td>334<td>unwrap<td><b>u</b><td><td>Unwrap the specified $ğ—»ğ—¼ğ—±ğ—² by inserting its content into its parent at the point
containing the specified $ğ—»ğ—¼ğ—±ğ—² and return the parent node. Returns ğ˜‚ğ—»ğ—±ğ—²ğ—³ if an
attempt is made to unwrap a text node. Confesses if an attempt is made to unwrap
the root node.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>335<td>unwrapContentsKeepingText<td><b></b><td><td>Unwrap all the non text nodes below the specified $ğ—»ğ—¼ğ—±ğ—² adding a leading and a
trailing space to prevent unwrapped content from being elided and return the
specified $ğ—»ğ—¼ğ—±ğ—² else ğ˜‚ğ—»ğ—±ğ—²ğ—³ if not in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜.

<tr><td><td><td><td>@context<td>Optional context.
<tr><td>336<td>unwrapOnlyChild<td><b></b><td><td>Unwrap the specified $ğ—»ğ—¼ğ—±ğ—² in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ when the $ğ—»ğ—¼ğ—±ğ—² is the only
child of its parent. Return the specified $ğ—»ğ—¼ğ—±ğ—² regardless unless the node is
not in the optional context in which case return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>337<td>unwrapParentOfOnlyChild<td><b></b><td><td>Unwrap the parent of the specified $ğ—»ğ—¼ğ—±ğ—² in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ when the $ğ—»ğ—¼ğ—±ğ—²
is the only child of its parent. Return the specified $ğ—»ğ—¼ğ—±ğ—² regardless unless
the node is not in the optional context in which case return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>338<td>unwrapParentsWithSingleChild<td><b></b><td><td>Unwrap any immediate ancestors of the specified $ğ—»ğ—¼ğ—±ğ—² in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜
which have only a single child and return the specified $ğ—»ğ—¼ğ—±ğ—² regardless unless
the node is not in the optional context in which case return ğ˜‚ğ—»ğ—±ğ—²ğ—³.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>339<td>unwrapSingleParentsOfSection<td><b></b><td><td>Unwrap single parents of section: in word documents the header is often buried
in a list to gain a section number - here we remove these unnecessary items

<tr><td>340<td>up<td><b></b><td><td>Return the parent of the current node optionally checking the parent node's
context or return ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the specified $ğ—»ğ—¼ğ—±ğ—² is the root of the
L<parse|/parse> tree. See L<addWrapWith|/addWrapWith> to ensure that an expected
node is in position.

<tr><td><td><td><td>@context<td>Optional context of parent.
<tr><td>341<td>upThru<td><b></b><td><td>Go up the specified path from the specified $ğ—»ğ—¼ğ—±ğ—² returning the node at the top
or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if no such node exists.

<tr><td><td><td><td>@tags<td>Tags identifying path.
<tr><td>342<td>upUntil<td><b></b><td><td>Return the nearest ancestral node to the specified $ğ—»ğ—¼ğ—±ğ—² that matches the
specified @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there is no such node. Returns the parent node of
the specified $ğ—»ğ—¼ğ—±ğ—² if no @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ is specified.

<tr><td><td><td><td>@context<td>Context.
<tr><td>343<td>upUntilFirst<td><b></b><td><td>Move up from the specified $ğ—»ğ—¼ğ—±ğ—² until we reach the root or a first node.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>344<td>upUntilIsOnlyChild<td><b></b><td><td>Move up from the specified $ğ—»ğ—¼ğ—±ğ—² until we reach the root or another only child.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>345<td>upUntilLast<td><b></b><td><td>Move up from the specified $ğ—»ğ—¼ğ—±ğ—² until we reach the root or a last node.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>346<td>upWhile<td><b></b><td><td>Go up one level from the specified $ğ—»ğ—¼ğ—±ğ—² and then continue up while each node
matches on of the specified <@tags>. Return the last matching node or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if
no node matched any of the specified @ğ˜ğ—®ğ—´ğ˜€.

<tr><td><td><td><td>@tags<td>Tags to match
<tr><td>347<td>upWhileFirst<td><b></b><td><td>Move up from the specified $ğ—»ğ—¼ğ—±ğ—² as long as each node is a first node or return
ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the specified $ğ—»ğ—¼ğ—±ğ—² is not a first node.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>348<td>upWhileIsOnlyChild<td><b></b><td><td>Move up from the specified $ğ—»ğ—¼ğ—±ğ—² as long as each node is an only child or return
ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the specified $ğ—»ğ—¼ğ—±ğ—² is not an only child.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>349<td>upWhileLast<td><b></b><td><td>Move up from the specified $ğ—»ğ—¼ğ—±ğ—² as long as each node is a last node or return
ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the specified $ğ—»ğ—¼ğ—±ğ—² is not a last node.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>350<td>upn<td><b></b><td><td>Go up the specified number of levels from the specified $ğ—»ğ—¼ğ—±ğ—² and return the
node reached optionally checking the parent node's context or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there is
no such node.L<upn(1)|/up> is identical in effect to L<up|/up>. Or use
L<ancestry|/ancestry> to get the path back to the root node.

<tr><td><td><td><td>$levels<td>Number of levels to go up
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>351<td>wordStyles<td><b></b><td><td>Extract style information from a parse tree representing a word document.

<tr><td>352<td>wrapContentWith<td><b>wcw</b><td><td>Wrap the content of the specified $ğ—»ğ—¼ğ—±ğ—² in a new node created from the specified
$ğ˜ğ—®ğ—´ and %ğ—®ğ˜ğ˜ğ—¿ğ—¶ğ—¯ğ˜‚ğ˜ğ—²ğ˜€: the specified $ğ—»ğ—¼ğ—±ğ—² then contains just the new node which,
in turn, contains all the content of the specified $ğ—»ğ—¼ğ—±ğ—².\mReturns the new
wrapping node.

<tr><td><td><td><td>$tag<td>Tag for new node
<tr><td><td><td><td>%attributes<td>Attributes for new node.
<tr><td>353<td>wrapDown<td><b></b><td><td>Wrap the content of the specified $ğ—»ğ—¼ğ—±ğ—² in a sequence of new nodes forcing the
original node up - deepening the L<parse|/parse> tree - return the array of
wrapping nodes if want array else the last wrapping node.

<tr><td><td><td><td>@tags<td>Tags to wrap the node with - with the uppermost tag rightmost.
<tr><td>354<td>wrapFirstN<td><b></b><td><td>Wrap the first $ğ—¡ nodes under this $ğ—»ğ—¼ğ—±ğ—² in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ with the
specified $ğ˜ğ—®ğ—´ and return the new node or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there are no such nodes to
wrap.

<tr><td><td><td><td>$N<td>Number of nodes to wrap
<tr><td><td><td><td>$tag<td>Wrapping tag
<tr><td><td><td><td>@context<td>Optional context
<tr><td>355<td>wrapFromFirst<td><b></b><td><td>Wrap this $ğ—»ğ—¼ğ—±ğ—² and any preceding siblings with a new node created from the
specified $ğ˜ğ—®ğ—´ and %ğ—®ğ˜ğ˜ğ—¿ğ—¶ğ—¯ğ˜‚ğ˜ğ—²ğ˜€ and return the wrapping node.

<tr><td><td><td><td>$tag<td>Tag for new node
<tr><td><td><td><td>%attributes<td>Attributes for new node.
<tr><td>356<td>wrapFromFirstOrLastIn<td><b></b><td><td>Wrap inclusively from the first sibling node to the specified $ğ—»ğ—¼ğ—±ğ—² or from the
last prior sibling node whose tag matches one of the tags in @ğ˜ğ—®ğ—¿ğ—´ğ—²ğ˜ğ˜€ to the
specified $ğ—»ğ—¼ğ—±ğ—² using $ğ˜ğ—®ğ—´ as the tag of the wrapping node and return the
wrapping node.

<tr><td><td><td><td>$tag<td>Wrapping tag
<tr><td><td><td><td>@targets<td>Tags at which to end the wrap.
<tr><td>357<td>wrapLastN<td><b></b><td><td>Wrap the last $ğ—¡ nodes under this $ğ—»ğ—¼ğ—±ğ—² in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ with the
specified $ğ˜ğ—®ğ—´ and return the new node or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there are no such nodes to
wrap.

<tr><td><td><td><td>$N<td>Number of nodes to wrap
<tr><td><td><td><td>$tag<td>Wrapping tag
<tr><td><td><td><td>@context<td>Optional context
<tr><td>358<td>wrapNext<td><b></b><td><td>Wrap this $ğ—»ğ—¼ğ—±ğ—² and the following sibling with a new node created from the
specified $ğ˜ğ—®ğ—´. If the optional context is specified then it should match the
first node, next node and the context of the parent of the $ğ—»ğ—¼ğ—±ğ—² as far as it is
specified. Return the new node created or ğ˜‚ğ—»ğ—±ğ—²ğ—³ on failure.

<tr><td><td><td><td>$tag<td>Tag for new node
<tr><td><td><td><td>@context<td>Context.
<tr><td>359<td>wrapNextN<td><b></b><td><td>Wrap this $ğ—»ğ—¼ğ—±ğ—²and the next $ğ—¡-1 nodes following this $ğ—»ğ—¼ğ—±ğ—² in the optional
@ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ with the specified $ğ˜ğ—®ğ—´ and return the new node or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there are
no such nodes to wrap.

<tr><td><td><td><td>$N<td>Number of nodes to wrap
<tr><td><td><td><td>$tag<td>Wrapping tag
<tr><td><td><td><td>@context<td>Optional context
<tr><td>360<td>wrapPrev<td><b></b><td><td>Wrap this $ğ—»ğ—¼ğ—±ğ—² and the preceding sibling with a new node created from the
specified $ğ˜ğ—®ğ—´. If the optional context is specified then it should match the
first node, previous node and the context of the parent of the $ğ—»ğ—¼ğ—±ğ—² as far as
it is specified. Return the new node created or ğ˜‚ğ—»ğ—±ğ—²ğ—³ on failure.

<tr><td><td><td><td>$tag<td>Tag for new node
<tr><td><td><td><td>@context<td>Context.
<tr><td>361<td>wrapPrevN<td><b></b><td><td>Wrap this $ğ—»ğ—¼ğ—±ğ—²and the previous $ğ—¡-1 nodes following this $ğ—»ğ—¼ğ—±ğ—² in the optional
@ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ with the specified $ğ˜ğ—®ğ—´ and return the new node or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if there are
no such nodes to wrap.

<tr><td><td><td><td>$N<td>Number of nodes to wrap
<tr><td><td><td><td>$tag<td>Wrapping tag
<tr><td><td><td><td>@context<td>Optional context
<tr><td>362<td>wrapRuns<td><b></b><td><td>Wrap consecutive runs of children under the specified parent $ğ—»ğ—¼ğ—±ğ—² that are not
already wrapped with $ğ˜„ğ—¿ğ—®ğ—½. Returns an array of any wrapping nodes created.
Returns () if the specified $ğ—»ğ—¼ğ—±ğ—² is not in the optional @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜.

<tr><td><td><td><td>$wrap<td>Tag of wrapping node
<tr><td><td><td><td>@context<td>Optional context.
<tr><td>363<td>wrapSiblingsAfter<td><b></b><td><td>If there are any siblings after the specified $ğ—»ğ—¼ğ—±ğ—², wrap them with a new node
created from the specified $ğ˜ğ—®ğ—´ and %ğ—®ğ˜ğ˜ğ—¿ğ—¶ğ—¯ğ˜‚ğ˜ğ—²ğ˜€ and return the newly created
node.\mReturns ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the specified $ğ—»ğ—¼ğ—±ğ—² is the last node under its parent.

<tr><td><td><td><td>$tag<td>Tag for new node
<tr><td><td><td><td>%attributes<td>Attributes for new node.
<tr><td>364<td>wrapSiblingsBefore<td><b></b><td><td>If there are any siblings before the specified $ğ—»ğ—¼ğ—±ğ—², wrap them with a new node
created from the specified $ğ˜ğ—®ğ—´ and %ğ—®ğ˜ğ˜ğ—¿ğ—¶ğ—¯ğ˜‚ğ˜ğ—²ğ˜€ and return the newly created
node.\mReturns ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the specified $ğ—»ğ—¼ğ—±ğ—² is the first node under its parent.

<tr><td><td><td><td>$tag<td>Tag for new node
<tr><td><td><td><td>%attributes<td>Attributes for new node.
<tr><td>365<td>wrapToLast<td><b></b><td><td>Wrap this $ğ—»ğ—¼ğ—±ğ—² and any following siblings with a new node created from the
specified $ğ˜ğ—®ğ—´ and %ğ—®ğ˜ğ˜ğ—¿ğ—¶ğ—¯ğ˜‚ğ˜ğ—²ğ˜€ and return the wrapping node.

<tr><td><td><td><td>$tag<td>Tag for new node
<tr><td><td><td><td>%attributes<td>Attributes for new node.
<tr><td>366<td>wrapToLastOrFirstIn<td><b></b><td><td>Wrap this $ğ—»ğ—¼ğ—±ğ—² and any following siblings, up to and including the first
sibling that matches one of the specified @ğ—³ğ—¶ğ—»ğ—± nodes or all following siblings
if no such match occurs, with a new node created from the specified $ğ˜ğ—®ğ—´ and
return the new wrapping node.

<tr><td><td><td><td>$tag<td>Wrapping tag
<tr><td><td><td><td>@targets<td>Tags at which to end the wrap.
<tr><td>367<td>wrapUp<td><b></b><td><td>Wrap the specified $ğ—»ğ—¼ğ—±ğ—² in a sequence of new nodes created from the specified
@ğ˜ğ—®ğ—´ğ˜€ forcing the original node down - deepening the L<parse|/parse> tree -
return the array of wrapping nodes if want array else the last wrapping node.

<tr><td><td><td><td>@tags<td>Tags to wrap the node with - with the uppermost tag rightmost.
<tr><td>368<td>wrapWith<td><b></b><td><td>Wrap the specified $ğ—»ğ—¼ğ—±ğ—² in a new node created from the specified $ğ˜ğ—®ğ—´ and
%ğ—®ğ˜ğ˜ğ—¿ğ—¶ğ—¯ğ˜‚ğ˜ğ—²ğ˜€ forcing the specified $ğ—»ğ—¼ğ—±ğ—² down - deepening the L<parse|/parse>
tree - return the new wrapping node. See L<addWrapWith|/addWrapWith> to perform
this operation conditionally.

<tr><td><td><td><td>$tag<td>Tag for the new node or tag
<tr><td><td><td><td>%attributes<td>Attributes for the new node or tag.
<tr><td>369<td>wrapWithAll<td><b>ww</b><td><td>Wrap this $ğ—»ğ—¼ğ—±ğ—² wrapped with the specified @ğ˜ğ—®ğ—´ğ˜€ and return the last wrapping
node.

<tr><td><td><td><td>@tags<td>Tags
<tr><td>370<td>wrapWithN<td><b></b><td><td>Wrap this $ğ—»ğ—¼ğ—±ğ—² with the first $ğ—¡ elements of @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜. If @ğ—°ğ—¼ğ—»ğ˜ğ—²ğ˜…ğ˜ contains
more then $ğ—¡ entries, the remainder are checked as the context of $ğ—»ğ—¼ğ—±ğ—². Returns
the upper most wrapping node or ğ˜‚ğ—»ğ—±ğ—²ğ—³ if the specified $ğ—»ğ—¼ğ—±ğ—² does not match
these conditions.

<tr><td><td><td><td>$N<td>Number of tags wrapping tags
<tr><td><td><td><td>@context<td>Tags and optional context
<tr><td>371<td>writeCompressedFile<td><b></b><td><td>Write the parse tree starting at $ğ—»ğ—¼ğ—±ğ—² as compressed xml to the specified $ğ—³ğ—¶ğ—¹ğ—².
Use L<readCompressedFile|/readCompressedFile> to read the $ğ—³ğ—¶ğ—¹ğ—².

<tr><td><td><td><td>$file<td>File to write to.
<tr><td>372<td>zipDown<td><b></b><td><td>Push a node down as many levels as possible by making it a child of a node
formed by merging the preceding and following siblings if they have the same
tag.

<tr><td><td><td><td>@context<td>Optional context
<tr><td>373<td>zipDownOnce<td><b></b><td><td>Push a node down one level by making it a child of a node formed by merging the
preceding and following siblings if they have the same tag.

<tr><td><td><td><td>@context<td>Optional context
</table>

<p>Updated: 2019-08-22 at 19:13:11
</div>
