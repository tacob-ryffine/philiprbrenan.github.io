<div style="width: 80em">

<h1>Methods in Data::Edit::Xml that can be used to Edit Dita in Geany</h1>

<p><a format="html" href="https://metacpan.org/pod/Data::Edit::Xml">Data::Edit::Xml</a> is a Perl extension module that can help you edit <a format="html" href="http://docs.oasis-open.org/dita/dita/v1.3/os/part2-tech-content/dita-v1.3-os-part2-tech-content.html">Dita</a>.

<p>Normally such edits are performed in bulk under the control of a Perl
program. However, you can use many of these methods one at a time directly from
the <a format="html" href="https://www.geany.org">Geany</a> editor when it has been configured for <a format="html" href="http://docs.oasis-open.org/dita/dita/v1.3/os/part2-tech-content/dita-v1.3-os-part2-tech-content.html">Dita</a> editing. The
methods executed are recorded in log visible in another <a format="html" href="https://www.geany.org">Geany</a> tab so that
they can be edited directly into a program that us being developed to use
<a format="html" href="https://metacpan.org/pod/Data::Edit::Xml">Data::Edit::Xml</a>.

<p>The table below lists the methods that can be used in <a format="html" href="https://www.geany.org">Geany</a>.  Simply type
the method name and any parameters up against a closing <b>&gt;</b> or
<b>&gt;</b> as shown on line <b> 13 </b> like this:

<p><img src="/images/mlp_start.png"/>

<p>and press <b> shift+Enter </b> to merge the two lists:

<p><img src="/images/mlp_finish.png"/>

<table border="0" cellpadding="20">
<tr><th>Line<th>Method long name<th>aka<th>Description

<tr><td>1<td>addFirst<td></b></b><td>Add a new node <b>first</b> below the specified <b>$node</b> with the specified <b>$tag</b> and <b>%attributes</b> unless a node with that tag already exists in that position. Return the new node if it was created unless return the pre-existing node.
<tr><td>2<td>addFirstAsText<td></b></b><td>Add a new text node first below the specified <b>$node</b> and return the new node unless a text node already exists there and starts with the same text in which case return the existing <b>$node</b>.
<tr><td>3<td>addLast<td></b></b><td>Add a new node <b>last</b> below the specified <b>$node</b> with the specified <b>$tag</b> and <b>%attributes</b> unless a node with that tag already exists in that position. Return the new node if it was created unless return the pre-existing node..
<tr><td>4<td>addLastAsText<td></b></b><td>Add a new text node last below the specified <b>$node</b> and return the new node unless a text node already exists there and ends with the same text in which case return the existing <b>$node</b>.
<tr><td>5<td>addNext<td></b></b><td>Add a new node <b>next</b> the specified <b>$node</b> and return the new node unless a node with that tag already exists in which case return the existing <b>$node</b>.
<tr><td>6<td>addNextAsText<td></b></b><td>Add a new text node after the specified <b>$node</b> and return the new node unless a text node already exists there and starts with the same text in which case return the existing <b>$node</b>.
<tr><td>7<td>addPrev<td></b></b><td>Add a new node <b>before</b> the specified <b>$node</b> with the specified <b>$tag</b> and <b>%attributes</b> unless a node with that tag already exists in that position. Return the new node if it was created unless return the pre-existing node.
<tr><td>8<td>addPrevAsText<td></b></b><td>Add a new text node before the specified <b>$node</b> and return the new node unless a text node already exists there and ends with the same text in which case return the existing <b>$node</b>.
<tr><td>9<td>addSingleChild<td></b></b><td>Wrap the content of a specified <b>$node</b> in a new node with the specified <b>$tag</b> and optional <b>%attribute</b> unless the content is already wrapped in a single child with the specified <b>$tag</b>.
<tr><td>10<td>addWrapWith<td></b></b><td><b>Wrap</b> the specified <b>$node</b> with the specified tag if the node is not already wrapped with such a tag and return the new node unless a node with that tag already exists in which case return the existing <b>$node</b>.
<tr><td>11<td>an<td></b></b><td>Return the next node if the specified <b>$node</b> has the tag specified by <b>$current</b> and the next node is in the specified <b>@context</b>.
<tr><td>12<td>ancestry<td></b></b><td>Return a list containing: (the specified <b>$node</b>, its parent, its parent's parent etc..). Or use <b>upn</b> to go up the specified number of levels.
<tr><td>13<td>ap<td></b></b><td>Return the previous node if the specified <b>$node</b> has the tag specified by <b>$current</b> and the previous node is in the specified <b>@context</b>.
<tr><td>14<td>apn<td></b></b><td>Return (previous node, next node) if the <b>$previous</b> and <b>$current</b> nodes have the specified tags and the next node is in the specified <b>@context</b> else return <b>()</b>.  The specified <b>@context</b> must have at least one element otherwise <b>()</b> is returned.
<tr><td>15<td>approxLocation<td></b></b><td>Return the line number.column location of the node nearest to this node in the source file if the source was parsed with the <b>line number</b> option on.
<tr><td>16<td>at<td></b></b><td>Confirm that the specified <b>$node</b> has the specified <b>ancestry</b> and return the specified <b>$node</b> if it does else <b>undef</b>. Ancestry is specified by providing the expected tags that the <b>$node</b>'s parent, the parent's parent etc. must match at each level. If <b>undef</b> is specified then any tag is assumed to match at that level. If a regular expression is specified then the current parent node tag must match the regular expression at that level. If all supplied tags match successfully then the starting node is returned else <b>undef</b>
<tr><td>17<td>atOrBelow<td></b></b><td>Confirm that the node or one of its ancestors has the specified context as recognized by <b>at</b> and return the first node that matches the context or <b>undef</b> if none do.
<tr><td>18<td>attrCount<td></b></b><td>Return the number of attributes in the specified <b>$node</b>, optionally ignoring the specified names from the count.
<tr><td>19<td>attrValueAt<td></b></b><td>Return the specified <b>$node</b> if it has the specified <b>$attribute</b> with the specified <b>$value</b> and the optional specified <b>ancestry</b> else return <b>undef</b>.
<tr><td>20<td>breakIn<td></b></b><td>Concatenate the nodes following and preceding the start node, unwrapping nodes whose tag matches the start node and return the start node. To concatenate only the preceding nodes, use <b>breakInBackwards</b>, to concatenate only the following nodes, use <b>breakInForwards</b>.
<tr><td>21<td>breakInBackwards<td></b></b><td>Concatenate the nodes preceding the start node, unwrapping nodes whose tag matches the start node and return the start node in the manner of <b>breakIn</b>.
<tr><td>22<td>breakInForwards<td></b></b><td>Concatenate the nodes following the start node, unwrapping nodes whose tag matches the start node and return the start node in the manner of <b>breakIn</b>.
<tr><td>23<td>breakOut<td></b></b><td>Lift child nodes with the specified tags under the specified parent node splitting the parent node into clones and return the cut out original node.
<tr><td>24<td>breakOutChild<td></b></b><td>Lift the specified <b>$node</b> up one level splitting its parent. Return the specified <b>$node</b> on success or <b>undef</b> if the operation is not possible.
<tr><td>25<td>c<td></b></b><td>Return an array of all the nodes with the specified tag below the specified <b>$node</b>.
<tr><td>26<td>cText<td></b></b><td>Return an array of all the text nodes immediately below the specified <b>$node</b>.
<tr><td>27<td>change<td></b>cc</b><td>Change the name of the specified <b>$node</b>, optionally  confirming that the <b>$node</b> is in a specified context and return the <b>$node</b>.
<tr><td>28<td>changeAttr<td></b></b><td>Rename attribute <b>$old</b> to <b>$new</b> in the specified <b>$node</b> with optional context <b>@context</b> unless attribute <b>$new</b> is already set and return the <b>$node</b>. To make changes regardless of whether the new attribute already exists use <b>renameAttr</b>.
<tr><td>29<td>changeAttrValue<td></b></b><td>Rename attribute <b>$old</b> to <b>$new</b> with new value <b>$newValue</b> on the specified <b>$node</b> in the optional <b>@context</b> unless attribute <b>$new</b> is already set or the value of the <b>$old</b> attribute is not <b>$oldValue</b>. Return the <b>$node</b> regardless of what changes were made.  To make changes regardless of whether the new attribute already exists use <b>renameAttrValue</b>.
<tr><td>30<td>changeAttributeValue<td></b></b><td>Apply a sub to the value of an attribute of the specified <b>$node</b>.  The value to be changed is supplied and returned in: <b>$_</b>.
<tr><td>31<td>changeKids<td></b></b><td>Change the names of all the immediate children of the specified <b>$node</b>, if they match the optional <b>@context</b>, to the specified <b>$tag</b> and return the <b>$node</b>.
<tr><td>32<td>changeOrDeleteAttr<td></b></b><td>Rename attribute <b>$old</b> to <b>$new</b> in the specified <b>$node</b> in the optional <b>@context</b> unless attribute <b>$new</b> is already set in which case delete attribute <b>$old</b>. Return <b>$node</b> regardless of what action was taken. To make changes regardless of whether the new attribute already exists use <b>renameAttr</b>.
<tr><td>33<td>changeOrDeleteAttrValue<td></b></b><td>Rename attribute <b>$old</b> to <b>$new</b> with new value <b>$newValue</b> on the specified <b>$node</b> in the optional <b>@context</b> unless attribute <b>$new</b> is already set or the value of the <b>$old</b> attribute is not <b>$oldValue</b> in which cases the <b>$old</b> attribute is deleted. Return the <b>$node</b> regardless of any changes made.  To make changes regardless of whether the new attribute already exists use <b>renameAttrValue</b>.
<tr><td>34<td>changeText<td></b></b><td>If the specified  <b>$node</b> is a text node in the specified context then the specified <b>sub</b> is passed the text of the node in <b>$_</b>, any changes to which are recorded in the text of the <b>$node</b>.\mReturns <b>undef</b> if the specified <b>$node</b> is not a text node in the specified optional context else it returns the result of executing the specified <b>sub</b>.
<tr><td>35<td>closestLocation<td></b></b><td>Return the nearest node with line number.column information
<tr><td>36<td>concatenateSiblings<td></b></b><td>Concatenate the nodes that precede and follow the specified <b>$node</b> in the optioonal <b>@context</b> as long as they have the same tag as the specified <b>$node</b> and return the specified <b>$node</b>.
<tr><td>37<td>containsSingleText<td></b></b><td>Return the single text element below the specified <b>$node</b> else return <b>undef</b>.
<tr><td>38<td>contentAfter<td></b>ca</b><td>Return a list of all the sibling nodes following the specified <b>$node</b> or an empty list if the specified <b>$node</b> is last or not in the optional <b>@context</b>.
<tr><td>39<td>contentAfterAsTags<td></b></b><td>Return a string containing the tags of all the sibling nodes following the specified <b>$node</b> separated by single spaces or the empty string if the node is empty or <b>undef</b> if the node does not match the optional context. Use <b>matchAfter</b> to test the sequence of tags with a regular expression.
<tr><td>40<td>contentAfterAsTags2<td></b></b><td>Return a string containing the tags of all the sibling nodes following the specified <b>$node</b> separated by two spaces with a single space preceding the first tag and a single space following the last tag or the empty string if the node is empty or <b>undef</b> if the node does not match the optional context. Use <b>matchAfter2</b> to test the sequence of tags with a regular expression.
<tr><td>41<td>contentAsTags<td></b></b><td>Return a string containing the tags of all the child nodes of the specified <b>$node</b> separated by single spaces or the empty string if the node is empty or <b>undef</b> if the node does not match the optional context. Use <b>over</b> to test the sequence of tags with a regular expression.
<tr><td>42<td>contentAsTags2<td></b></b><td>Return a string containing the tags of all the child nodes of the specified <b>$node</b> separated by two spaces with a single space preceding the first tag and a single space following the last tag or the empty string if the node is empty or <b>undef</b> if the node does not match the optional context. Use <b>over2</b> to test the sequence of tags with a regular expression. Use <b>over2</b> to test the sequence of tags with a regular expression.
<tr><td>43<td>contentBefore<td></b>cb</b><td>Return a list of all the sibling nodes preceding the specified <b>$node</b> (in the normal sibling order) or an empty list if the specified <b>$node</b> is last or not in the optional <b>@context</b>.
<tr><td>44<td>contentBeforeAsTags<td></b></b><td>Return a string containing the tags of all the sibling nodes preceding the specified <b>$node</b> separated by single spaces or the empty string if the node is empty or <b>undef</b> if the node does not match the optional context. Use <b>matchBefore</b> to test the sequence of tags with a regular expression.
<tr><td>45<td>contentBeforeAsTags2<td></b></b><td>Return a string containing the tags of all the sibling nodes preceding the specified <b>$node</b> separated by two spaces with a single space preceding the first tag and a single space following the last tag or the empty string if the node is empty or <b>undef</b> if the node does not match the optional context.  Use <b>matchBefore2</b> to test the sequence of tags with a regular expression.
<tr><td>46<td>context<td></b></b><td>Return a string containing the tag of the starting node and the tags of all its ancestors separated by single spaces.
<tr><td>47<td>cutIfEmpty<td></b></b><td>Cut out and return the specified <b>$node</b> so that it can be reinserted else where in the <b>parse</b> tree if it is empty.
<tr><td>48<td>deleteAttr<td></b></b><td>Delete the named attribute in the specified <b>$node</b>, optionally check its value first, returning the value of the attribute or <b>undef</b> if the attribute does not exist on this node.
<tr><td>49<td>deleteAttrs<td></b></b><td>Delete the specified attributes of the specified <b>$node</b> without checking their values and return the node.
<tr><td>50<td>deleteAttrsInTree<td></b></b><td>Delete the specified attributes of the specified <b>$node</b> and all the nodes under it and return the specified <b>$node</b>.
<tr><td>51<td>deleteContent<td></b></b><td>Delete the content of the specified <b>$node</b>.
<tr><td>52<td>depth<td></b></b><td>Returns the depth of the specified <b>$node</b>, the  depth of a root node is zero.
<tr><td>53<td>depthProfile<td></b></b><td>Returns the depth profile of the tree rooted at the specified <b>$node</b>.
<tr><td>54<td>downWhileFirst<td></b>firstLeaf</b><td>Move down from the specified <b>$node</b> as long as each lower node is a first node.
<tr><td>55<td>downWhileHasSingleChild<td></b></b><td>Move down from the specified <b>$node</b> as long as it has a single child else return undef.
<tr><td>56<td>downWhileLast<td></b>lastLeaf</b><td>Move down from the specified <b>$node</b> as long as each lower node is a last node.
<tr><td>57<td>dup<td></b>r</b><td>Duplicate the specified <b>$node</b> in the optional <b>@context</b> and return the new node created or <b>undef</b> on success else <b>undef</b>.
<tr><td>58<td>dupN<td></b>rN</b><td>Duplicate the specified <b>$node</b> <b>$N</b> times in the optional <b>@context</b> and return the last new node created on success else <b>undef</b>.
<tr><td>59<td>expandIncludes<td></b></b><td>Expand the includes mentioned in a <b>parse</b> tree: any tag that ends in <b>include</b> is assumed to be an include directive.  The file to be included is named on the <b>href</b> keyword.  If the file to be included is a relative file name, i.e. it does not begin with <b>/</b> then this file is made absolute relative to the file from which this <b>parse</b> tree was obtained.
<tr><td>60<td>findById<td></b></b><td>Find a node in the parse tree under the specified <b>$node</b> with the specified <b>$id</b>.
<tr><td>61<td>first<td></b></b><td>Return the first node below the specified <b>$node</b> optionally checking the first node's context.  See <b>addFirst</b> to ensure that an expected node is in position.
<tr><td>62<td>firstBy<td></b></b><td>Return a list of the first instance of each specified tag encountered in a post-order traversal from the specified <b>$node</b> or a hash of all first instances if no tags are specified.
<tr><td>63<td>firstContextOf<td></b></b><td>Return the first node encountered in the specified context in a depth first post-order traversal of the <b>parse</b> tree.
<tr><td>64<td>firstDown<td></b></b><td>Return a list of the first instance of each specified tag encountered in a pre-order traversal from the specified <b>$node</b> or a hash of all first instances if no tags are specified.
<tr><td>65<td>firstIn<td></b></b><td>Return the first child node matching one of the named tags under the specified parent node.
<tr><td>66<td>firstInIndex<td></b></b><td>Return the specified <b>$node</b> if it is first in its index and optionally <b>at</b> the specified context else <b>undef</b>
<tr><td>67<td>firstNot<td></b></b><td>Return the first child node that does not match any of the named <b>@tags</b> under the specified parent <b>$node</b>. Return <b>undef</b> if there is no such child node.
<tr><td>68<td>firstOf<td></b></b><td>Return an array of the nodes that are continuously first under their specified parent node and that match the specified list of tags.
<tr><td>69<td>firstSibling<td></b></b><td>Return the first sibling of the specified <b>$node</b> in the optional <b>@context</b> else <b>undef</b>
<tr><td>70<td>firstText<td></b></b><td>Return the first node under the specified <b>$node</b> if it is in the optional and it is a text node otherwise <b>undef</b>.
<tr><td>71<td>firstTextMatches<td></b></b><td>Return the first node under the specified <b>$node</b> if: it is a text mode; its text matches the specified regular expression; the specified <b>$node</b> is in the optional specified context. Else return <b>undef</b>.
<tr><td>72<td>firstUntil<td></b></b><td>Go first from the specified <b>$node</b> and continue deeper firstly until a first child node matches the specified <b>@context</b> or return <b>undef</b> if there is no such node.  Return the first child of the specified <b>$node</b> if no <b>@context</b> is specified.
<tr><td>73<td>firstUntilText<td></b></b><td>Go first from the specified <b>$node</b> and continue deeper firstly until a text node is encountered whose parent matches the specified <b>@context</b> or return <b>undef</b> if there is no such node.
<tr><td>74<td>firstWhile<td></b></b><td>Go first from the specified <b>$node</b> and continue deeper firstly as long as each first child node matches one of the specified <b>@tags</b>. Return the deepest such node encountered or else return <b>undef</b> if no such node is encountered.
<tr><td>75<td>firstn<td></b></b><td>Return the <b>$n</b>'th first node below the specified <b>$node</b> optionally checking its context or <b>undef</b> if there is no such node.  <b>firstn(1)</b> is identical in effect to <b>first</b>.
<tr><td>76<td>formatOxygenMessage<td></b></b><td>Write an error message in Oxygen format
<tr><td>77<td>go<td></b></b><td>Return the node reached from the specified <b>$node</b> via the specified <b>path</b>: (index position<b>?</b>)<b>*</b> where index is the tag of the next node to be chosen and position is the optional zero based position within the index of those tags under the current node. Position defaults to zero if not specified. Position can also be negative to index back from the top of the index array. <b>*</b> can be used as the last position to retrieve all nodes with the final tag.
<tr><td>78<td>hasSingleChild<td></b></b><td>Return the only child of the specified <b>$node</b> if the child is the only node under its parent ignoring any surrounding blank text and has the optional specified context, else return <b>undef</b>.
<tr><td>79<td>hasSingleChildText<td></b></b><td>Return the only child of the specified <b>$node</b> if the child is a text node and the child is the only node under its parent ignoring any surrounding blank text and the child has the optional specified context, else return <b>undef</b>.
<tr><td>80<td>hasSingleChildToDepth<td></b></b><td>Return the descendant of the specified <b>$node</b> if it has single children to the specified depth in the specified optional <b>@context</b> else return <b>undef</b>.  <b>hasSingleChildToDepth(0)</b> is equivalent to <b>hasSingleChild</b>.
<tr><td>81<td>height<td></b></b><td>Returns the height of the tree rooted at the specified <b>$node</b>.
<tr><td>82<td>help<td></b>h</b><td>Get help for a node and the editor
<tr><td>83<td>index<td></b></b><td>Return the index of the specified <b>$node</b> in its parent index. Use <b>position</b> to find the position of a node under its parent.
<tr><td>84<td>invert<td></b></b><td>Swap a parent and child node where the child is the only child of the parent and return the parent.
<tr><td>85<td>invertFirst<td></b></b><td>Swap a parent and child node where the child is the first child of the parent by placing the parent last in the child. Return the parent.
<tr><td>86<td>invertLast<td></b></b><td>Swap a parent and child node where the child is the last child of the parent by placing the parent first in the child. Return the parent.
<tr><td>87<td>isEmpty<td></b></b><td>Confirm that the specified <b>$node</b> is empty, that is: the specified <b>$node</b> has no content, not even a blank string of text. To test for blank nodes, see <b>isAllBlankText</b>.
<tr><td>88<td>isFirst<td></b></b><td>Return the specified <b>$node</b> if it is first under its parent and optionally has the specified context, else return <b>undef</b>
<tr><td>89<td>isFirstN<td></b></b><td>Return the first <b>$N</b> nodes as an array if the first <b>$N</b> tags of the parent of <b>$node</b> finish at the specified <b>$node</b> and have the specified tags in the sequence specified by <b>@context</b>. If <b>@context</b> contains more then <b>$N</b> entries, the remainder are checked as the context of the parent of <b>$node</b>. Returns an array of nodes found or an empty array if the specified <b>$node</b> does not match these conditions.
<tr><td>90<td>isFirstToDepth<td></b></b><td>Return the specified <b>$node</b> if it is first to the specified depth else return <b>undef</b>
<tr><td>91<td>isLast<td></b></b><td>Return the specified <b>$node</b> if it is last under its parent and optionally has the specified context, else return <b>undef</b>
<tr><td>92<td>isLastN<td></b></b><td>Return the last <b>$N</b> nodes as an array if the last <b>$N</b> tags of the parent of <b>$node</b> start at the specified <b>$node</b> and have the specified tags in the sequence specified by <b>@context</b>. If <b>@context</b> contains more then <b>$N</b> entries, the remainder are checked as the context of the parent of <b>$node</b>. Returns an array of nodes found or an empty array if the specified <b>$node</b> does not match these conditions.
<tr><td>93<td>isLastToDepth<td></b></b><td>Return the specified <b>$node</b> if it is last to the specified depth else return <b>undef</b>
<tr><td>94<td>isOnlyChild<td></b></b><td>Return the specified <b>$node</b> if it is the only node under its parent ignoring any surrounding blank text.
<tr><td>95<td>isOnlyChildText<td></b></b><td>Return the specified <b>$node</b> if it is a text node and it is an only child else and its parent is in the specified optional context else return <b>undef</b>.
<tr><td>96<td>isOnlyChildToDepth<td></b></b><td>Return the specified <b>$node</b> if it and its ancestors are <b>only children</b> to the specified depth else return <b>undef</b>. isOnlyChildToDepth(1) is the same as <b>isOnlychild</b>
<tr><td>97<td>jsonString<td></b></b><td>Return a Json representation of a parse tree
<tr><td>98<td>last<td></b></b><td>Return the last node below the specified <b>$node</b> optionally checking the last node's context. See <b>addLast</b> to ensure that an expected node is in position.
<tr><td>99<td>lastBy<td></b></b><td>Return a list of the last instance of each specified tag encountered in a post-order traversal from the specified <b>$node</b> or a hash of all last instances if no tags are specified.
<tr><td>100<td>lastContextOf<td></b></b><td>Return the last node encountered in the specified context in a depth first reverse pre-order traversal of the <b>parse</b> tree.
<tr><td>101<td>lastDown<td></b></b><td>Return a list of the last instance of each specified tag encountered in a pre-order traversal from the specified <b>$node</b> or a hash of all last instances if no tags are specified.
<tr><td>102<td>lastIn<td></b></b><td>Return the last child node matching one of the named tags under the specified parent node.
<tr><td>103<td>lastInIndex<td></b></b><td>Return the specified <b>$node</b> if it is last in its index and optionally <b>at</b> the specified context else <b>undef</b>
<tr><td>104<td>lastNot<td></b></b><td>Return the last child node that does not match any of the named <b>@tags</b> under the specified parent <b>$node</b>. Return <b>undef</b> if there is no such child node.
<tr><td>105<td>lastOf<td></b></b><td>Return an array of the nodes that are continuously last under their specified parent node and that match the specified list of tags.
<tr><td>106<td>lastSibling<td></b></b><td>Return the last sibling of the specified <b>$node</b> in the optional <b>@context</b> else <b>undef</b>
<tr><td>107<td>lastText<td></b></b><td>Return the last node under the specified <b>$node</b> if it is in the optional and it is a text node otherwise <b>undef</b>.
<tr><td>108<td>lastTextMatches<td></b></b><td>Return the last node under the specified <b>$node</b> if: it is a text mode; its text matches the specified regular expression; the specified <b>$node</b> is in the optional specified context. Else return <b>undef</b>.
<tr><td>109<td>lastUntil<td></b></b><td>Go last from the specified <b>$node</b> and continue deeper lastly until a last child node matches the specified <b>@context</b> or return <b>undef</b> if there is no such node.  Return the last child of the specified <b>$node</b> if no <b>@context</b> is specified.
<tr><td>110<td>lastUntilText<td></b></b><td>Go last from the specified <b>$node</b> and continue deeper lastly until a last child text node matches the specified <b>@context</b> or return <b>undef</b> if there is no such node.
<tr><td>111<td>lastWhile<td></b></b><td>Go last from the specified <b>$node</b> and continue deeper lastly as long as each last child node matches one of the specified <b>@tags</b>. Return the deepest such node encountered or else return <b>undef</b> if no such node is encountered.
<tr><td>112<td>lastn<td></b></b><td>Return the <b>$n</b>'th last node below the specified <b>$node</b> optionally checking its context or <b>undef</b> if there is no such node.  <b>lastn(1)</b> is identical in effect to <b>last</b>.
<tr><td>113<td>lineLocation<td></b></b><td>Return the line number.column location of this tag in its source file or string if the source was parsed with the <b>line number</b> option on.
<tr><td>114<td>location<td></b></b><td>Return the line number.column plus file location of this tag in its source file or string if the source was parsed with the <b>line number</b> option on.
<tr><td>115<td>matchNodesByRepresentation<td></b></b><td>Creates a hash of arrays of nodes that have the same representation in the specified <b>$tree</b>. Set <b>representation</b> for each node in the tree before calling this method.
<tr><td>116<td>matchesNextTags<td></b>mnt</b><td>Return the specified b<$node> if the siblings following the specified <b>$node</b> <b>match</b> the specified <@tags> else return <b>undef</b>.
<tr><td>117<td>matchesPrevTags<td></b>mpt</b><td>Return the specified b<$node> if the siblings prior to the specified <b>$node</b> <b>match</b> the specified <@tags> else return <b>undef</b>.
<tr><td>118<td>mergeDuplicateChildWithParent<td></b></b><td>Merge a parent node with its only child if their tags are the same and their attributes do not collide other than possibly the id in which case the parent id is used. Any labels on the child are transferred to the parent. The child node is then unwrapped and the parent node is returned.
<tr><td>119<td>moveEndLast<td></b></b><td>Move the end of a <b>$node</b> to contain all of its following siblings as children. Returns <b>$node</b> if the move was made successfully, else confess that the specified move is impossible.
<tr><td>120<td>moveSelectionAfter<td></b>ma</b><td>Move the current selection (if there is one) after the specified <b>$node</b> in the optional <b>@context</b> and return the specified <b>$node</b> on success else <b>undef</b>.
<tr><td>121<td>moveSelectionBefore<td></b>mb</b><td>Move the current selection (if there is one) before the specified <b>$node</b> in the optional <b>@context</b> and return the specified <b>$node</b> on success else <b>undef</b>.
<tr><td>122<td>moveSelectionFirst<td></b>mf</b><td>Move the current selection (if there is one) so that it is first under the specified <b>$node</b> in the optional <b>@context</b> and return the specified <b>$node</b> on success else <b>undef</b>.
<tr><td>123<td>moveSelectionLast<td></b>ml</b><td>Move the current selection (if there is one) so that it is last under the specified <b>$node</b> in the optional <b>@context</b> and return the specified <b>$node</b> on success else <b>undef</b>.
<tr><td>124<td>moveStartFirst<td></b></b><td>Move the start of a <b>$node</b> to contain all of its preceding siblings as children. Returns <b>$node</b> if the move was made successfully, else confess that the specified move is impossible.
<tr><td>125<td>next<td></b></b><td>Return the node next to the specified <b>$node</b>, optionally checking the next node's context. See <b>addNext</b> to ensure that an expected node is in position.
<tr><td>126<td>nextIn<td></b></b><td>Return the nearest sibling after the specified <b>$node</b> that matches one of the named tags or <b>undef</b> if there is no such sibling node.
<tr><td>127<td>nextN<td></b></b><td>Return <b>$N</b> nodes as an array starting at <b>$node</b> inclusive if they match the first <b>$N</b> tags of <b>@context</b>. If <b>@context</b> contains more then <b>$N</b> entries, the remainder are checked as the context of the parent of <b>$node</b>. Returns an array of nodes found or an empty array if the specified <b>$node</b> does not match these conditions.
<tr><td>128<td>nextOn<td></b></b><td>Step forwards as far as possible from the specified <b>$node</b> while remaining on nodes with the specified tags. In scalar context return the last such node reached or the starting node if no such steps are possible. In array context return the start node and any following matching nodes.
<tr><td>129<td>nextText<td></b></b><td>Return the node after the specified <b>$node</b> if it is in the optional and it is a text node otherwise <b>undef</b>.
<tr><td>130<td>nextTextMatches<td></b></b><td>Return the next node to the specified <b>$node</b> if: it is a text mode; its text matches the specified regular expression; the specified <b>$node</b> is in the optional specified context. Else return <b>undef</b>.
<tr><td>131<td>nextUntil<td></b></b><td>Go to the next sibling of the specified <b>$node</b> and continue forwards until the tag of a sibling node matches one of the specified <b>@tags</b>. Return the matching sibling node else <b>undef</b> if there is no such sibling node.
<tr><td>132<td>nextWhile<td></b></b><td>Go to the next sibling of the specified <b>$node</b> and continue forwards while the tag of each sibling node matches one of the specified <b>@tags</b>. Return the first sibling node that does not match else <b>undef</b> if there is no such sibling.
<tr><td>133<td>nextn<td></b></b><td>Return the <b>$n</b>'th next node after the specified <b>$node</b> optionally checking its context or <b>undef</b> if there is no such node.  <b>nextn(1)</b> is identical in effect to <b>next</b>.
<tr><td>134<td>not<td></b></b><td>Return the specified <b>$node</b> if it does not match any of the specified tags, else <b>undef</b>
<tr><td>135<td>overAllTags<td></b>oat</b><td>Return the specified b<$node> if all of it's child nodes <b>match</b> the specified <@tags> else return <b>undef</b>.
<tr><td>136<td>overFirstTags<td></b>oft</b><td>Return the specified b<$node> if the first of it's child nodes <b>match</b> the specified <@tags> else return <b>undef</b>.
<tr><td>137<td>overLastTags<td></b>olt</b><td>Return the specified b<$node> if the last of it's child nodes <b>match</b> the specified <@tags> else return <b>undef</b>.
<tr><td>138<td>parentage<td></b>p</b><td>Return a reference to an array of the nodes along the path from the root to the specified <b>$Node</b> inclusive.
<tr><td>139<td>path<td></b></b><td>Return a list of strings representing the path to a node from the root of the parse tree which can then be reused by <b>go</b> to retrieve the node as long as the structure of the <b>parse</b> tree has not changed along the path.
<tr><td>140<td>pathString<td></b></b><td>Return a string representing the <b>path</b> to the specified <b>$node</b> from the root of the parse tree.
<tr><td>141<td>position<td></b></b><td>Return the index of the specified <b>$node</b> in the content of the parent of the <b>$node</b>.
<tr><td>142<td>present<td></b></b><td>Return the count of the number of the specified tag types present immediately under a node or a hash {tag} = count for all the tags present under the node if no names are specified.
<tr><td>143<td>prettyString<td></b></b><td>Return a readable string representing a node of a <b>parse</b> tree and all the nodes below it. Or use <b>-p</b> $node
<tr><td>144<td>prettyStringCDATA<td></b></b><td>Return a readable string representing a node of a <b>parse</b> tree and all the nodes below it with the text fields wrapped with <CDATA>...</CDATA>.
<tr><td>145<td>prettyStringContent<td></b></b><td>Return a readable string representing all the nodes below a node of a <b>parse</b> tree.
<tr><td>146<td>prettyStringContentNumbered<td></b></b><td>Return a readable string representing all the nodes below a node of a <b>parse</b> tree with numbering added.
<tr><td>147<td>prettyStringDitaHeaders<td></b></b><td>Return a readable string representing the <b>parse</b> tree below the specified <b>$node</b> with appropriate headers. Or use <b>-x</b> $node
<tr><td>148<td>prettyStringEnd<td></b></b><td>Return a readable string representing a node of a <b>parse</b> tree and all the nodes below it as a here document
<tr><td>149<td>prettyStringNumbered<td></b></b><td>Return a readable string representing a node of a <b>parse</b> tree and all the nodes below it with a <b>number</b> attached to each tag. The node numbers can then be used as described in <b>Order</b> to monitor changes to the <b>parse</b> tree.
<tr><td>150<td>prev<td></b></b><td>Return the node before the specified <b>$node</b>, optionally checking the previous node's context. See <b>addLast</b> to ensure that an expected node is in position.
<tr><td>151<td>prevIn<td></b></b><td>Return the nearest sibling node before the specified <b>$node</b> which matches one of the named tags or <b>undef</b> if there is no such sibling node.
<tr><td>152<td>prevN<td></b></b><td>Return <b>$N</b> nodes as an array ending at <b>$node</b> inclusive if they match the first <b>$N</b> tags of <b>@context</b>. If <b>@context</b> contains more then <b>$N</b> entries, the remainder are checked as the context of the parent of <b>$node</b>. Returns an array of nodes found or an empty array if the specified <b>$node</b> does not match these conditions.
<tr><td>153<td>prevOn<td></b></b><td>Step backwards as far as possible while remaining on nodes with the specified tags. In scalar context return the last such node reached or the starting node if no such steps are possible. In array context return the start node and any preceding matching nodes.
<tr><td>154<td>prevText<td></b></b><td>Return the node before the specified <b>$node</b> if it is in the optional and it is a text node otherwise <b>undef</b>.
<tr><td>155<td>prevTextMatches<td></b></b><td>Return the previous node to the specified <b>$node</b> if: it is a text mode; its text matches the specified regular expression; the specified <b>$node</b> is in the optional specified context. Else return <b>undef</b>.
<tr><td>156<td>prevUntil<td></b></b><td>Go to the previous sibling of the specified <b>$node</b> and continue backwards until the tag of a sibling node matches one of the specified <b>@tags</b>. Return the matching sibling node else <b>undef</b> if there is no such sibling node.
<tr><td>157<td>prevWhile<td></b></b><td>Go to the previous sibling of the specified <b>$node</b> and continue backwards while the tag of each sibling node matches one of the specified <b>@tags</b>. Return the first sibling node that does not match else <b>undef</b> if there is no such sibling.
<tr><td>158<td>prevn<td></b></b><td>Return the <b>$n</b>'th previous node after the specified <b>$node</b> optionally checking its context or <b>undef</b> if there is no such node.  <b>prevn(1)</b> is identical in effect to <b>prev</b>.
<tr><td>159<td>putContentAfter<td></b></b><td>Move the content of the specified <b>$node</b> and place it after that node if that node is in the optional <b>@context</b>.  Return the specified <b>$node</b> or confess if the move is not possible.
<tr><td>160<td>putContentBefore<td></b></b><td>Move the content of the specified <b>$node</b> and place it before that node if that node is in the optional <b>@context</b>.  Return the specified <b>$node</b> or confess if the move is not possible.
<tr><td>161<td>putFirstAsComment<td></b></b><td>Put a comment first under the specified <b>$node</b> and return the specified <b>$node</b>.
<tr><td>162<td>putFirstAsText<td></b></b><td>Add a new text node first under a parent and return the new text node.
<tr><td>163<td>putLastAsComment<td></b></b><td>Put a comment last under the specified <b>$node</b> and return the specified <b>$node</b>.
<tr><td>164<td>putLastAsText<td></b></b><td>Add a new text node last under a parent and return the new text node.
<tr><td>165<td>putNextAsComment<td></b></b><td>Put a comment after the specified <b>$node</b> and return the specified <b>$node</b>
<tr><td>166<td>putNextAsText<td></b></b><td>Add a new text node following the specified <b>$node</b> and return the new text node.
<tr><td>167<td>putNextFirstCut<td></b></b><td>Move the specified <b>$node</b> so it is first in the next node with the optional context. Return the specified <b>$node</b> on success else return <b>undef</b> on failure.
<tr><td>168<td>putNextFirstCut2<td></b></b><td>Move the specified <b>$node</b> so it is first in the first node with the specified optional context of the next node. Return the specified <b>$node</b> on success else return <b>undef</b> on failure.
<tr><td>169<td>putPrevAsComment<td></b></b><td>Put a comment before the specified <b>$parent</b> parentand return the specified <b>$node</b>
<tr><td>170<td>putPrevAsText<td></b></b><td>Add a new text node following the specified <b>$node</b> and return the new text node
<tr><td>171<td>putPrevLastCut<td></b></b><td>Move the specified <b>$node</b> so it is last in the preceding node with the optional context. Return the specified <b>$node</b> on success else return <b>undef</b> on failure.
<tr><td>172<td>putPrevLastCut2<td></b></b><td>Move the specified <b>$node</b> so it is last in the last node with the specified optional context of the preceding node. Return the specified <b>$node</b> on success else return <b>undef</b> on failure.
<tr><td>173<td>putSiblingsAfterParent<td></b></b><td>Move the specified <b>$node</b> and its following siblings up one level and place them after the parent of the specified <b>$node</b> if the specified <b>$node</b> is in the optional <b>@context</b>.  Return the specified <b>$node</b> if the move was made successfully, else confess that the specified move is not possible.
<tr><td>174<td>putSiblingsBeforeParent<td></b></b><td>Move the specified <b>$node</b> and its preceding siblings up one level and place them before the parent of the specified <b>$node</b> if the specified <b>$node</b> is in the optional <b>@context</b>.  Return the specified <b>$node</b> if the move was made successfully, else confess that the specified move is not possible.
<tr><td>175<td>putSiblingsFirst<td></b></b><td>Move the siblings preceding the specified <b>$node</b> in the optional <b>@context</b> down one level and place them first under the specified <b>$node</b> preceding any existing content.  Return the specified <b>$node</b>.
<tr><td>176<td>putSiblingsLast<td></b></b><td>Move the siblings following the specified <b>$node</b> in the optional <b>@context</b> down one level so that they are last under the specified <b>$node</b> following any existing content. Return the specified <b>$node</b>.
<tr><td>177<td>putUpNextCut<td></b></b><td>Move the specified <b>$node</b> so it is next after its parent. Return the specified <b>$node</b> on success else return <b>undef</b> on failure.
<tr><td>178<td>putUpNextCut2<td></b></b><td>Move the specified <b>$node</b> so it is next after its grandparent. Return the specified <b>$node</b> on success else return <b>undef</b> on failure.
<tr><td>179<td>putUpPrevCut<td></b></b><td>Move the specified <b>$node</b> so it is prior to its its parent. Return the specified <b>$node</b> on success else return <b>undef</b> on failure.
<tr><td>180<td>putUpPrevCut2<td></b></b><td>Move the specified <b>$node</b> so it is prior to its grandparent. Return the specified <b>$node</b> on success else return <b>undef</b> on failure.
<tr><td>181<td>renameAttr<td></b></b><td>Rename attribute <b>$old</b> to <b>$new</b> in the specified <b>$node</b> with optional context <b>@context</b> regardless of whether attribute <b>$new</b> already exists or not and return the <b>$node</b>. To prevent inadvertent changes to an existing attribute use <b>changeAttr</b>.
<tr><td>182<td>renameAttrValue<td></b></b><td>Rename attribute <b>$old</b> to <b>$new</b> with new value <b>$newValue</b> in the specified <b>$node</b> in the optional <b>@context</b> regardless of whether attribute <b>$new</b> already exists or not as long as the attribute <b>$old</b> has the value <b>$oldValue</b>. Return the <b>$node</b> regardless of what changes were made. To prevent inadvertent changes to existing attributes use <b>changeAttrValue</b>.
<tr><td>183<td>renameAttrXtr<td></b></b><td>Rename the attributes <b>@attr</b> as far as possible to xtrc or xtrf.  Returns an array of the attributes that could not be so renamed.
<tr><td>184<td>replaceContentWithText<td></b></b><td>Replace the content of a node with the specified texts and return the replaced content
<tr><td>185<td>replaceWithBlank<td></b></b><td>Replace a node (and all its content) with a new blank text node and return the new node.
<tr><td>186<td>replaceWithText<td></b></b><td>Replace a node (and all its content) with a new text node and return the new node.
<tr><td>187<td>set<td></b></b><td>Set the values of some attributes in a node and return the node. Identical in effect to <b>setAttr</b>.
<tr><td>188<td>setAttr<td></b></b><td>Set the values of some attributes in a node and return the node. Identical in effect to <b>set</b>.
<tr><td>189<td>setDepthProfile<td></b></b><td>Sets the <b>depthProfile</b> for every node in the specified <b>$tree</b>. The last set <b>depthProfile</b> for a specific niode can be retrieved from <b>depthProfileLast</b>.
<tr><td>190<td>setRepresentationAsTagsAndText<td></b></b><td>Sets the <b>representationLast</b> for every node in the specified <b>$tree</b> via <b>stringTagsAndText</b>.
<tr><td>191<td>setRepresentationAsText<td></b></b><td>Sets the <b>representationLast</b> for every node in the specified <b>$tree</b> via <b>stringText</b>.
<tr><td>192<td>setSelectionEnd<td></b>se</b><td>Set the selection to end at the specified <b>$node</b> in the optional <b>@context</b> and return the specified <b>$node</b> on success else <b>undef</b>..
<tr><td>193<td>setSelectionStart<td></b>ss</b><td>Set the selection to start at the specified <b>$node</b> in the optional <b>@context</b> and return the specified <b>$node</b> on success else <b>undef</b>..
<tr><td>194<td>splitAfter<td></b></b><td>Split the parent node into two identical nodes except all the siblings after the specified <b>$node</b> are retained by the existing parent while any preceding siblings become siblings of the new parent node which is placed before the existing parent. The new parent is returned
<tr><td>195<td>splitAndWrapFromStart<td></b></b><td>Split the child nodes of <b>$parent</b> on the child nodes with a tag of <b>$split</b> wrapping the splitting node and all preceding nodes from the previous splitting node or the start with the specified <b>$wrap</b>ping node with optional <b>%attributes</b>.  Returns an array of the wrapping nodes created.
<tr><td>196<td>splitAndWrapToEnd<td></b></b><td>Split the sequence of child nodes under the specified <b>$parent</b> node on those child nodes whose tag value is <b>$split</b> wrapping the splitting node and all following nodes up until the next splitting node or the end of the sequence with newly created nodes whose tag is <b>$wrap</b> with optional attributes <b>%attributes</b>.  Returns an array of the wrapping nodes so created.
<tr><td>197<td>splitBefore<td></b></b><td>Split the parent node into two identical nodes except all the siblings before the specified <b>$node</b> are retained by the existing parent while any following siblings become siblings of the new parent node which is placed after the existing parent. The new parent is returned.
<tr><td>198<td>splitParentAfter<td></b>spa</b><td>Finish and restart the parent of the specified <b>$node</b> just after the specified <b>$node</b> and return the newly created parent node on success or <b>undef</b> on failure.
<tr><td>199<td>splitParentBefore<td></b>spb</b><td>Finish and restart the parent of the specified <b>$node</b> just before the specified <b>$node</b> and return the newly created parent node on success or <b>undef</b> on failure.
<tr><td>200<td>string<td></b></b><td>Return a dense string representing a node of a <b>parse</b> tree and all the nodes below it. Or use <b>-s</b> <b>$node</b>.
<tr><td>201<td>stringContent<td></b></b><td>Return a string representing all the nodes below a node of a <b>parse</b> tree.
<tr><td>202<td>stringMd5Sum<td></b></b><td>Return the md5 sum of the dense <b>string</b> representing a node of a <b>parse</b> tree minus its <b>id</b> and all the nodes below it. Or use <b>-g</b> <b>$node</b>. The id of the top most node is not included in the md5sum to equate parse trees that would otherwise only differ by the arbitrary root node id value.
<tr><td>203<td>stringNode<td></b></b><td>Return a string representing the specified <b>$node</b> showing the attributes, labels and node number.
<tr><td>204<td>stringQuoted<td></b></b><td>Return a quoted string representing a <b>parse</b> tree a node of a <b>parse</b> tree and all the nodes below it. Or use <b>-o</b> <b>$node</b>.
<tr><td>205<td>stringTagsAndText<td></b></b><td>Return a string showing just the tags and text at and below a specified <b>$node</b>.
<tr><td>206<td>stringText<td></b></b><td>Return a string showing just the text of the text nodes (separated by blanks) at and below a specified <b>$node</b>.
<tr><td>207<td>swapFirstSibling<td></b>sfs</b><td>Swap <b>$node</b> with its first sibling node and return <b>$node</b>.
<tr><td>208<td>swapLastSibling<td></b>sls</b><td>Swap <b>$node</b> with its last sibling node and return <b>$node</b>.
<tr><td>209<td>swapNext<td></b>sn</b><td>Swap <b>$node</b> with its following node if $<b>$node</b> matches the first element of the specified context and the next node matches the rest.  Return the node that originally followed <b>$node</b> on success or <b>undef</b> on failure.
<tr><td>210<td>swapPrev<td></b>sp</b><td>Swap <b>$node</b> with its preceding node if $<b>$node</b> matches the first element of the specified context and the previous node matches the rest.  Return the node that originally followed <b>$node</b> on success or <b>undef</b> on failure.
<tr><td>211<td>swapTagWithParent<td></b></b><td>Swap the tags of the specified <b>$node</b> and its parent optionally checking that the <b>$node</b> is in the specified context and return (parent of <b>$node</b>, <b>$node</b>) or () if there is no such parent node.
<tr><td>212<td>unwrap<td></b>u</b><td>Unwrap the specified <b>$node</b> by inserting its content into its parent at the point containing the specified <b>$node</b> and return the parent node. Returns <b>undef</b> if an attempt is made to unwrap a text node.  Confesses if an attempt is made to unwrap the root node.
<tr><td>213<td>unwrapContentsKeepingText<td></b></b><td>Unwrap all the non text nodes below the specified <b>$node</b> adding a leading and a trailing space to prevent unwrapped content from being elided and return the specified <b>$node</b> else <b>undef</b> if not in the optional <b>@context</b>.
<tr><td>214<td>unwrapOnlyChild<td></b></b><td>Unwrap the specified <b>$node</b> in the optional <b>@context</b> when the <b>$node</b> is the only child of its parent. Return the specified <b>$node</b> regardless unless the node is not in the optional context in which case return <b>undef</b>.
<tr><td>215<td>unwrapParentOfOnlyChild<td></b></b><td>Unwrap the parent of the specified <b>$node</b> in the optional <b>@context</b> when the <b>$node</b> is the only child of its parent. Return the specified <b>$node</b> regardless unless the node is not in the optional context in which case return <b>undef</b>.
<tr><td>216<td>unwrapParentsWithSingleChild<td></b></b><td>Unwrap any immediate ancestors of the specified <b>$node</b> in the optional <b>@context</b> which have only a single child and return the specified <b>$node</b> regardless unless the node is not in the optional context in which case return <b>undef</b>.
<tr><td>217<td>up<td></b></b><td>Return the parent of the current node optionally checking the parent node's context or return <b>undef</b> if the specified <b>$node</b> is the root of the <b>parse</b> tree.   See <b>addWrapWith</b> to ensure that an expected node is in position.
<tr><td>218<td>upThru<td></b></b><td>Go up the specified path from the specified <b>$node</b> returning the node at the top or <b>undef</b> if no such node exists.
<tr><td>219<td>upUntil<td></b></b><td>Return the nearest ancestral node to the specified <b>$node</b> that matches the specified <b>@context</b> or <b>undef</b> if there is no such node.  Returns the parent node of the specified <b>$node</b> if no <b>@context</b> is specified.
<tr><td>220<td>upUntilFirst<td></b></b><td>Move up from the specified <b>$node</b> until we reach the root or a first node.
<tr><td>221<td>upUntilIsOnlyChild<td></b></b><td>Move up from the specified <b>$node</b> until we reach the root or another only child.
<tr><td>222<td>upUntilLast<td></b></b><td>Move up from the specified <b>$node</b> until we reach the root or a last node.
<tr><td>223<td>upWhile<td></b></b><td>Go up one level from the specified <b>$node</b> and then continue up while each node matches on of the specified <@tags>. Return the last matching node or <b>undef</b> if no node matched any of the specified <b>@tags</b>.
<tr><td>224<td>upWhileFirst<td></b></b><td>Move up from the specified <b>$node</b> as long as each node is a first node or return <b>undef</b> if the specified <b>$node</b> is not a first node.
<tr><td>225<td>upWhileIsOnlyChild<td></b></b><td>Move up from the specified <b>$node</b> as long as each node is an only child or return <b>undef</b> if the specified <b>$node</b> is not an only child.
<tr><td>226<td>upWhileLast<td></b></b><td>Move up from the specified <b>$node</b> as long as each node is a last node or return <b>undef</b> if the specified <b>$node</b> is not a last node.
<tr><td>227<td>upn<td></b></b><td>Go up the specified number of levels from the specified <b>$node</b> and return the node reached optionally checking the parent node's context or <b>undef</b> if there is no such node.<b>upn(1)</b> is identical in effect to <b>up</b>.  Or use <b>ancestry</b> to get the path back to the root node.
<tr><td>228<td>wrapContentWith<td></b>wcw</b><td>Wrap the content of the specified <b>$node</b> in a new node created from the specified <b>$tag</b> and <b>%attributes</b>: the specified <b>$node</b> then contains just the new node which, in turn, contains all the content of the specified <b>$node</b>.\mReturns the new wrapping node.
<tr><td>229<td>wrapDown<td></b></b><td>Wrap the content of the specified <b>$node</b> in a sequence of new nodes forcing the original node up - deepening the <b>parse</b> tree - return the array of wrapping nodes if want array else the last wrapping node.
<tr><td>230<td>wrapFirstN<td></b></b><td>Wrap the first <b>$N</b> nodes under this <b>$node</b> in the optional <b>@context</b> with the specified <b>$tag</b> and return the new node or <b>undef</b> if there are no such nodes to wrap.
<tr><td>231<td>wrapFromFirst<td></b></b><td>Wrap this <b>$node</b> and any preceding siblings with a new node created from the specified <b>$tag</b> and <b>%attributes</b> and return the wrapping node.
<tr><td>232<td>wrapFromFirstOrLastIn<td></b></b><td>Wrap inclusively from the first sibling node to the specified <b>$node</b> or from the last prior sibling node whose tag matches one of the tags in <b>@targets</b> to the specified <b>$node</b> using <b>$tag</b> as the tag of the wrapping node and return the wrapping node.
<tr><td>233<td>wrapLastN<td></b></b><td>Wrap the last <b>$N</b> nodes under this <b>$node</b> in the optional <b>@context</b> with the specified <b>$tag</b> and return the new node or <b>undef</b> if there are no such nodes to wrap.
<tr><td>234<td>wrapNext<td></b></b><td>Wrap this <b>$node</b> and the following sibling with a new node created from the specified <b>$tag</b>. If the optional context is specified then it should match the first node, next node and the context of the parent of the <b>$node</b> as far as it is specified.  Return the new node created or <b>undef</b> on failure.
<tr><td>235<td>wrapNextN<td></b></b><td>Wrap this <b>$node</b>and the next <b>$N</b>-1 nodes following this <b>$node</b> in the optional <b>@context</b> with the specified <b>$tag</b> and return the new node or <b>undef</b> if there are no such nodes to wrap.
<tr><td>236<td>wrapPrev<td></b></b><td>Wrap this <b>$node</b> and the preceding sibling with a new node created from the specified <b>$tag</b>. If the optional context is specified then it should match the first node, previous node and the context of the parent of the <b>$node</b> as far as it is specified.  Return the new node created or <b>undef</b> on failure.
<tr><td>237<td>wrapPrevN<td></b></b><td>Wrap this <b>$node</b>and the previous <b>$N</b>-1 nodes following this <b>$node</b> in the optional <b>@context</b> with the specified <b>$tag</b> and return the new node or <b>undef</b> if there are no such nodes to wrap.
<tr><td>238<td>wrapRuns<td></b></b><td>Wrap consecutive runs of children under the specified parent <b>$node</b> that are not already wrapped with <b>$wrap</b>. Returns an array of any wrapping nodes created.  Returns () if the specified <b>$node</b> is not in the optional <b>@context</b>.
<tr><td>239<td>wrapSiblingsAfter<td></b></b><td>If there are any siblings after the specified <b>$node</b>, wrap them with a new node created from the specified <b>$tag</b> and <b>%attributes</b> and return the newly created node.\mReturns <b>undef</b> if the specified <b>$node</b> is the last node under its parent.
<tr><td>240<td>wrapSiblingsBefore<td></b></b><td>If there are any siblings before the specified <b>$node</b>, wrap them with a new node created from the specified <b>$tag</b> and <b>%attributes</b> and return the newly created node.\mReturns <b>undef</b> if the specified <b>$node</b> is the first node under its parent.
<tr><td>241<td>wrapToLast<td></b></b><td>Wrap this <b>$node</b> and any following siblings with a new node created from the specified <b>$tag</b> and <b>%attributes</b> and return the wrapping node.
<tr><td>242<td>wrapToLastOrFirstIn<td></b></b><td>Wrap this <b>$node</b> and any following siblings, up to and including the first sibling that matches one of the specified <b>@find</b> nodes or all following siblings if no such match occurs, with a new node created from the specified <b>$tag</b> and return the new wrapping node.
<tr><td>243<td>wrapUp<td></b></b><td>Wrap the specified <b>$node</b> in a sequence of new nodes created from the specified <b>@tags</b> forcing the original node down - deepening the <b>parse</b> tree - return the array of wrapping nodes if want array else the last wrapping node.
<tr><td>244<td>wrapWith<td></b></b><td>Wrap the specified <b>$node</b> in a new node created from the specified <b>$tag</b> and <b>%attributes</b> forcing the specified <b>$node</b> down - deepening the <b>parse</b> tree - return the new wrapping node. See <b>addWrapWith</b> to perform this operation conditionally.
<tr><td>245<td>wrapWithAll<td></b>ww</b><td>Wrap this <b>$node</b> wrapped with the specified <b>@tags</b> and return the last wrapping node.
<tr><td>246<td>wrapWithN<td></b></b><td>Wrap this <b>$node</b> with the first <b>$N</b> elements of <b>@context</b>. If <b>@context</b> contains more then <b>$N</b> entries, the remainder are checked as the context of <b>$node</b>. Returns the upper most wrapping node or <b>undef</b> if the specified <b>$node</b> does not match these conditions.
<tr><td>247<td>zipDown<td></b></b><td>Push a node down as many levels as possible by making it a child of a node formed by merging the preceding and following siblings if they have the same tag.
<tr><td>248<td>zipDownOnce<td></b></b><td>Push a node down one level by making it a child of a node formed by merging the preceding and following siblings if they have the same tag.
</table>
</div>
