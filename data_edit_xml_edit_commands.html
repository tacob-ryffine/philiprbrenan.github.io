<div style="width: 80em">

<h1>Methods in Data::Edit::Xml that can be used to Edit Dita in Geany</h1>

<p><a format="html" href="https://metacpan.org/pod/Data::Edit::Xml">Data::Edit::Xml</a> is a Perl extension module that can help you edit <a format="html" href="http://docs.oasis-open.org/dita/dita/v1.3/os/part2-tech-content/dita-v1.3-os-part2-tech-content.html">Dita</a>.

<p>Normally such edits are performed in bulk under the control of a Perl
program. However, you can use many of these methods one at a time directly from
the <a format="html" href="https://www.geany.org">Geany</a> editor when it has been configured for <a format="html" href="http://docs.oasis-open.org/dita/dita/v1.3/os/part2-tech-content/dita-v1.3-os-part2-tech-content.html">Dita</a> editing. The
methods executed are recorded in log visible in another <a format="html" href="https://www.geany.org">Geany</a> tab so that
they can be edited directly into a program that us being developed to use
<a format="html" href="https://metacpan.org/pod/Data::Edit::Xml">Data::Edit::Xml</a>.

<p>The table below lists the methods that can be used in <a format="html" href="https://www.geany.org">Geany</a>.  Simply type
the method name and any parameters up against a closing <b>&gt;</b> or
<b>&gt;</b> as shown on line <b> 13 </b> like this:

<p><img src="/images/mlp_start.png"/>

<p>and press <b> shift+Enter </b> to merge the two lists:

<p><img src="/images/mlp_finish.png"/>

<table border="0" cellpadding="20">
<tr><th>Line<th>Method long name<th>aka<th>Parameters<th>Description

<tr><td>1<td>addFirst<td></b></b><td><p><pre>
   Parameter    Description
1  $tag         Tag of new node
2  %attributes  Attributes for the new node.
</pre></p>
<td>Add a new node L<first|/first> below the specified $𝗻𝗼𝗱𝗲 with the specified $𝘁𝗮𝗴
and %𝗮𝘁𝘁𝗿𝗶𝗯𝘂𝘁𝗲𝘀 unless a node with that tag already exists in that position.
Return the new node if it was created unless return the pre-existing node.

<tr><td>2<td>addFirstAsText<td></b></b><td><p><pre>
   Parameter  Description
1  $text      Text
</pre></p>
<td>Add a new text node first below the specified $𝗻𝗼𝗱𝗲 and return the new node
unless a text node already exists there and starts with the same text in which
case return the existing $𝗻𝗼𝗱𝗲.

<tr><td>3<td>addLast<td></b></b><td><p><pre>
   Parameter    Description
1  $tag         Tag of new node
2  %attributes  Attributes for the new node.
</pre></p>
<td>Add a new node L<last|/last> below the specified $𝗻𝗼𝗱𝗲 with the specified $𝘁𝗮𝗴
and %𝗮𝘁𝘁𝗿𝗶𝗯𝘂𝘁𝗲𝘀 unless a node with that tag already exists in that position.
Return the new node if it was created unless return the pre-existing node..

<tr><td>4<td>addLastAsText<td></b></b><td><p><pre>
   Parameter  Description
1  $text      Text
</pre></p>
<td>Add a new text node last below the specified $𝗻𝗼𝗱𝗲 and return the new node
unless a text node already exists there and ends with the same text in which
case return the existing $𝗻𝗼𝗱𝗲.

<tr><td>5<td>addNext<td></b></b><td><p><pre>
   Parameter    Description
1  $tag         Tag of new node
2  %attributes  Attributes for the new node.
</pre></p>
<td>Add a new node L<next|/next> the specified $𝗻𝗼𝗱𝗲 and return the new node unless
a node with that tag already exists in which case return the existing $𝗻𝗼𝗱𝗲.

<tr><td>6<td>addNextAsText<td></b></b><td><p><pre>
   Parameter  Description
1  $text      Text
</pre></p>
<td>Add a new text node after the specified $𝗻𝗼𝗱𝗲 and return the new node unless a
text node already exists there and starts with the same text in which case
return the existing $𝗻𝗼𝗱𝗲.

<tr><td>7<td>addPrev<td></b></b><td><p><pre>
   Parameter    Description
1  $tag         Tag of new node
2  %attributes  Attributes for the new node.
</pre></p>
<td>Add a new node L<before|/prev> the specified $𝗻𝗼𝗱𝗲 with the specified $𝘁𝗮𝗴 and
%𝗮𝘁𝘁𝗿𝗶𝗯𝘂𝘁𝗲𝘀 unless a node with that tag already exists in that position. Return
the new node if it was created unless return the pre-existing node.

<tr><td>8<td>addPrevAsText<td></b></b><td><p><pre>
   Parameter  Description
1  $text      Text
</pre></p>
<td>Add a new text node before the specified $𝗻𝗼𝗱𝗲 and return the new node unless a
text node already exists there and ends with the same text in which case return
the existing $𝗻𝗼𝗱𝗲.

<tr><td>9<td>addSingleChild<td></b></b><td><p><pre>
   Parameter    Description
1  $tag         Tag of new node
2  %attributes  Attributes for the new node.
</pre></p>
<td>Wrap the content of a specified $𝗻𝗼𝗱𝗲 in a new node with the specified $𝘁𝗮𝗴 and
optional %𝗮𝘁𝘁𝗿𝗶𝗯𝘂𝘁𝗲 unless the content is already wrapped in a single child with
the specified $𝘁𝗮𝗴.

<tr><td>10<td>addWrapWith<td></b></b><td><p><pre>
   Parameter    Description
1  $tag         Tag of new node
2  %attributes  Attributes for the new node.
</pre></p>
<td>L<Wrap|/wrap> the specified $𝗻𝗼𝗱𝗲 with the specified tag if the node is not
already wrapped with such a tag and return the new node unless a node with that
tag already exists in which case return the existing $𝗻𝗼𝗱𝗲.

<tr><td>11<td>an<td></b></b><td><p><pre>
   Parameter  Description
1  $current   Tag node must match
2  @context   Optional context of the next node.
</pre></p>
<td>Return the next node if the specified $𝗻𝗼𝗱𝗲 has the tag specified by $𝗰𝘂𝗿𝗿𝗲𝗻𝘁
and the next node is in the specified @𝗰𝗼𝗻𝘁𝗲𝘅𝘁.

<tr><td>12<td>ancestry<td></b></b><td><td>Return a list containing: (the specified $𝗻𝗼𝗱𝗲, its parent, its parent's parent
etc..). Or use L<upn|/upn> to go up the specified number of levels.

<tr><td>13<td>ap<td></b></b><td><p><pre>
   Parameter  Description
1  $current   Tag node must match
2  @context   Optional context of the previous node.
</pre></p>
<td>Return the previous node if the specified $𝗻𝗼𝗱𝗲 has the tag specified by
$𝗰𝘂𝗿𝗿𝗲𝗻𝘁 and the previous node is in the specified @𝗰𝗼𝗻𝘁𝗲𝘅𝘁.

<tr><td>14<td>apn<td></b></b><td><p><pre>
   Parameter  Description
1  $prev      Tag for the previous node
2  $current   Tag for specified node
3  @context   Context for the next node.
</pre></p>
<td>Return (previous node, next node) if the $𝗽𝗿𝗲𝘃𝗶𝗼𝘂𝘀 and $𝗰𝘂𝗿𝗿𝗲𝗻𝘁 nodes have the
specified tags and the next node is in the specified @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 else return ().
The specified @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 must have at least one element otherwise () is returned.

<tr><td>15<td>approxLocation<td></b></b><td><p><pre>
   Parameter  Description
1  $file      Optionally the location of the source.
</pre></p>
<td>Return the line number.column location of the node nearest to this node in the
source file if the source was parsed with the L<line number|/lineNumber> option
on.

<tr><td>16<td>at<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Ancestry.
</pre></p>
<td>Confirm that the specified $𝗻𝗼𝗱𝗲 has the specified L<ancestry|/ancestry> and
return the specified $𝗻𝗼𝗱𝗲 if it does else 𝘂𝗻𝗱𝗲𝗳. Ancestry is specified by
providing the expected tags that the $𝗻𝗼𝗱𝗲's parent, the parent's parent etc.
must match at each level. If 𝘂𝗻𝗱𝗲𝗳 is specified then any tag is assumed to match
at that level. If a regular expression is specified then the current parent node
tag must match the regular expression at that level. If all supplied tags match
successfully then the starting node is returned else 𝘂𝗻𝗱𝗲𝗳

<tr><td>17<td>atOrBelow<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Ancestry.
</pre></p>
<td>Confirm that the node or one of its ancestors has the specified context as
recognized by L<at|/at> and return the first node that matches the context or
𝘂𝗻𝗱𝗲𝗳 if none do.

<tr><td>18<td>attrCount<td></b></b><td><p><pre>
   Parameter  Description
1  @exclude   Optional attribute names to exclude from the count.
</pre></p>
<td>Return the number of attributes in the specified $𝗻𝗼𝗱𝗲, optionally ignoring the
specified names from the count.

<tr><td>19<td>attrValueAt<td></b></b><td><p><pre>
   Parameter   Description
1  $attribute  Attribute
2  $value      Wanted value of attribute
3  @context    Ancestry.
</pre></p>
<td>Return the specified $𝗻𝗼𝗱𝗲 if it has the specified $𝗮𝘁𝘁𝗿𝗶𝗯𝘂𝘁𝗲 with the specified
$𝘃𝗮𝗹𝘂𝗲 and the optional specified L<ancestry|/ancestry> else return 𝘂𝗻𝗱𝗲𝗳.

<tr><td>20<td>breakIn<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Concatenate the nodes following and preceding the start node, unwrapping nodes
whose tag matches the start node and return the start node. To concatenate only
the preceding nodes, use L<breakInBackwards|/breakInBackwards>, to concatenate
only the following nodes, use L<breakInForwards|/breakInForwards>.

<tr><td>21<td>breakInBackwards<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context..
</pre></p>
<td>Concatenate the nodes preceding the start node, unwrapping nodes whose tag
matches the start node and return the start node in the manner of
L<breakIn|/breakIn>.

<tr><td>22<td>breakInForwards<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context..
</pre></p>
<td>Concatenate the nodes following the start node, unwrapping nodes whose tag
matches the start node and return the start node in the manner of
L<breakIn|/breakIn>.

<tr><td>23<td>breakOut<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      The tags of the modes to be broken out.
</pre></p>
<td>Lift child nodes with the specified tags under the specified parent node
splitting the parent node into clones and return the cut out original node.

<tr><td>24<td>breakOutChild<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Lift the specified $𝗻𝗼𝗱𝗲 up one level splitting its parent. Return the specified
$𝗻𝗼𝗱𝗲 on success or 𝘂𝗻𝗱𝗲𝗳 if the operation is not possible.

<tr><td>25<td>c<td></b></b><td><p><pre>
   Parameter  Description
1  $tag       Tag.
</pre></p>
<td>Return an array of all the nodes with the specified tag below the specified
$𝗻𝗼𝗱𝗲.

<tr><td>26<td>cText<td></b></b><td><td>Return an array of all the text nodes immediately below the specified $𝗻𝗼𝗱𝗲.

<tr><td>27<td>change<td></b>cc</b><td><p><pre>
   Parameter  Description
1  $name      New name
2  @context   Optional context.
</pre></p>
<td>Change the name of the specified $𝗻𝗼𝗱𝗲, optionally confirming that the $𝗻𝗼𝗱𝗲 is
in a specified context and return the $𝗻𝗼𝗱𝗲.

<tr><td>28<td>changeAttr<td></b></b><td><p><pre>
   Parameter  Description
1  $old       Existing attribute name
2  $new       New attribute name
3  @context   Optional context.
</pre></p>
<td>Rename attribute $𝗼𝗹𝗱 to $𝗻𝗲𝘄 in the specified $𝗻𝗼𝗱𝗲 with optional context
@𝗰𝗼𝗻𝘁𝗲𝘅𝘁 unless attribute $𝗻𝗲𝘄 is already set and return the $𝗻𝗼𝗱𝗲. To make
changes regardless of whether the new attribute already exists use
L<renameAttr|/renameAttr>.

<tr><td>29<td>changeAttrValue<td></b></b><td><p><pre>
   Parameter  Description
1  $old       Existing attribute name
2  $oldValue  Existing attribute value
3  $new       New attribute name
4  $newValue  New attribute value
5  @context   Optional context.
</pre></p>
<td>Rename attribute $𝗼𝗹𝗱 to $𝗻𝗲𝘄 with new value $𝗻𝗲𝘄𝗩𝗮𝗹𝘂𝗲 on the specified $𝗻𝗼𝗱𝗲 in
the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 unless attribute $𝗻𝗲𝘄 is already set or the value of the
$𝗼𝗹𝗱 attribute is not $𝗼𝗹𝗱𝗩𝗮𝗹𝘂𝗲. Return the $𝗻𝗼𝗱𝗲 regardless of what changes
were made. To make changes regardless of whether the new attribute already
exists use L<renameAttrValue|/renameAttrValue>.

<tr><td>30<td>changeAttributeValue<td></b></b><td><p><pre>
   Parameter   Description
1  $attribute  Attribute name
2  $sub        Change sub
3  @context    Optional context.
</pre></p>
<td>Apply a sub to the value of an attribute of the specified $𝗻𝗼𝗱𝗲. The value to be
changed is supplied and returned in: L<$_>.

<tr><td>31<td>changeKids<td></b></b><td><p><pre>
   Parameter  Description
1  $name      New name
2  @context   Optional context.
</pre></p>
<td>Change the names of all the immediate children of the specified $𝗻𝗼𝗱𝗲, if they
match the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁, to the specified $𝘁𝗮𝗴 and return the $𝗻𝗼𝗱𝗲.

<tr><td>32<td>changeOrDeleteAttr<td></b></b><td><p><pre>
   Parameter  Description
1  $old       Existing attribute name
2  $new       New attribute name
3  @context   Optional context.
</pre></p>
<td>Rename attribute $𝗼𝗹𝗱 to $𝗻𝗲𝘄 in the specified $𝗻𝗼𝗱𝗲 in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁
unless attribute $𝗻𝗲𝘄 is already set in which case delete attribute $𝗼𝗹𝗱. Return
$𝗻𝗼𝗱𝗲 regardless of what action was taken. To make changes regardless of whether
the new attribute already exists use L<renameAttr|/renameAttr>.

<tr><td>33<td>changeOrDeleteAttrValue<td></b></b><td><p><pre>
   Parameter  Description
1  $old       Existing attribute name
2  $oldValue  Existing attribute value
3  $new       New attribute name
4  $newValue  New attribute value
5  @context   Optional context.
</pre></p>
<td>Rename attribute $𝗼𝗹𝗱 to $𝗻𝗲𝘄 with new value $𝗻𝗲𝘄𝗩𝗮𝗹𝘂𝗲 on the specified $𝗻𝗼𝗱𝗲 in
the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 unless attribute $𝗻𝗲𝘄 is already set or the value of the
$𝗼𝗹𝗱 attribute is not $𝗼𝗹𝗱𝗩𝗮𝗹𝘂𝗲 in which cases the $𝗼𝗹𝗱 attribute is deleted.
Return the $𝗻𝗼𝗱𝗲 regardless of any changes made. To make changes regardless of
whether the new attribute already exists use
L<renameAttrValue|/renameAttrValue>.

<tr><td>34<td>changeText<td></b></b><td><p><pre>
   Parameter  Description
1  $sub       Sub
2  @context   Optional context.
</pre></p>
<td>If the specified $𝗻𝗼𝗱𝗲 is a text node in the specified context then the
specified 𝘀𝘂𝗯 is passed the text of the node in L<$_>, any changes to which are
recorded in the text of the $𝗻𝗼𝗱𝗲.\mReturns 𝘂𝗻𝗱𝗲𝗳 if the specified $𝗻𝗼𝗱𝗲 is not
a text node in the specified optional context else it returns the result of
executing the specified 𝘀𝘂𝗯.

<tr><td>35<td>closestLocation<td></b></b><td><td>Return the nearest node with line number.column information

<tr><td>36<td>concatenateSiblings<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Concatenate the nodes that precede and follow the specified $𝗻𝗼𝗱𝗲 in the
optioonal @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 as long as they have the same tag as the specified $𝗻𝗼𝗱𝗲 and
return the specified $𝗻𝗼𝗱𝗲.

<tr><td>37<td>containsSingleText<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Return the single text element below the specified $𝗻𝗼𝗱𝗲 else return 𝘂𝗻𝗱𝗲𝗳.

<tr><td>38<td>contentAfter<td></b>ca</b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Return a list of all the sibling nodes following the specified $𝗻𝗼𝗱𝗲 or an empty
list if the specified $𝗻𝗼𝗱𝗲 is last or not in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁.

<tr><td>39<td>contentAfterAsTags<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Return a string containing the tags of all the sibling nodes following the
specified $𝗻𝗼𝗱𝗲 separated by single spaces or the empty string if the node is
empty or 𝘂𝗻𝗱𝗲𝗳 if the node does not match the optional context. Use
L<matchAfter|/matchAfter> to test the sequence of tags with a regular
expression.

<tr><td>40<td>contentAfterAsTags2<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Return a string containing the tags of all the sibling nodes following the
specified $𝗻𝗼𝗱𝗲 separated by two spaces with a single space preceding the first
tag and a single space following the last tag or the empty string if the node is
empty or 𝘂𝗻𝗱𝗲𝗳 if the node does not match the optional context. Use
L<matchAfter2|/matchAfter2> to test the sequence of tags with a regular
expression.

<tr><td>41<td>contentAsTags<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Return a string containing the tags of all the child nodes of the specified
$𝗻𝗼𝗱𝗲 separated by single spaces or the empty string if the node is empty or
𝘂𝗻𝗱𝗲𝗳 if the node does not match the optional context. Use L<over|/over> to test
the sequence of tags with a regular expression.

<tr><td>42<td>contentAsTags2<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Return a string containing the tags of all the child nodes of the specified
$𝗻𝗼𝗱𝗲 separated by two spaces with a single space preceding the first tag and a
single space following the last tag or the empty string if the node is empty or
𝘂𝗻𝗱𝗲𝗳 if the node does not match the optional context. Use L<over2|/over2> to
test the sequence of tags with a regular expression. Use L<over2|/over2> to test
the sequence of tags with a regular expression.

<tr><td>43<td>contentBefore<td></b>cb</b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Return a list of all the sibling nodes preceding the specified $𝗻𝗼𝗱𝗲 (in the
normal sibling order) or an empty list if the specified $𝗻𝗼𝗱𝗲 is last or not in
the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁.

<tr><td>44<td>contentBeforeAsTags<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Return a string containing the tags of all the sibling nodes preceding the
specified $𝗻𝗼𝗱𝗲 separated by single spaces or the empty string if the node is
empty or 𝘂𝗻𝗱𝗲𝗳 if the node does not match the optional context. Use
L<matchBefore|/matchBefore> to test the sequence of tags with a regular
expression.

<tr><td>45<td>contentBeforeAsTags2<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Return a string containing the tags of all the sibling nodes preceding the
specified $𝗻𝗼𝗱𝗲 separated by two spaces with a single space preceding the first
tag and a single space following the last tag or the empty string if the node is
empty or 𝘂𝗻𝗱𝗲𝗳 if the node does not match the optional context. Use
L<matchBefore2|/matchBefore2> to test the sequence of tags with a regular
expression.

<tr><td>46<td>context<td></b></b><td><td>Return a string containing the tag of the starting node and the tags of all its
ancestors separated by single spaces.

<tr><td>47<td>cutIfEmpty<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Cut out and return the specified $𝗻𝗼𝗱𝗲 so that it can be reinserted else where
in the L<parse|/parse> tree if it is empty.

<tr><td>48<td>deleteAttr<td></b></b><td><p><pre>
   Parameter  Description
1  $attr      Attribute name
2  $value     Optional attribute value to check first.
</pre></p>
<td>Delete the named attribute in the specified $𝗻𝗼𝗱𝗲, optionally check its value
first, returning the value of the attribute or 𝘂𝗻𝗱𝗲𝗳 if the attribute does not
exist on this node.

<tr><td>49<td>deleteAttrs<td></b></b><td><p><pre>
   Parameter  Description
1  @attrs     Names of the attributes to delete
</pre></p>
<td>Delete the specified attributes of the specified $𝗻𝗼𝗱𝗲 without checking their
values and return the node.

<tr><td>50<td>deleteAttrsInTree<td></b></b><td><p><pre>
   Parameter  Description
1  @attrs     Names of the attributes to delete
</pre></p>
<td>Delete the specified attributes of the specified $𝗻𝗼𝗱𝗲 and all the nodes under
it and return the specified $𝗻𝗼𝗱𝗲.

<tr><td>51<td>deleteContent<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Delete the content of the specified $𝗻𝗼𝗱𝗲.

<tr><td>52<td>depth<td></b></b><td><td>Returns the depth of the specified $𝗻𝗼𝗱𝗲, the depth of a root node is zero.

<tr><td>53<td>depthProfile<td></b></b><td><td>Returns the depth profile of the tree rooted at the specified $𝗻𝗼𝗱𝗲.

<tr><td>54<td>downWhileFirst<td></b>firstLeaf</b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Move down from the specified $𝗻𝗼𝗱𝗲 as long as each lower node is a first node.

<tr><td>55<td>downWhileHasSingleChild<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Move down from the specified $𝗻𝗼𝗱𝗲 as long as it has a single child else return
undef.

<tr><td>56<td>downWhileLast<td></b>lastLeaf</b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Move down from the specified $𝗻𝗼𝗱𝗲 as long as each lower node is a last node.

<tr><td>57<td>dup<td></b>r</b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Duplicate the specified $𝗻𝗼𝗱𝗲 in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 and return the new node
created or 𝘂𝗻𝗱𝗲𝗳 on success else 𝘂𝗻𝗱𝗲𝗳.

<tr><td>58<td>dupN<td></b>rN</b><td><p><pre>
   Parameter  Description
1  $N         Number of duplications
2  @context   Optional context.
</pre></p>
<td>Duplicate the specified $𝗻𝗼𝗱𝗲 $𝗡 times in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 and return the
last new node created on success else 𝘂𝗻𝗱𝗲𝗳.

<tr><td>59<td>expandIncludes<td></b></b><td><td>Expand the includes mentioned in a L<parse|/parse> tree: any tag that ends in
𝗶𝗻𝗰𝗹𝘂𝗱𝗲 is assumed to be an include directive. The file to be included is named
on the 𝗵𝗿𝗲𝗳 keyword. If the file to be included is a relative file name, i.e. it
does not begin with / then this file is made absolute relative to the file from
which this L<parse|/parse> tree was obtained.

<tr><td>60<td>findById<td></b></b><td><p><pre>
   Parameter  Description
1  $id        Id desired.
</pre></p>
<td>Find a node in the parse tree under the specified $𝗻𝗼𝗱𝗲 with the specified $𝗶𝗱.

<tr><td>61<td>first<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Return the first node below the specified $𝗻𝗼𝗱𝗲 optionally checking the first
node's context. See L<addFirst|/addFirst> to ensure that an expected node is in
position.

<tr><td>62<td>firstBy<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Tags to search for.
</pre></p>
<td>Return a list of the first instance of each specified tag encountered in a
post-order traversal from the specified $𝗻𝗼𝗱𝗲 or a hash of all first instances
if no tags are specified.

<tr><td>63<td>firstContextOf<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Array of tags specifying context.
</pre></p>
<td>Return the first node encountered in the specified context in a depth first
post-order traversal of the L<parse|/parse> tree.

<tr><td>64<td>firstDown<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Tags to search for.
</pre></p>
<td>Return a list of the first instance of each specified tag encountered in a
pre-order traversal from the specified $𝗻𝗼𝗱𝗲 or a hash of all first instances if
no tags are specified.

<tr><td>65<td>firstIn<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Child tags to search for.
</pre></p>
<td>Return the first child node matching one of the named tags under the specified
parent node.

<tr><td>66<td>firstInIndex<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Return the specified $𝗻𝗼𝗱𝗲 if it is first in its index and optionally L<at|/at>
the specified context else 𝘂𝗻𝗱𝗲𝗳

<tr><td>67<td>firstNot<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Child tags to avoid.
</pre></p>
<td>Return the first child node that does not match any of the named @𝘁𝗮𝗴𝘀 under the
specified parent $𝗻𝗼𝗱𝗲. Return 𝘂𝗻𝗱𝗲𝗳 if there is no such child node.

<tr><td>68<td>firstOf<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Tags to search for.
</pre></p>
<td>Return an array of the nodes that are continuously first under their specified
parent node and that match the specified list of tags.

<tr><td>69<td>firstSibling<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Array of tags specifying context.
</pre></p>
<td>Return the first sibling of the specified $𝗻𝗼𝗱𝗲 in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 else
𝘂𝗻𝗱𝗲𝗳

<tr><td>70<td>firstText<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Return the first node under the specified $𝗻𝗼𝗱𝗲 if it is in the optional and it
is a text node otherwise 𝘂𝗻𝗱𝗲𝗳.

<tr><td>71<td>firstTextMatches<td></b></b><td><p><pre>
   Parameter  Description
1  $match     Regular expression the text must match
2  @context   Optional context of specified node.
</pre></p>
<td>Return the first node under the specified $𝗻𝗼𝗱𝗲 if: it is a text mode; its text
matches the specified regular expression; the specified $𝗻𝗼𝗱𝗲 is in the optional
specified context. Else return 𝘂𝗻𝗱𝗲𝗳.

<tr><td>72<td>firstUntil<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Context to search for.
</pre></p>
<td>Go first from the specified $𝗻𝗼𝗱𝗲 and continue deeper firstly until a first
child node matches the specified @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 or return 𝘂𝗻𝗱𝗲𝗳 if there is no such
node. Return the first child of the specified $𝗻𝗼𝗱𝗲 if no @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 is specified.

<tr><td>73<td>firstUntilText<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Context to search for.
</pre></p>
<td>Go first from the specified $𝗻𝗼𝗱𝗲 and continue deeper firstly until a text node
is encountered whose parent matches the specified @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 or return 𝘂𝗻𝗱𝗲𝗳 if
there is no such node.

<tr><td>74<td>firstWhile<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Tags to search for.
</pre></p>
<td>Go first from the specified $𝗻𝗼𝗱𝗲 and continue deeper firstly as long as each
first child node matches one of the specified @𝘁𝗮𝗴𝘀. Return the deepest such
node encountered or else return 𝘂𝗻𝗱𝗲𝗳 if no such node is encountered.

<tr><td>75<td>firstn<td></b></b><td><p><pre>
   Parameter  Description
1  $N         Number of times to go first
2  @context   Optional context.
</pre></p>
<td>Return the $𝗻'th first node below the specified $𝗻𝗼𝗱𝗲 optionally checking its
context or 𝘂𝗻𝗱𝗲𝗳 if there is no such node. 𝗳𝗶𝗿𝘀𝘁𝗻(𝟭) is identical in effect to
L<first|/first>.

<tr><td>76<td>formatOxygenMessage<td></b></b><td><p><pre>
   Parameter  Description
1  $level     Error level [F|E|W]
2  $url       Explanatory Url
3  @message   Message text
</pre></p>
<td>Write an error message in Oxygen format

<tr><td>77<td>go<td></b></b><td><p><pre>
   Parameter  Description
1  @path      Search specification.
</pre></p>
<td>Return the node reached from the specified $𝗻𝗼𝗱𝗲 via the specified
L<path|/path>: (index position?)* where index is the tag of the next node to be
chosen and position is the optional zero based position within the index of
those tags under the current node. Position defaults to zero if not specified.
Position can also be negative to index back from the top of the index array. *
can be used as the last position to retrieve all nodes with the final tag.

<tr><td>78<td>hasSingleChild<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Return the only child of the specified $𝗻𝗼𝗱𝗲 if the child is the only node under
its parent ignoring any surrounding blank text and has the optional specified
context, else return 𝘂𝗻𝗱𝗲𝗳.

<tr><td>79<td>hasSingleChildText<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Return the only child of the specified $𝗻𝗼𝗱𝗲 if the child is a text node and the
child is the only node under its parent ignoring any surrounding blank text and
the child has the optional specified context, else return 𝘂𝗻𝗱𝗲𝗳.

<tr><td>80<td>hasSingleChildToDepth<td></b></b><td><p><pre>
   Parameter  Description
1  $depth     Depth
2  @context   Optional context
</pre></p>
<td>Return the descendant of the specified $𝗻𝗼𝗱𝗲 if it has single children to the
specified depth in the specified optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 else return 𝘂𝗻𝗱𝗲𝗳.
L<hasSingleChildToDepth(0)|/hasSingleChildToDepth> is equivalent to
L<hasSingleChild|/hasSingleChild>.

<tr><td>81<td>height<td></b></b><td><td>Returns the height of the tree rooted at the specified $𝗻𝗼𝗱𝗲.

<tr><td>82<td>help<td></b>h</b><td><td>Get help for a node and the editor

<tr><td>83<td>index<td></b></b><td><td>Return the index of the specified $𝗻𝗼𝗱𝗲 in its parent index. Use
L<position|/position> to find the position of a node under its parent.

<tr><td>84<td>invert<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Context
</pre></p>
<td>Swap a parent and child node where the child is the only child of the parent and
return the parent.

<tr><td>85<td>invertFirst<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Context
</pre></p>
<td>Swap a parent and child node where the child is the first child of the parent by
placing the parent last in the child. Return the parent.

<tr><td>86<td>invertLast<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Context
</pre></p>
<td>Swap a parent and child node where the child is the last child of the parent by
placing the parent first in the child. Return the parent.

<tr><td>87<td>isEmpty<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Confirm that the specified $𝗻𝗼𝗱𝗲 is empty, that is: the specified $𝗻𝗼𝗱𝗲 has no
content, not even a blank string of text. To test for blank nodes, see
L<isAllBlankText|/isAllBlankText>.

<tr><td>88<td>isFirst<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Return the specified $𝗻𝗼𝗱𝗲 if it is first under its parent and optionally has
the specified context, else return 𝘂𝗻𝗱𝗲𝗳

<tr><td>89<td>isFirstN<td></b></b><td><p><pre>
   Parameter  Description
1  $N         Number of tags to be first
2  @context   First tags and optional context
</pre></p>
<td>Return the first $𝗡 nodes as an array if the first $𝗡 tags of the parent of
$𝗻𝗼𝗱𝗲 finish at the specified $𝗻𝗼𝗱𝗲 and have the specified tags in the sequence
specified by @𝗰𝗼𝗻𝘁𝗲𝘅𝘁. If @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 contains more then $𝗡 entries, the remainder
are checked as the context of the parent of $𝗻𝗼𝗱𝗲. Returns an array of nodes
found or an empty array if the specified $𝗻𝗼𝗱𝗲 does not match these conditions.

<tr><td>90<td>isFirstToDepth<td></b></b><td><p><pre>
   Parameter  Description
1  $depth     Depth
2  @context   Optional context
</pre></p>
<td>Return the specified $𝗻𝗼𝗱𝗲 if it is first to the specified depth else return
𝘂𝗻𝗱𝗲𝗳

<tr><td>91<td>isLast<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Return the specified $𝗻𝗼𝗱𝗲 if it is last under its parent and optionally has the
specified context, else return 𝘂𝗻𝗱𝗲𝗳

<tr><td>92<td>isLastN<td></b></b><td><p><pre>
   Parameter  Description
1  $N         Number of tags to be last
2  @context   Last tags and optional context
</pre></p>
<td>Return the last $𝗡 nodes as an array if the last $𝗡 tags of the parent of $𝗻𝗼𝗱𝗲
start at the specified $𝗻𝗼𝗱𝗲 and have the specified tags in the sequence
specified by @𝗰𝗼𝗻𝘁𝗲𝘅𝘁. If @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 contains more then $𝗡 entries, the remainder
are checked as the context of the parent of $𝗻𝗼𝗱𝗲. Returns an array of nodes
found or an empty array if the specified $𝗻𝗼𝗱𝗲 does not match these conditions.

<tr><td>93<td>isLastToDepth<td></b></b><td><p><pre>
   Parameter  Description
1  $depth     Depth
2  @context   Optional context
</pre></p>
<td>Return the specified $𝗻𝗼𝗱𝗲 if it is last to the specified depth else return
𝘂𝗻𝗱𝗲𝗳

<tr><td>94<td>isOnlyChild<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Return the specified $𝗻𝗼𝗱𝗲 if it is the only node under its parent ignoring any
surrounding blank text.

<tr><td>95<td>isOnlyChildText<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Return the specified $𝗻𝗼𝗱𝗲 if it is a text node and it is an only child else and
its parent is in the specified optional context else return 𝘂𝗻𝗱𝗲𝗳.

<tr><td>96<td>isOnlyChildToDepth<td></b></b><td><p><pre>
   Parameter  Description
1  $depth     Depth to which each parent node must also be an only child
2  @context   Optional context
</pre></p>
<td>Return the specified $𝗻𝗼𝗱𝗲 if it and its ancestors are L<only
children|/isOnlyChild> to the specified depth else return 𝘂𝗻𝗱𝗲𝗳.
isOnlyChildToDepth(1) is the same as L<isOnlychild|/isOnlyChild>

<tr><td>97<td>jsonString<td></b></b><td><td>Return a Json representation of a parse tree

<tr><td>98<td>last<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Return the last node below the specified $𝗻𝗼𝗱𝗲 optionally checking the last
node's context. See L<addLast|/addLast> to ensure that an expected node is in
position.

<tr><td>99<td>lastBy<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Tags to search for.
</pre></p>
<td>Return a list of the last instance of each specified tag encountered in a
post-order traversal from the specified $𝗻𝗼𝗱𝗲 or a hash of all last instances if
no tags are specified.

<tr><td>100<td>lastContextOf<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Array of tags specifying context.
</pre></p>
<td>Return the last node encountered in the specified context in a depth first
reverse pre-order traversal of the L<parse|/parse> tree.

<tr><td>101<td>lastDown<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Tags to search for.
</pre></p>
<td>Return a list of the last instance of each specified tag encountered in a
pre-order traversal from the specified $𝗻𝗼𝗱𝗲 or a hash of all last instances if
no tags are specified.

<tr><td>102<td>lastIn<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Child tags to search for.
</pre></p>
<td>Return the last child node matching one of the named tags under the specified
parent node.

<tr><td>103<td>lastInIndex<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Return the specified $𝗻𝗼𝗱𝗲 if it is last in its index and optionally L<at|/at>
the specified context else 𝘂𝗻𝗱𝗲𝗳

<tr><td>104<td>lastNot<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Child tags to avoid.
</pre></p>
<td>Return the last child node that does not match any of the named @𝘁𝗮𝗴𝘀 under the
specified parent $𝗻𝗼𝗱𝗲. Return 𝘂𝗻𝗱𝗲𝗳 if there is no such child node.

<tr><td>105<td>lastOf<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Tags to search for.
</pre></p>
<td>Return an array of the nodes that are continuously last under their specified
parent node and that match the specified list of tags.

<tr><td>106<td>lastSibling<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Array of tags specifying context.
</pre></p>
<td>Return the last sibling of the specified $𝗻𝗼𝗱𝗲 in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 else
𝘂𝗻𝗱𝗲𝗳

<tr><td>107<td>lastText<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Return the last node under the specified $𝗻𝗼𝗱𝗲 if it is in the optional and it
is a text node otherwise 𝘂𝗻𝗱𝗲𝗳.

<tr><td>108<td>lastTextMatches<td></b></b><td><p><pre>
   Parameter  Description
1  $match     Regular expression the text must match
2  @context   Optional context of specified  node.
</pre></p>
<td>Return the last node under the specified $𝗻𝗼𝗱𝗲 if: it is a text mode; its text
matches the specified regular expression; the specified $𝗻𝗼𝗱𝗲 is in the optional
specified context. Else return 𝘂𝗻𝗱𝗲𝗳.

<tr><td>109<td>lastUntil<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Context to search for.
</pre></p>
<td>Go last from the specified $𝗻𝗼𝗱𝗲 and continue deeper lastly until a last child
node matches the specified @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 or return 𝘂𝗻𝗱𝗲𝗳 if there is no such node.
Return the last child of the specified $𝗻𝗼𝗱𝗲 if no @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 is specified.

<tr><td>110<td>lastUntilText<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Context to search for.
</pre></p>
<td>Go last from the specified $𝗻𝗼𝗱𝗲 and continue deeper lastly until a last child
text node matches the specified @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 or return 𝘂𝗻𝗱𝗲𝗳 if there is no such
node.

<tr><td>111<td>lastWhile<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Tags to search for.
</pre></p>
<td>Go last from the specified $𝗻𝗼𝗱𝗲 and continue deeper lastly as long as each last
child node matches one of the specified @𝘁𝗮𝗴𝘀. Return the deepest such node
encountered or else return 𝘂𝗻𝗱𝗲𝗳 if no such node is encountered.

<tr><td>112<td>lastn<td></b></b><td><p><pre>
   Parameter  Description
1  $N         Number of times to go last
2  @context   Optional context.
</pre></p>
<td>Return the $𝗻'th last node below the specified $𝗻𝗼𝗱𝗲 optionally checking its
context or 𝘂𝗻𝗱𝗲𝗳 if there is no such node. 𝗹𝗮𝘀𝘁𝗻(𝟭) is identical in effect to
L<last|/last>.

<tr><td>113<td>lineLocation<td></b></b><td><td>Return the line number.column location of this tag in its source file or string
if the source was parsed with the L<line number|/lineNumber> option on.

<tr><td>114<td>location<td></b></b><td><p><pre>
   Parameter  Description
1  $file      Optionally the location of the source.
</pre></p>
<td>Return the line number.column plus file location of this tag in its source file
or string if the source was parsed with the L<line number|/lineNumber> option
on.

<tr><td>115<td>matchNodesByRepresentation<td></b></b><td><td>Creates a hash of arrays of nodes that have the same representation in the
specified $𝘁𝗿𝗲𝗲. Set L<representation|/representationLast> for each node in the
tree before calling this method.

<tr><td>116<td>matchesNextTags<td></b>mnt</b><td><p><pre>
   Parameter  Description
1  @tags      Tags.
</pre></p>
<td>Return the specified b<$node> if the siblings following the specified $𝗻𝗼𝗱𝗲
L<match|/atPositionMatch> the specified <@tags> else return 𝘂𝗻𝗱𝗲𝗳.

<tr><td>117<td>matchesPrevTags<td></b>mpt</b><td><p><pre>
   Parameter  Description
1  @tags      Tags.
</pre></p>
<td>Return the specified b<$node> if the siblings prior to the specified $𝗻𝗼𝗱𝗲
L<match|/atPositionMatch> the specified <@tags> else return 𝘂𝗻𝗱𝗲𝗳.

<tr><td>118<td>mergeDuplicateChildWithParent<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Merge a parent node with its only child if their tags are the same and their
attributes do not collide other than possibly the id in which case the parent id
is used. Any labels on the child are transferred to the parent. The child node
is then unwrapped and the parent node is returned.

<tr><td>119<td>moveEndLast<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context of node.
</pre></p>
<td>Move the end of a $𝗻𝗼𝗱𝗲 to contain all of its following siblings as children.
Returns $𝗻𝗼𝗱𝗲 if the move was made successfully, else confess that the specified
move is impossible.

<tr><td>120<td>moveSelectionAfter<td></b>ma</b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Move the current selection (if there is one) after the specified $𝗻𝗼𝗱𝗲 in the
optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 and return the specified $𝗻𝗼𝗱𝗲 on success else 𝘂𝗻𝗱𝗲𝗳.

<tr><td>121<td>moveSelectionBefore<td></b>mb</b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Move the current selection (if there is one) before the specified $𝗻𝗼𝗱𝗲 in the
optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 and return the specified $𝗻𝗼𝗱𝗲 on success else 𝘂𝗻𝗱𝗲𝗳.

<tr><td>122<td>moveSelectionFirst<td></b>mf</b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Move the current selection (if there is one) so that it is first under the
specified $𝗻𝗼𝗱𝗲 in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 and return the specified $𝗻𝗼𝗱𝗲 on
success else 𝘂𝗻𝗱𝗲𝗳.

<tr><td>123<td>moveSelectionLast<td></b>ml</b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Move the current selection (if there is one) so that it is last under the
specified $𝗻𝗼𝗱𝗲 in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 and return the specified $𝗻𝗼𝗱𝗲 on
success else 𝘂𝗻𝗱𝗲𝗳.

<tr><td>124<td>moveStartFirst<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context of node.
</pre></p>
<td>Move the start of a $𝗻𝗼𝗱𝗲 to contain all of its preceding siblings as children.
Returns $𝗻𝗼𝗱𝗲 if the move was made successfully, else confess that the specified
move is impossible.

<tr><td>125<td>next<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Return the node next to the specified $𝗻𝗼𝗱𝗲, optionally checking the next node's
context. See L<addNext|/addNext> to ensure that an expected node is in position.

<tr><td>126<td>nextIn<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Tags to search for.
</pre></p>
<td>Return the nearest sibling after the specified $𝗻𝗼𝗱𝗲 that matches one of the
named tags or 𝘂𝗻𝗱𝗲𝗳 if there is no such sibling node.

<tr><td>127<td>nextN<td></b></b><td><p><pre>
   Parameter  Description
1  $N         Number of tags to be last
2  @context   Last tags and optional context
</pre></p>
<td>Return $𝗡 nodes as an array starting at $𝗻𝗼𝗱𝗲 inclusive if they match the first
$𝗡 tags of @𝗰𝗼𝗻𝘁𝗲𝘅𝘁. If @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 contains more then $𝗡 entries, the remainder
are checked as the context of the parent of $𝗻𝗼𝗱𝗲. Returns an array of nodes
found or an empty array if the specified $𝗻𝗼𝗱𝗲 does not match these conditions.

<tr><td>128<td>nextOn<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Tags identifying nodes that can be step on to context.
</pre></p>
<td>Step forwards as far as possible from the specified $𝗻𝗼𝗱𝗲 while remaining on
nodes with the specified tags. In scalar context return the last such node
reached or the starting node if no such steps are possible. In array context
return the start node and any following matching nodes.

<tr><td>129<td>nextText<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Return the node after the specified $𝗻𝗼𝗱𝗲 if it is in the optional and it is a
text node otherwise 𝘂𝗻𝗱𝗲𝗳.

<tr><td>130<td>nextTextMatches<td></b></b><td><p><pre>
   Parameter  Description
1  $match     Regular expression the text must match
2  @context   Optional context of specified node.
</pre></p>
<td>Return the next node to the specified $𝗻𝗼𝗱𝗲 if: it is a text mode; its text
matches the specified regular expression; the specified $𝗻𝗼𝗱𝗲 is in the optional
specified context. Else return 𝘂𝗻𝗱𝗲𝗳.

<tr><td>131<td>nextUntil<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Tags to look for.
</pre></p>
<td>Go to the next sibling of the specified $𝗻𝗼𝗱𝗲 and continue forwards until the
tag of a sibling node matches one of the specified @𝘁𝗮𝗴𝘀. Return the matching
sibling node else 𝘂𝗻𝗱𝗲𝗳 if there is no such sibling node.

<tr><td>132<td>nextWhile<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Child tags to avoid.
</pre></p>
<td>Go to the next sibling of the specified $𝗻𝗼𝗱𝗲 and continue forwards while the
tag of each sibling node matches one of the specified @𝘁𝗮𝗴𝘀. Return the first
sibling node that does not match else 𝘂𝗻𝗱𝗲𝗳 if there is no such sibling.

<tr><td>133<td>nextn<td></b></b><td><p><pre>
   Parameter  Description
1  $N         Number of times to go next
2  @context   Optional context.
</pre></p>
<td>Return the $𝗻'th next node after the specified $𝗻𝗼𝗱𝗲 optionally checking its
context or 𝘂𝗻𝗱𝗲𝗳 if there is no such node. 𝗻𝗲𝘅𝘁𝗻(𝟭) is identical in effect to
L<next|/next>.

<tr><td>134<td>not<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Tags not to match
</pre></p>
<td>Return the specified $𝗻𝗼𝗱𝗲 if it does not match any of the specified tags, else
𝘂𝗻𝗱𝗲𝗳

<tr><td>135<td>overAllTags<td></b>oat</b><td><p><pre>
   Parameter  Description
1  @tags      Tags.
</pre></p>
<td>Return the specified b<$node> if all of it's child nodes
L<match|/atPositionMatch> the specified <@tags> else return 𝘂𝗻𝗱𝗲𝗳.

<tr><td>136<td>overFirstTags<td></b>oft</b><td><p><pre>
   Parameter  Description
1  @tags      Tags.
</pre></p>
<td>Return the specified b<$node> if the first of it's child nodes
L<match|/atPositionMatch> the specified <@tags> else return 𝘂𝗻𝗱𝗲𝗳.

<tr><td>137<td>overLastTags<td></b>olt</b><td><p><pre>
   Parameter  Description
1  @tags      Tags.
</pre></p>
<td>Return the specified b<$node> if the last of it's child nodes
L<match|/atPositionMatch> the specified <@tags> else return 𝘂𝗻𝗱𝗲𝗳.

<tr><td>138<td>parentage<td></b>p</b><td><td>Return a reference to an array of the nodes along the path from the root to the
specified $𝗡𝗼𝗱𝗲 inclusive.

<tr><td>139<td>path<td></b></b><td><td>Return a list of strings representing the path to a node from the root of the
parse tree which can then be reused by L<go|/go> to retrieve the node as long as
the structure of the L<parse|/parse> tree has not changed along the path.

<tr><td>140<td>pathString<td></b></b><td><td>Return a string representing the L<path|/path> to the specified $𝗻𝗼𝗱𝗲 from the
root of the parse tree.

<tr><td>141<td>position<td></b></b><td><td>Return the index of the specified $𝗻𝗼𝗱𝗲 in the content of the parent of the
$𝗻𝗼𝗱𝗲.

<tr><td>142<td>present<td></b></b><td><p><pre>
   Parameter  Description
1  @names     Possible tags immediately under the node.
</pre></p>
<td>Return the count of the number of the specified tag types present immediately
under a node or a hash {tag} = count for all the tags present under the node if
no names are specified.

<tr><td>143<td>prettyString<td></b></b><td><p><pre>
   Parameter  Description
1  $depth     Optional depth.
</pre></p>
<td>Return a readable string representing a node of a L<parse|/parse> tree and all
the nodes below it. Or use L<-p|/opString> $node

<tr><td>144<td>prettyStringCDATA<td></b></b><td><p><pre>
   Parameter  Description
1  $depth     Optional depth.
</pre></p>
<td>Return a readable string representing a node of a L<parse|/parse> tree and all
the nodes below it with the text fields wrapped with <CDATA>...</CDATA>.

<tr><td>145<td>prettyStringContent<td></b></b><td><td>Return a readable string representing all the nodes below a node of a
L<parse|/parse> tree.

<tr><td>146<td>prettyStringContentNumbered<td></b></b><td><td>Return a readable string representing all the nodes below a node of a
L<parse|/parse> tree with numbering added.

<tr><td>147<td>prettyStringDitaHeaders<td></b></b><td><td>Return a readable string representing the L<parse|/parse> tree below the
specified $𝗻𝗼𝗱𝗲 with appropriate headers. Or use L<-x|/opString> $node

<tr><td>148<td>prettyStringEnd<td></b></b><td><td>Return a readable string representing a node of a L<parse|/parse> tree and all
the nodes below it as a here document

<tr><td>149<td>prettyStringNumbered<td></b></b><td><p><pre>
   Parameter  Description
1  $depth     Optional depth.
</pre></p>
<td>Return a readable string representing a node of a L<parse|/parse> tree and all
the nodes below it with a L<number|/number> attached to each tag. The node
numbers can then be used as described in L<Order|/Order> to monitor changes to
the L<parse|/parse> tree.

<tr><td>150<td>prev<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Return the node before the specified $𝗻𝗼𝗱𝗲, optionally checking the previous
node's context. See L<addLast|/addLast> to ensure that an expected node is in
position.

<tr><td>151<td>prevIn<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Tags to search for.
</pre></p>
<td>Return the nearest sibling node before the specified $𝗻𝗼𝗱𝗲 which matches one of
the named tags or 𝘂𝗻𝗱𝗲𝗳 if there is no such sibling node.

<tr><td>152<td>prevN<td></b></b><td><p><pre>
   Parameter  Description
1  $N         Number of tags to be first
2  @context   First tags and optional context
</pre></p>
<td>Return $𝗡 nodes as an array ending at $𝗻𝗼𝗱𝗲 inclusive if they match the first $𝗡
tags of @𝗰𝗼𝗻𝘁𝗲𝘅𝘁. If @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 contains more then $𝗡 entries, the remainder are
checked as the context of the parent of $𝗻𝗼𝗱𝗲. Returns an array of nodes found
or an empty array if the specified $𝗻𝗼𝗱𝗲 does not match these conditions.

<tr><td>153<td>prevOn<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Tags identifying nodes that can be step on to context.
</pre></p>
<td>Step backwards as far as possible while remaining on nodes with the specified
tags. In scalar context return the last such node reached or the starting node
if no such steps are possible. In array context return the start node and any
preceding matching nodes.

<tr><td>154<td>prevText<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Return the node before the specified $𝗻𝗼𝗱𝗲 if it is in the optional and it is a
text node otherwise 𝘂𝗻𝗱𝗲𝗳.

<tr><td>155<td>prevTextMatches<td></b></b><td><p><pre>
   Parameter  Description
1  $match     Regular expression the text must match
2  @context   Optional context of specified node.
</pre></p>
<td>Return the previous node to the specified $𝗻𝗼𝗱𝗲 if: it is a text mode; its text
matches the specified regular expression; the specified $𝗻𝗼𝗱𝗲 is in the optional
specified context. Else return 𝘂𝗻𝗱𝗲𝗳.

<tr><td>156<td>prevUntil<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Tags to look for.
</pre></p>
<td>Go to the previous sibling of the specified $𝗻𝗼𝗱𝗲 and continue backwards until
the tag of a sibling node matches one of the specified @𝘁𝗮𝗴𝘀. Return the
matching sibling node else 𝘂𝗻𝗱𝗲𝗳 if there is no such sibling node.

<tr><td>157<td>prevWhile<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Child tags to avoid.
</pre></p>
<td>Go to the previous sibling of the specified $𝗻𝗼𝗱𝗲 and continue backwards while
the tag of each sibling node matches one of the specified @𝘁𝗮𝗴𝘀. Return the
first sibling node that does not match else 𝘂𝗻𝗱𝗲𝗳 if there is no such sibling.

<tr><td>158<td>prevn<td></b></b><td><p><pre>
   Parameter  Description
1  $N         Number of times to go prev
2  @context   Optional context.
</pre></p>
<td>Return the $𝗻'th previous node after the specified $𝗻𝗼𝗱𝗲 optionally checking its
context or 𝘂𝗻𝗱𝗲𝗳 if there is no such node. 𝗽𝗿𝗲𝘃𝗻(𝟭) is identical in effect to
L<prev|/prev>.

<tr><td>159<td>putContentAfter<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context of node.
</pre></p>
<td>Move the content of the specified $𝗻𝗼𝗱𝗲 and place it after that node if that
node is in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁. Return the specified $𝗻𝗼𝗱𝗲 or confess if the
move is not possible.

<tr><td>160<td>putContentBefore<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context of node.
</pre></p>
<td>Move the content of the specified $𝗻𝗼𝗱𝗲 and place it before that node if that
node is in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁. Return the specified $𝗻𝗼𝗱𝗲 or confess if the
move is not possible.

<tr><td>161<td>putFirstAsComment<td></b></b><td><p><pre>
   Parameter  Description
1  $text      Comment
2  @context   Context
</pre></p>
<td>Put a comment first under the specified $𝗻𝗼𝗱𝗲 and return the specified $𝗻𝗼𝗱𝗲.

<tr><td>162<td>putFirstAsText<td></b></b><td><p><pre>
   Parameter  Description
1  $text      The string to be added which might contain unparsed Xml as well as text
2  @context   Optional context.
</pre></p>
<td>Add a new text node first under a parent and return the new text node.

<tr><td>163<td>putLastAsComment<td></b></b><td><p><pre>
   Parameter  Description
1  $text      Comment
2  @context   Context
</pre></p>
<td>Put a comment last under the specified $𝗻𝗼𝗱𝗲 and return the specified $𝗻𝗼𝗱𝗲.

<tr><td>164<td>putLastAsText<td></b></b><td><p><pre>
   Parameter  Description
1  $text      The string to be added which might contain unparsed Xml as well as text
2  @context   Optional context.
</pre></p>
<td>Add a new text node last under a parent and return the new text node.

<tr><td>165<td>putNextAsComment<td></b></b><td><p><pre>
   Parameter  Description
1  $text      Comment
2  @context   Context
</pre></p>
<td>Put a comment after the specified $𝗻𝗼𝗱𝗲 and return the specified $𝗻𝗼𝗱𝗲

<tr><td>166<td>putNextAsText<td></b></b><td><p><pre>
   Parameter  Description
1  $text      The string to be added which might contain unparsed Xml as well as text
2  @context   Optional context.
</pre></p>
<td>Add a new text node following the specified $𝗻𝗼𝗱𝗲 and return the new text node.

<tr><td>167<td>putNextFirstCut<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Context
</pre></p>
<td>Move the specified $𝗻𝗼𝗱𝗲 so it is first in the next node with the optional
context. Return the specified $𝗻𝗼𝗱𝗲 on success else return 𝘂𝗻𝗱𝗲𝗳 on failure.

<tr><td>168<td>putNextFirstCut2<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Context
</pre></p>
<td>Move the specified $𝗻𝗼𝗱𝗲 so it is first in the first node with the specified
optional context of the next node. Return the specified $𝗻𝗼𝗱𝗲 on success else
return 𝘂𝗻𝗱𝗲𝗳 on failure.

<tr><td>169<td>putPrevAsComment<td></b></b><td><p><pre>
   Parameter  Description
1  $text      Comment
2  @context   Context
</pre></p>
<td>Put a comment before the specified $𝗽𝗮𝗿𝗲𝗻𝘁 parentand return the specified $𝗻𝗼𝗱𝗲

<tr><td>170<td>putPrevAsText<td></b></b><td><p><pre>
   Parameter  Description
1  $text      The string to be added which might contain unparsed Xml as well as text
2  @context   Optional context.
</pre></p>
<td>Add a new text node following the specified $𝗻𝗼𝗱𝗲 and return the new text node

<tr><td>171<td>putPrevLastCut<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Context
</pre></p>
<td>Move the specified $𝗻𝗼𝗱𝗲 so it is last in the preceding node with the optional
context. Return the specified $𝗻𝗼𝗱𝗲 on success else return 𝘂𝗻𝗱𝗲𝗳 on failure.

<tr><td>172<td>putPrevLastCut2<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Context
</pre></p>
<td>Move the specified $𝗻𝗼𝗱𝗲 so it is last in the last node with the specified
optional context of the preceding node. Return the specified $𝗻𝗼𝗱𝗲 on success
else return 𝘂𝗻𝗱𝗲𝗳 on failure.

<tr><td>173<td>putSiblingsAfterParent<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context of node.
</pre></p>
<td>Move the specified $𝗻𝗼𝗱𝗲 and its following siblings up one level and place them
after the parent of the specified $𝗻𝗼𝗱𝗲 if the specified $𝗻𝗼𝗱𝗲 is in the
optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁. Return the specified $𝗻𝗼𝗱𝗲 if the move was made successfully,
else confess that the specified move is not possible.

<tr><td>174<td>putSiblingsBeforeParent<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context of node.
</pre></p>
<td>Move the specified $𝗻𝗼𝗱𝗲 and its preceding siblings up one level and place them
before the parent of the specified $𝗻𝗼𝗱𝗲 if the specified $𝗻𝗼𝗱𝗲 is in the
optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁. Return the specified $𝗻𝗼𝗱𝗲 if the move was made successfully,
else confess that the specified move is not possible.

<tr><td>175<td>putSiblingsFirst<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context of node.
</pre></p>
<td>Move the siblings preceding the specified $𝗻𝗼𝗱𝗲 in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 down
one level and place them first under the specified $𝗻𝗼𝗱𝗲 preceding any existing
content. Return the specified $𝗻𝗼𝗱𝗲.

<tr><td>176<td>putSiblingsLast<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context of node.
</pre></p>
<td>Move the siblings following the specified $𝗻𝗼𝗱𝗲 in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 down
one level so that they are last under the specified $𝗻𝗼𝗱𝗲 following any existing
content. Return the specified $𝗻𝗼𝗱𝗲.

<tr><td>177<td>putUpNextCut<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Context
</pre></p>
<td>Move the specified $𝗻𝗼𝗱𝗲 so it is next after its parent. Return the specified
$𝗻𝗼𝗱𝗲 on success else return 𝘂𝗻𝗱𝗲𝗳 on failure.

<tr><td>178<td>putUpNextCut2<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Context
</pre></p>
<td>Move the specified $𝗻𝗼𝗱𝗲 so it is next after its grandparent. Return the
specified $𝗻𝗼𝗱𝗲 on success else return 𝘂𝗻𝗱𝗲𝗳 on failure.

<tr><td>179<td>putUpPrevCut<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Context
</pre></p>
<td>Move the specified $𝗻𝗼𝗱𝗲 so it is prior to its its parent. Return the specified
$𝗻𝗼𝗱𝗲 on success else return 𝘂𝗻𝗱𝗲𝗳 on failure.

<tr><td>180<td>putUpPrevCut2<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Context
</pre></p>
<td>Move the specified $𝗻𝗼𝗱𝗲 so it is prior to its grandparent. Return the specified
$𝗻𝗼𝗱𝗲 on success else return 𝘂𝗻𝗱𝗲𝗳 on failure.

<tr><td>181<td>renameAttr<td></b></b><td><p><pre>
   Parameter  Description
1  $old       Existing attribute name
2  $new       New attribute name
3  @context   Optional context.
</pre></p>
<td>Rename attribute $𝗼𝗹𝗱 to $𝗻𝗲𝘄 in the specified $𝗻𝗼𝗱𝗲 with optional context
@𝗰𝗼𝗻𝘁𝗲𝘅𝘁 regardless of whether attribute $𝗻𝗲𝘄 already exists or not and return
the $𝗻𝗼𝗱𝗲. To prevent inadvertent changes to an existing attribute use
L<changeAttr|/changeAttr>.

<tr><td>182<td>renameAttrValue<td></b></b><td><p><pre>
   Parameter  Description
1  $old       Existing attribute name
2  $oldValue  Existing attribute value
3  $new       New attribute name
4  $newValue  New attribute value
5  @context   Optional context.
</pre></p>
<td>Rename attribute $𝗼𝗹𝗱 to $𝗻𝗲𝘄 with new value $𝗻𝗲𝘄𝗩𝗮𝗹𝘂𝗲 in the specified $𝗻𝗼𝗱𝗲 in
the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 regardless of whether attribute $𝗻𝗲𝘄 already exists or not
as long as the attribute $𝗼𝗹𝗱 has the value $𝗼𝗹𝗱𝗩𝗮𝗹𝘂𝗲. Return the $𝗻𝗼𝗱𝗲
regardless of what changes were made. To prevent inadvertent changes to existing
attributes use L<changeAttrValue|/changeAttrValue>.

<tr><td>183<td>renameAttrXtr<td></b></b><td><p><pre>
   Parameter  Description
1  @attr      Attributes to rename if they exist
</pre></p>
<td>Rename the attributes @𝗮𝘁𝘁𝗿 as far as possible to xtrc or xtrf. Returns an array
of the attributes that could not be so renamed.

<tr><td>184<td>replaceContentWithText<td></b></b><td><p><pre>
   Parameter  Description
1  @text      Texts to form new content
</pre></p>
<td>Replace the content of a node with the specified texts and return the replaced
content

<tr><td>185<td>replaceWithBlank<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Replace a node (and all its content) with a new blank text node and return the
new node.

<tr><td>186<td>replaceWithText<td></b></b><td><p><pre>
   Parameter  Description
1  $text      Text of new node
2  @context   Optional context.
</pre></p>
<td>Replace a node (and all its content) with a new text node and return the new
node.

<tr><td>187<td>set<td></b></b><td><p><pre>
   Parameter  Description
1  %values    (attribute name=>new value)*
</pre></p>
<td>Set the values of some attributes in a node and return the node. Identical in
effect to L<setAttr|/setAttr>.

<tr><td>188<td>setAttr<td></b></b><td><p><pre>
   Parameter  Description
1  %values    (attribute name=>new value)*
</pre></p>
<td>Set the values of some attributes in a node and return the node. Identical in
effect to L<set|/set>.

<tr><td>189<td>setDepthProfile<td></b></b><td><td>Sets the L<depthProfile|/depthProfile> for every node in the specified $𝘁𝗿𝗲𝗲.
The last set L<depthProfile|/depthProfile> for a specific niode can be retrieved
from L<depthProfileLast|/depthProfileLast>.

<tr><td>190<td>setRepresentationAsTagsAndText<td></b></b><td><td>Sets the L<representationLast|/representationLast> for every node in the
specified $𝘁𝗿𝗲𝗲 via L<stringTagsAndText|/stringTagsAndText>.

<tr><td>191<td>setRepresentationAsText<td></b></b><td><td>Sets the L<representationLast|/representationLast> for every node in the
specified $𝘁𝗿𝗲𝗲 via L<stringText|/stringText>.

<tr><td>192<td>setSelectionEnd<td></b>se</b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Set the selection to end at the specified $𝗻𝗼𝗱𝗲 in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 and
return the specified $𝗻𝗼𝗱𝗲 on success else 𝘂𝗻𝗱𝗲𝗳..

<tr><td>193<td>setSelectionStart<td></b>ss</b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Set the selection to start at the specified $𝗻𝗼𝗱𝗲 in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 and
return the specified $𝗻𝗼𝗱𝗲 on success else 𝘂𝗻𝗱𝗲𝗳..

<tr><td>194<td>splitAfter<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Split the parent node into two identical nodes except all the siblings after the
specified $𝗻𝗼𝗱𝗲 are retained by the existing parent while any preceding siblings
become siblings of the new parent node which is placed before the existing
parent. The new parent is returned

<tr><td>195<td>splitAndWrapFromStart<td></b></b><td><p><pre>
   Parameter    Description
1  $split       Tag of splitting nodes
2  $wrap        Tag for wrapping node
3  %attributes  Attributes for wrapping nodes
</pre></p>
<td>Split the child nodes of $𝗽𝗮𝗿𝗲𝗻𝘁 on the child nodes with a tag of $𝘀𝗽𝗹𝗶𝘁
wrapping the splitting node and all preceding nodes from the previous splitting
node or the start with the specified $𝘄𝗿𝗮𝗽ping node with optional %𝗮𝘁𝘁𝗿𝗶𝗯𝘂𝘁𝗲𝘀.
Returns an array of the wrapping nodes created.

<tr><td>196<td>splitAndWrapToEnd<td></b></b><td><p><pre>
   Parameter    Description
1  $split       Tag of splitting nodes
2  $wrap        Tag for wrapping node
3  %attributes  Attributes for wrapping nodes
</pre></p>
<td>Split the sequence of child nodes under the specified $𝗽𝗮𝗿𝗲𝗻𝘁 node on those
child nodes whose tag value is $𝘀𝗽𝗹𝗶𝘁 wrapping the splitting node and all
following nodes up until the next splitting node or the end of the sequence with
newly created nodes whose tag is $𝘄𝗿𝗮𝗽 with optional attributes %𝗮𝘁𝘁𝗿𝗶𝗯𝘂𝘁𝗲𝘀.
Returns an array of the wrapping nodes so created.

<tr><td>197<td>splitBefore<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Split the parent node into two identical nodes except all the siblings before
the specified $𝗻𝗼𝗱𝗲 are retained by the existing parent while any following
siblings become siblings of the new parent node which is placed after the
existing parent. The new parent is returned.

<tr><td>198<td>splitParentAfter<td></b>spa</b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Finish and restart the parent of the specified $𝗻𝗼𝗱𝗲 just after the specified
$𝗻𝗼𝗱𝗲 and return the newly created parent node on success or 𝘂𝗻𝗱𝗲𝗳 on failure.

<tr><td>199<td>splitParentBefore<td></b>spb</b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Finish and restart the parent of the specified $𝗻𝗼𝗱𝗲 just before the specified
$𝗻𝗼𝗱𝗲 and return the newly created parent node on success or 𝘂𝗻𝗱𝗲𝗳 on failure.

<tr><td>200<td>string<td></b></b><td><td>Return a dense string representing a node of a L<parse|/parse> tree and all the
nodes below it. Or use L<-s|/opString> $𝗻𝗼𝗱𝗲.

<tr><td>201<td>stringContent<td></b></b><td><td>Return a string representing all the nodes below a node of a L<parse|/parse>
tree.

<tr><td>202<td>stringMd5Sum<td></b></b><td><td>Return the md5 sum of the dense L<string|/string> representing a node of a
L<parse|/parse> tree minus its L<id> and all the nodes below it. Or use
L<-g|/opString> $𝗻𝗼𝗱𝗲. The id of the top most node is not included in the md5sum
to equate parse trees that would otherwise only differ by the arbitrary root
node id value.

<tr><td>203<td>stringNode<td></b></b><td><td>Return a string representing the specified $𝗻𝗼𝗱𝗲 showing the attributes, labels
and node number.

<tr><td>204<td>stringQuoted<td></b></b><td><td>Return a quoted string representing a L<parse|/parse> tree a node of a
L<parse|/parse> tree and all the nodes below it. Or use L<-o|/opString> $𝗻𝗼𝗱𝗲.

<tr><td>205<td>stringTagsAndText<td></b></b><td><td>Return a string showing just the tags and text at and below a specified $𝗻𝗼𝗱𝗲.

<tr><td>206<td>stringText<td></b></b><td><td>Return a string showing just the text of the text nodes (separated by blanks) at
and below a specified $𝗻𝗼𝗱𝗲.

<tr><td>207<td>swapFirstSibling<td></b>sfs</b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Swap $𝗻𝗼𝗱𝗲 with its first sibling node and return $𝗻𝗼𝗱𝗲.

<tr><td>208<td>swapLastSibling<td></b>sls</b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Swap $𝗻𝗼𝗱𝗲 with its last sibling node and return $𝗻𝗼𝗱𝗲.

<tr><td>209<td>swapNext<td></b>sn</b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Swap $𝗻𝗼𝗱𝗲 with its following node if $$𝗻𝗼𝗱𝗲 matches the first element of the
specified context and the next node matches the rest. Return the node that
originally followed $𝗻𝗼𝗱𝗲 on success or 𝘂𝗻𝗱𝗲𝗳 on failure.

<tr><td>210<td>swapPrev<td></b>sp</b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Swap $𝗻𝗼𝗱𝗲 with its preceding node if $$𝗻𝗼𝗱𝗲 matches the first element of the
specified context and the previous node matches the rest. Return the node that
originally followed $𝗻𝗼𝗱𝗲 on success or 𝘂𝗻𝗱𝗲𝗳 on failure.

<tr><td>211<td>swapTagWithParent<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Swap the tags of the specified $𝗻𝗼𝗱𝗲 and its parent optionally checking that the
$𝗻𝗼𝗱𝗲 is in the specified context and return (parent of $𝗻𝗼𝗱𝗲, $𝗻𝗼𝗱𝗲) or () if
there is no such parent node.

<tr><td>212<td>unwrap<td></b>u</b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Unwrap the specified $𝗻𝗼𝗱𝗲 by inserting its content into its parent at the point
containing the specified $𝗻𝗼𝗱𝗲 and return the parent node. Returns 𝘂𝗻𝗱𝗲𝗳 if an
attempt is made to unwrap a text node. Confesses if an attempt is made to unwrap
the root node.

<tr><td>213<td>unwrapContentsKeepingText<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context.
</pre></p>
<td>Unwrap all the non text nodes below the specified $𝗻𝗼𝗱𝗲 adding a leading and a
trailing space to prevent unwrapped content from being elided and return the
specified $𝗻𝗼𝗱𝗲 else 𝘂𝗻𝗱𝗲𝗳 if not in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁.

<tr><td>214<td>unwrapOnlyChild<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Unwrap the specified $𝗻𝗼𝗱𝗲 in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 when the $𝗻𝗼𝗱𝗲 is the only
child of its parent. Return the specified $𝗻𝗼𝗱𝗲 regardless unless the node is
not in the optional context in which case return 𝘂𝗻𝗱𝗲𝗳.

<tr><td>215<td>unwrapParentOfOnlyChild<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Unwrap the parent of the specified $𝗻𝗼𝗱𝗲 in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 when the $𝗻𝗼𝗱𝗲
is the only child of its parent. Return the specified $𝗻𝗼𝗱𝗲 regardless unless
the node is not in the optional context in which case return 𝘂𝗻𝗱𝗲𝗳.

<tr><td>216<td>unwrapParentsWithSingleChild<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Unwrap any immediate ancestors of the specified $𝗻𝗼𝗱𝗲 in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁
which have only a single child and return the specified $𝗻𝗼𝗱𝗲 regardless unless
the node is not in the optional context in which case return 𝘂𝗻𝗱𝗲𝗳.

<tr><td>217<td>up<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context of parent.
</pre></p>
<td>Return the parent of the current node optionally checking the parent node's
context or return 𝘂𝗻𝗱𝗲𝗳 if the specified $𝗻𝗼𝗱𝗲 is the root of the
L<parse|/parse> tree. See L<addWrapWith|/addWrapWith> to ensure that an expected
node is in position.

<tr><td>218<td>upThru<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Tags identifying path.
</pre></p>
<td>Go up the specified path from the specified $𝗻𝗼𝗱𝗲 returning the node at the top
or 𝘂𝗻𝗱𝗲𝗳 if no such node exists.

<tr><td>219<td>upUntil<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Context.
</pre></p>
<td>Return the nearest ancestral node to the specified $𝗻𝗼𝗱𝗲 that matches the
specified @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 or 𝘂𝗻𝗱𝗲𝗳 if there is no such node. Returns the parent node of
the specified $𝗻𝗼𝗱𝗲 if no @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 is specified.

<tr><td>220<td>upUntilFirst<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Move up from the specified $𝗻𝗼𝗱𝗲 until we reach the root or a first node.

<tr><td>221<td>upUntilIsOnlyChild<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Move up from the specified $𝗻𝗼𝗱𝗲 until we reach the root or another only child.

<tr><td>222<td>upUntilLast<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Move up from the specified $𝗻𝗼𝗱𝗲 until we reach the root or a last node.

<tr><td>223<td>upWhile<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Tags to match
</pre></p>
<td>Go up one level from the specified $𝗻𝗼𝗱𝗲 and then continue up while each node
matches on of the specified <@tags>. Return the last matching node or 𝘂𝗻𝗱𝗲𝗳 if
no node matched any of the specified @𝘁𝗮𝗴𝘀.

<tr><td>224<td>upWhileFirst<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Move up from the specified $𝗻𝗼𝗱𝗲 as long as each node is a first node or return
𝘂𝗻𝗱𝗲𝗳 if the specified $𝗻𝗼𝗱𝗲 is not a first node.

<tr><td>225<td>upWhileIsOnlyChild<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Move up from the specified $𝗻𝗼𝗱𝗲 as long as each node is an only child or return
𝘂𝗻𝗱𝗲𝗳 if the specified $𝗻𝗼𝗱𝗲 is not an only child.

<tr><td>226<td>upWhileLast<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Move up from the specified $𝗻𝗼𝗱𝗲 as long as each node is a last node or return
𝘂𝗻𝗱𝗲𝗳 if the specified $𝗻𝗼𝗱𝗲 is not a last node.

<tr><td>227<td>upn<td></b></b><td><p><pre>
   Parameter  Description
1  $levels    Number of levels to go up
2  @context   Optional context.
</pre></p>
<td>Go up the specified number of levels from the specified $𝗻𝗼𝗱𝗲 and return the
node reached optionally checking the parent node's context or 𝘂𝗻𝗱𝗲𝗳 if there is
no such node.L<upn(1)|/up> is identical in effect to L<up|/up>. Or use
L<ancestry|/ancestry> to get the path back to the root node.

<tr><td>228<td>wrapContentWith<td></b>wcw</b><td><p><pre>
   Parameter    Description
1  $tag         Tag for new node
2  %attributes  Attributes for new node.
</pre></p>
<td>Wrap the content of the specified $𝗻𝗼𝗱𝗲 in a new node created from the specified
$𝘁𝗮𝗴 and %𝗮𝘁𝘁𝗿𝗶𝗯𝘂𝘁𝗲𝘀: the specified $𝗻𝗼𝗱𝗲 then contains just the new node which,
in turn, contains all the content of the specified $𝗻𝗼𝗱𝗲.\mReturns the new
wrapping node.

<tr><td>229<td>wrapDown<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Tags to wrap the node with - with the uppermost tag rightmost.
</pre></p>
<td>Wrap the content of the specified $𝗻𝗼𝗱𝗲 in a sequence of new nodes forcing the
original node up - deepening the L<parse|/parse> tree - return the array of
wrapping nodes if want array else the last wrapping node.

<tr><td>230<td>wrapFirstN<td></b></b><td><p><pre>
   Parameter  Description
1  $N         Number of nodes to wrap
2  $tag       Wrapping tag
3  @context   Optional context
</pre></p>
<td>Wrap the first $𝗡 nodes under this $𝗻𝗼𝗱𝗲 in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 with the
specified $𝘁𝗮𝗴 and return the new node or 𝘂𝗻𝗱𝗲𝗳 if there are no such nodes to
wrap.

<tr><td>231<td>wrapFromFirst<td></b></b><td><p><pre>
   Parameter    Description
1  $tag         Tag for new node
2  %attributes  Attributes for new node.
</pre></p>
<td>Wrap this $𝗻𝗼𝗱𝗲 and any preceding siblings with a new node created from the
specified $𝘁𝗮𝗴 and %𝗮𝘁𝘁𝗿𝗶𝗯𝘂𝘁𝗲𝘀 and return the wrapping node.

<tr><td>232<td>wrapFromFirstOrLastIn<td></b></b><td><p><pre>
   Parameter  Description
1  $tag       Wrapping tag
2  @targets   Tags at which to end the wrap.
</pre></p>
<td>Wrap inclusively from the first sibling node to the specified $𝗻𝗼𝗱𝗲 or from the
last prior sibling node whose tag matches one of the tags in @𝘁𝗮𝗿𝗴𝗲𝘁𝘀 to the
specified $𝗻𝗼𝗱𝗲 using $𝘁𝗮𝗴 as the tag of the wrapping node and return the
wrapping node.

<tr><td>233<td>wrapLastN<td></b></b><td><p><pre>
   Parameter  Description
1  $N         Number of nodes to wrap
2  $tag       Wrapping tag
3  @context   Optional context
</pre></p>
<td>Wrap the last $𝗡 nodes under this $𝗻𝗼𝗱𝗲 in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 with the
specified $𝘁𝗮𝗴 and return the new node or 𝘂𝗻𝗱𝗲𝗳 if there are no such nodes to
wrap.

<tr><td>234<td>wrapNext<td></b></b><td><p><pre>
   Parameter  Description
1  $tag       Tag for new node
2  @context   Context.
</pre></p>
<td>Wrap this $𝗻𝗼𝗱𝗲 and the following sibling with a new node created from the
specified $𝘁𝗮𝗴. If the optional context is specified then it should match the
first node, next node and the context of the parent of the $𝗻𝗼𝗱𝗲 as far as it is
specified. Return the new node created or 𝘂𝗻𝗱𝗲𝗳 on failure.

<tr><td>235<td>wrapNextN<td></b></b><td><p><pre>
   Parameter  Description
1  $N         Number of nodes to wrap
2  $tag       Wrapping tag
3  @context   Optional context
</pre></p>
<td>Wrap this $𝗻𝗼𝗱𝗲and the next $𝗡-1 nodes following this $𝗻𝗼𝗱𝗲 in the optional
@𝗰𝗼𝗻𝘁𝗲𝘅𝘁 with the specified $𝘁𝗮𝗴 and return the new node or 𝘂𝗻𝗱𝗲𝗳 if there are
no such nodes to wrap.

<tr><td>236<td>wrapPrev<td></b></b><td><p><pre>
   Parameter  Description
1  $tag       Tag for new node
2  @context   Context.
</pre></p>
<td>Wrap this $𝗻𝗼𝗱𝗲 and the preceding sibling with a new node created from the
specified $𝘁𝗮𝗴. If the optional context is specified then it should match the
first node, previous node and the context of the parent of the $𝗻𝗼𝗱𝗲 as far as
it is specified. Return the new node created or 𝘂𝗻𝗱𝗲𝗳 on failure.

<tr><td>237<td>wrapPrevN<td></b></b><td><p><pre>
   Parameter  Description
1  $N         Number of nodes to wrap
2  $tag       Wrapping tag
3  @context   Optional context
</pre></p>
<td>Wrap this $𝗻𝗼𝗱𝗲and the previous $𝗡-1 nodes following this $𝗻𝗼𝗱𝗲 in the optional
@𝗰𝗼𝗻𝘁𝗲𝘅𝘁 with the specified $𝘁𝗮𝗴 and return the new node or 𝘂𝗻𝗱𝗲𝗳 if there are
no such nodes to wrap.

<tr><td>238<td>wrapRuns<td></b></b><td><p><pre>
   Parameter  Description
1  $wrap      Tag of wrapping node
2  @context   Optional context.
</pre></p>
<td>Wrap consecutive runs of children under the specified parent $𝗻𝗼𝗱𝗲 that are not
already wrapped with $𝘄𝗿𝗮𝗽. Returns an array of any wrapping nodes created.
Returns () if the specified $𝗻𝗼𝗱𝗲 is not in the optional @𝗰𝗼𝗻𝘁𝗲𝘅𝘁.

<tr><td>239<td>wrapSiblingsAfter<td></b></b><td><p><pre>
   Parameter    Description
1  $tag         Tag for new node
2  %attributes  Attributes for new node.
</pre></p>
<td>If there are any siblings after the specified $𝗻𝗼𝗱𝗲, wrap them with a new node
created from the specified $𝘁𝗮𝗴 and %𝗮𝘁𝘁𝗿𝗶𝗯𝘂𝘁𝗲𝘀 and return the newly created
node.\mReturns 𝘂𝗻𝗱𝗲𝗳 if the specified $𝗻𝗼𝗱𝗲 is the last node under its parent.

<tr><td>240<td>wrapSiblingsBefore<td></b></b><td><p><pre>
   Parameter    Description
1  $tag         Tag for new node
2  %attributes  Attributes for new node.
</pre></p>
<td>If there are any siblings before the specified $𝗻𝗼𝗱𝗲, wrap them with a new node
created from the specified $𝘁𝗮𝗴 and %𝗮𝘁𝘁𝗿𝗶𝗯𝘂𝘁𝗲𝘀 and return the newly created
node.\mReturns 𝘂𝗻𝗱𝗲𝗳 if the specified $𝗻𝗼𝗱𝗲 is the first node under its parent.

<tr><td>241<td>wrapToLast<td></b></b><td><p><pre>
   Parameter    Description
1  $tag         Tag for new node
2  %attributes  Attributes for new node.
</pre></p>
<td>Wrap this $𝗻𝗼𝗱𝗲 and any following siblings with a new node created from the
specified $𝘁𝗮𝗴 and %𝗮𝘁𝘁𝗿𝗶𝗯𝘂𝘁𝗲𝘀 and return the wrapping node.

<tr><td>242<td>wrapToLastOrFirstIn<td></b></b><td><p><pre>
   Parameter  Description
1  $tag       Wrapping tag
2  @targets   Tags at which to end the wrap.
</pre></p>
<td>Wrap this $𝗻𝗼𝗱𝗲 and any following siblings, up to and including the first
sibling that matches one of the specified @𝗳𝗶𝗻𝗱 nodes or all following siblings
if no such match occurs, with a new node created from the specified $𝘁𝗮𝗴 and
return the new wrapping node.

<tr><td>243<td>wrapUp<td></b></b><td><p><pre>
   Parameter  Description
1  @tags      Tags to wrap the node with - with the uppermost tag rightmost.
</pre></p>
<td>Wrap the specified $𝗻𝗼𝗱𝗲 in a sequence of new nodes created from the specified
@𝘁𝗮𝗴𝘀 forcing the original node down - deepening the L<parse|/parse> tree -
return the array of wrapping nodes if want array else the last wrapping node.

<tr><td>244<td>wrapWith<td></b></b><td><p><pre>
   Parameter    Description
1  $tag         Tag for the new node or tag
2  %attributes  Attributes for the new node or tag.
</pre></p>
<td>Wrap the specified $𝗻𝗼𝗱𝗲 in a new node created from the specified $𝘁𝗮𝗴 and
%𝗮𝘁𝘁𝗿𝗶𝗯𝘂𝘁𝗲𝘀 forcing the specified $𝗻𝗼𝗱𝗲 down - deepening the L<parse|/parse>
tree - return the new wrapping node. See L<addWrapWith|/addWrapWith> to perform
this operation conditionally.

<tr><td>245<td>wrapWithAll<td></b>ww</b><td><p><pre>
   Parameter  Description
1  @tags      Tags
</pre></p>
<td>Wrap this $𝗻𝗼𝗱𝗲 wrapped with the specified @𝘁𝗮𝗴𝘀 and return the last wrapping
node.

<tr><td>246<td>wrapWithN<td></b></b><td><p><pre>
   Parameter  Description
1  $N         Number of tags wrapping tags
2  @context   Tags and optional context
</pre></p>
<td>Wrap this $𝗻𝗼𝗱𝗲 with the first $𝗡 elements of @𝗰𝗼𝗻𝘁𝗲𝘅𝘁. If @𝗰𝗼𝗻𝘁𝗲𝘅𝘁 contains
more then $𝗡 entries, the remainder are checked as the context of $𝗻𝗼𝗱𝗲. Returns
the upper most wrapping node or 𝘂𝗻𝗱𝗲𝗳 if the specified $𝗻𝗼𝗱𝗲 does not match
these conditions.

<tr><td>247<td>zipDown<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Push a node down as many levels as possible by making it a child of a node
formed by merging the preceding and following siblings if they have the same
tag.

<tr><td>248<td>zipDownOnce<td></b></b><td><p><pre>
   Parameter  Description
1  @context   Optional context
</pre></p>
<td>Push a node down one level by making it a child of a node formed by merging the
preceding and following siblings if they have the same tag.

</table>
</div>
